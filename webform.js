(()=>{"use strict";var e,v={},g={};function r(e){var n=g[e];if(void 0!==n)return n.exports;var t=g[e]={id:e,loaded:!1,exports:{}};return v[e].call(t.exports,t,t.exports,r),t.loaded=!0,t.exports}r.m=v,e=[],r.O=(n,t,o,s)=>{if(!t){var a=1/0;for(i=0;i<e.length;i++){for(var[t,o,s]=e[i],d=!0,l=0;l<t.length;l++)(!1&s||a>=s)&&Object.keys(r.O).every(b=>r.O[b](t[l]))?t.splice(l--,1):(d=!1,s<a&&(a=s));if(d){e.splice(i--,1);var f=o();void 0!==f&&(n=f)}}return n}s=s||0;for(var i=e.length;i>0&&e[i-1][2]>s;i--)e[i]=e[i-1];e[i]=[t,o,s]},r.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return r.d(n,{a:n}),n},r.d=(e,n)=>{for(var t in n)r.o(n,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((n,t)=>(r.f[t](e,n),n),[])),r.u=e=>e+".js",r.miniCssF=e=>"styles.css",r.hmd=e=>((e=Object.create(e)).children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e),r.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),(()=>{var e={},n="elements:";r.l=(t,o,s,i)=>{if(e[t])e[t].push(o);else{var a,d;if(void 0!==s)for(var l=document.getElementsByTagName("script"),f=0;f<l.length;f++){var u=l[f];if(u.getAttribute("src")==t||u.getAttribute("data-webpack")==n+s){a=u;break}}a||(d=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",n+s),a.src=r.tu(t)),e[t]=[o];var c=(h,b)=>{a.onerror=a.onload=null,clearTimeout(p);var m=e[t];if(delete e[t],a.parentNode&&a.parentNode.removeChild(a),m&&m.forEach(y=>y(b)),h)return h(b)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=c.bind(null,a.onerror),a.onload=c.bind(null,a.onload),d&&document.head.appendChild(a)}}})(),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;r.tu=n=>(void 0===e&&(e={createScriptURL:t=>t},"undefined"!=typeof trustedTypes&&trustedTypes.createPolicy&&(e=trustedTypes.createPolicy("angular#bundler",e))),e.createScriptURL(n))})(),r.p="",(()=>{var e={666:0};r.f.j=(o,s)=>{var i=r.o(e,o)?e[o]:void 0;if(0!==i)if(i)s.push(i[2]);else if(666!=o){var a=new Promise((u,c)=>i=e[o]=[u,c]);s.push(i[2]=a);var d=r.p+r.u(o),l=new Error;r.l(d,u=>{if(r.o(e,o)&&(0!==(i=e[o])&&(e[o]=void 0),i)){var c=u&&("load"===u.type?"missing":u.type),p=u&&u.target&&u.target.src;l.message="Loading chunk "+o+" failed.\n("+c+": "+p+")",l.name="ChunkLoadError",l.type=c,l.request=p,i[1](l)}},"chunk-"+o,o)}else e[o]=0},r.O.j=o=>0===e[o];var n=(o,s)=>{var l,f,[i,a,d]=s,u=0;for(l in a)r.o(a,l)&&(r.m[l]=a[l]);if(d)var c=d(r);for(o&&o(s);u<i.length;u++)r.o(e,f=i[u])&&e[f]&&e[f][0](),e[i[u]]=0;return r.O(c)},t=self.webpackChunkelements=self.webpackChunkelements||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})()})();
(self.webpackChunkelements=self.webpackChunkelements||[]).push([[429],{142:()=>{!function(ne,ve){"use strict";function Ze(){var t=pt.splice(0,pt.length);for($=0;t.length;)t.shift().call(null,t.shift())}function Ue(t,s){for(var c=0,T=t.length;c<T;c++)Pe(t[c],s)}function ht(t){return function(s){I(s)&&(Pe(s,t),Ie.length&&Ue(s.querySelectorAll(Ie),t))}}function vt(t){var s=F.call(t,"is"),c=t.nodeName.toUpperCase(),T=qe.call(Ge,s?Ye+s.toUpperCase():Oe+c);return s&&-1<T&&!ce(c,s)?-1:T}function ce(t,s){return-1<Ie.indexOf(t+'[is="'+s+'"]')}function ft(t){var s=t.currentTarget,c=t.attrChange,T=t.attrName,l=t.target,a=t[st]||2,f=t[at]||3;!o||l&&l!==s||!s[Xe]||"style"===T||t.prevValue===t.newValue&&(""!==t.newValue||c!==a&&c!==f)||s[Xe](T,c===a?null:t.prevValue,c===f?null:t.newValue)}function Mt(t){var s=ht(t);return function(c){pt.push(s,c.target),$&&clearTimeout($),$=setTimeout(Ze,1)}}function xe(t){N&&(N=!1,t.currentTarget.removeEventListener(mt,xe)),Ie.length&&Ue((t.target||G).querySelectorAll(Ie),t.detail===We?We:$e),ee&&function(){for(var t,s=0,c=b.length;s<c;s++)lt.contains(t=b[s])||(c--,b.splice(s--,1),Pe(t,We))}()}function Me(t,s){var c=this;se.call(c,t,s),Se.call(c,{target:c})}function De(t,s,c){var T=s.apply(t,c),l=vt(T);return-1<l&&Le(T,_e[l]),c.pop()&&Ie.length&&function(t){for(var s,c=0,T=t.length;c<T;c++)Le(s=t[c],_e[vt(s)])}(T.querySelectorAll(Ie)),T}function it(t,s){D(t,s),tt?tt.observe(t,de):(U&&(t.setAttribute=Me,t[Ae]=ze(t),t[Be](ct,Se)),t[Be](Ve,ft)),t[oe]&&o&&(t.created=!0,t[oe](),t.created=!1)}function Y(t){throw new Error("A "+t+" type is already registered")}function Pe(t,s){var c,T,l=vt(t);-1<l&&!K.call(t,"TEMPLATE")&&(Fe(t,_e[l]),l=0,s!==$e||t[$e]?s!==We||t[We]||(t[$e]=!1,t[We]=!0,T="disconnected",l=1):(t[We]=!1,t[$e]=!0,T="connected",l=1,ee&&qe.call(b,t)<0&&b.push(t)),l&&(c=t[s+Ee]||t[T+Ee])&&c.call(t))}function je(){}function Q(t,s,c){var T=c&&c[fe]||"",l=s.prototype,a=w(l),f=s.observedAttributes||Je,v={prototype:a};z(a,oe,{value:function(){if(m)m=!1;else if(!this[Ct]){this[Ct]=!0,new s(this),l[oe]&&l[oe].call(this);var _=g[O.get(s)];(!i||_.create.length>1)&&ge(this)}}}),z(a,Xe,{value:function(_){-1<qe.call(f,_)&&l[Xe]&&l[Xe].apply(this,arguments)}}),l[Te]&&z(a,wt,{value:l[Te]}),l[Ke]&&z(a,ke,{value:l[Ke]}),T&&(v[fe]=T),t=t.toUpperCase(),g[t]={constructor:s,create:T?[T,R(t)]:[t]},O.set(s,t),G[be](t.toLowerCase(),v),_t(t),y[t].r()}function Nt(t){var s=g[t.toUpperCase()];return s&&s.constructor}function It(t){return"string"==typeof t?t:t&&t.is||""}function ge(t){for(var s,c=t[Xe],T=c?t.attributes:Je,l=T.length;l--;)c.call(t,(s=T[l]).name||s.nodeName,null,s.value||s.nodeValue)}function _t(t){return(t=t.toUpperCase())in y||(y[t]={},y[t].p=new h(function(s){y[t].r=s})),y[t].p}function yt(){Qe&&delete ne.customElements,ot(ne,"customElements",{configurable:!0,value:new je}),ot(ne,"CustomElementRegistry",{configurable:!0,value:je});for(var t=dt.get(/^HTML[A-Z]*[a-z]/),s=t.length;s--;function(c){var T=ne[c];if(T){ne[c]=function(l){var a,f;return l||(l=this),l[Ct]||(m=!0,a=g[O.get(l.constructor)],(l=(f=i&&1===a.create.length)?Reflect.construct(T,Je,a.constructor):G.createElement.apply(G,a.create))[Ct]=!0,m=!1,f||ge(l)),l},ne[c].prototype=T.prototype;try{T.prototype.constructor=ne[c]}catch(l){ot(T,Ct,{value:ne[c]})}}}(t[s]));G.createElement=function(c,T){var l=It(T);return l?H.call(this,c,R(l)):H.call(this,c)},we||(W=!0,G[be](""))}var G=ne.document,he=ne.Object,dt=function(t){var s,c,T,l,a=/^[A-Z]+[a-z]/,v=function(k,C){(C=C.toLowerCase())in _||(_[k]=(_[k]||[]).concat(C),_[C]=_[C.toUpperCase()]=k)},_=(he.create||he)(null),P={};for(c in t)for(l in t[c])for(_[l]=T=t[c][l],s=0;s<T.length;s++)_[T[s].toLowerCase()]=_[T[s].toUpperCase()]=l;return P.get=function(k){return"string"==typeof k?_[k]||(a.test(k)?[]:""):function(k){var C,L=[];for(C in _)k.test(C)&&L.push(C);return L}(k)},P.set=function(k,C){return a.test(k)?v(k,C):v(C,k),P},P}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof ve&&(ve={type:ve||"auto"});var pt,Se,et,ze,tt,Ne,Fe,Le,nt,t,s,c,T,l,be="registerElement",Ot=1e5*ne.Math.random()>>0,Ae="__"+be+Ot,Be="addEventListener",$e="attached",Ee="Callback",We="detached",fe="extends",Xe="attributeChanged"+Ee,wt=$e+Ee,Te="connected"+Ee,Ke="disconnected"+Ee,oe="created"+Ee,ke=We+Ee,st="ADDITION",at="REMOVAL",Ve="DOMAttrModified",mt="DOMContentLoaded",ct="DOMSubtreeModified",Oe="<",Ye="=",Dt=/^[A-Z][._A-Z0-9]*-[-._A-Z0-9]*$/,St=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],Ge=[],_e=[],Ie="",lt=G.documentElement,qe=Ge.indexOf||function(t){for(var s=this.length;s--&&this[s]!==t;);return s},Pt=he.prototype,rt=Pt.hasOwnProperty,bt=Pt.isPrototypeOf,ot=he.defineProperty,Je=[],Tt=he.getOwnPropertyDescriptor,re=he.getOwnPropertyNames,Lt=he.getPrototypeOf,kt=he.setPrototypeOf,ut=!!he.__proto__,Ct="__dreCEv1",Qe=ne.customElements,i=!/^force/.test(ve.type)&&!!(Qe&&Qe.define&&Qe.get&&Qe.whenDefined),u=he.create||he,p=ne.Map||function(){var t,s=[],c=[];return{get:function(T){return c[qe.call(s,T)]},set:function(T,l){(t=qe.call(s,T))<0?c[s.push(T)-1]=l:c[t]=l}}},h=ne.Promise||function(t){function s(a){for(T=!0;c.length;)c.shift()(a)}var c=[],T=!1,l={catch:function(){return l},then:function(a){return c.push(a),T&&setTimeout(s,1),l}};return t(s),l},m=!1,g=u(null),y=u(null),O=new p,R=function(t){return t.toLowerCase()},w=he.create||function t(s){return s?(t.prototype=s,new t):this},D=kt||(ut?function(t,s){return t.__proto__=s,t}:re&&Tt?function(){function t(s,c){for(var T,l=re(c),a=0,f=l.length;a<f;a++)rt.call(s,T=l[a])||ot(s,T,Tt(c,T))}return function(s,c){do{t(s,c)}while((c=Lt(c))&&!bt.call(c,s));return s}}():function(t,s){for(var c in s)t[c]=s[c];return t}),x=ne.MutationObserver||ne.WebKitMutationObserver,V=ne.HTMLAnchorElement,A=(ne.HTMLElement||ne.Element||ne.Node).prototype,ee=!bt.call(A,lt),z=ee?function(t,s,c){return t[s]=c.value,t}:ot,I=ee?function(t){return 1===t.nodeType}:function(t){return bt.call(A,t)},b=ee&&[],q=A.attachShadow,J=A.cloneNode,K=A.closest||function(t){for(var s=this;s&&s.nodeName!==t;)s=s.parentNode;return s},ie=A.dispatchEvent,F=A.getAttribute,le=A.hasAttribute,B=A.removeAttribute,se=A.setAttribute,S=G.createElement,j=G.importNode,H=S,de=x&&{attributes:!0,characterData:!0,attributeOldValue:!0},Re=x||function(t){U=!1,lt.removeEventListener(Ve,Re)},$=0,we=be in G&&!/^force-all/.test(ve.type),Ce=!0,W=!1,U=!0,N=!0,o=!0;if(x&&((nt=G.createElement("div")).innerHTML="<div><div></div></div>",new x(function(t,s){if(t[0]&&"childList"==t[0].type&&!t[0].removedNodes[0].childNodes.length){var c=(nt=Tt(A,"innerHTML"))&&nt.set;c&&ot(A,"innerHTML",{set:function(T){for(;this.lastChild;)this.removeChild(this.lastChild);c.call(this,T)}})}s.disconnect(),nt=null}).observe(nt,{childList:!0,subtree:!0}),nt.innerHTML=""),we||(kt||ut?(Fe=function(t,s){bt.call(s,t)||it(t,s)},Le=it):Le=Fe=function(t,s){t[Ae]||(t[Ae]=he(!0),it(t,s))},ee?(U=!1,t=Tt(A,Be),s=t.value,c=function(a){var f=new CustomEvent(Ve,{bubbles:!0});f.attrName=a,f.prevValue=F.call(this,a),f.newValue=null,f[at]=f.attrChange=2,B.call(this,a),ie.call(this,f)},T=function(a,f){var v=le.call(this,a),_=v&&F.call(this,a),P=new CustomEvent(Ve,{bubbles:!0});se.call(this,a,f),P.attrName=a,P.prevValue=v?_:null,P.newValue=f,v?P.MODIFICATION=P.attrChange=1:P[st]=P.attrChange=0,ie.call(this,P)},l=function(a){var f,v=a.currentTarget,_=v[Ae],P=a.propertyName;_.hasOwnProperty(P)&&(_=_[P],(f=new CustomEvent(Ve,{bubbles:!0})).attrName=_.name,f.prevValue=_.value||null,f.newValue=_.value=v[P]||null,null==f.prevValue?f[st]=f.attrChange=0:f.MODIFICATION=f.attrChange=1,ie.call(v,f))},t.value=function(a,f,v){a===Ve&&this[Xe]&&this.setAttribute!==T&&(this[Ae]={className:{name:"class",value:this.className}},this.setAttribute=T,this.removeAttribute=c,s.call(this,"propertychange",l)),s.call(this,a,f,v)},ot(A,Be,t)):x||(lt[Be](Ve,Re),lt.setAttribute(Ae,1),lt.removeAttribute(Ae),U&&(Se=function(t){var s,c,T,l=this;if(l===t.target){for(T in s=l[Ae],l[Ae]=c=ze(l),c){if(!(T in s))return et(0,l,T,s[T],c[T],st);if(c[T]!==s[T])return et(1,l,T,s[T],c[T],"MODIFICATION")}for(T in s)if(!(T in c))return et(2,l,T,s[T],c[T],at)}},et=function(t,s,c,T,l,a){var f={attrChange:t,currentTarget:s,attrName:c,prevValue:T,newValue:l};f[a]=t,ft(f)},ze=function(t){for(var s,c,T={},l=t.attributes,a=0,f=l.length;a<f;a++)"setAttribute"!==(c=(s=l[a]).name)&&(T[c]=s.value);return T})),G[be]=function(t,s){if(c=t.toUpperCase(),Ce&&(Ce=!1,x?(tt=function(_,P){function k(C,L){for(var Z=0,te=C.length;Z<te;L(C[Z++]));}return new x(function(C){for(var L,Z,te,pe=0,He=C.length;pe<He;pe++)"childList"===(L=C[pe]).type?(k(L.addedNodes,_),k(L.removedNodes,P)):(Z=L.target,o&&Z[Xe]&&"style"!==L.attributeName&&(te=F.call(Z,L.attributeName))!==L.oldValue&&Z[Xe](L.attributeName,L.oldValue,te))})}(ht($e),ht(We)),(Ne=function(_){return tt.observe(_,{childList:!0,subtree:!0}),_})(G),q&&(A.attachShadow=function(){return Ne(q.apply(this,arguments))})):(pt=[],G[Be]("DOMNodeInserted",Mt($e)),G[Be]("DOMNodeRemoved",Mt(We))),G[Be](mt,xe),G[Be]("readystatechange",xe),G.importNode=function(_,P){switch(_.nodeType){case 1:return De(G,j,[_,!!P]);case 11:for(var k=G.createDocumentFragment(),C=_.childNodes,L=C.length,Z=0;Z<L;Z++)k.appendChild(G.importNode(C[Z],!!P));return k;default:return J.call(_,!!P)}},A.cloneNode=function(_){return De(this,J,[!!_])}),W)return W=!1;if(-2<qe.call(Ge,Ye+c)+qe.call(Ge,Oe+c)&&Y(t),!Dt.test(c)||-1<qe.call(St,c))throw new Error("The type "+t+" is invalid");var c,T,l=function(){return f?G.createElement(v,c):G.createElement(v)},a=s||Pt,f=rt.call(a,fe),v=f?s[fe].toUpperCase():c;return f&&-1<qe.call(Ge,Oe+v)&&Y(v),T=Ge.push((f?Ye:Oe)+c)-1,Ie=Ie.concat(Ie.length?",":"",f?v+'[is="'+t.toLowerCase()+'"]':v),l.prototype=_e[T]=rt.call(a,"prototype")?a.prototype:w(A),Ie.length&&Ue(G.querySelectorAll(Ie),$e),l},G.createElement=H=function(t,s){var c=It(s),T=c?S.call(G,t,R(c)):S.call(G,t),l=""+t,a=qe.call(Ge,(c?Ye:Oe)+(c||l).toUpperCase()),f=-1<a;return c&&(T.setAttribute("is",c=c.toLowerCase()),f&&(f=ce(l.toUpperCase(),c))),o=!G.createElement.innerHTMLHelper,f&&Le(T,_e[a]),T}),addEventListener("beforeunload",function(){delete G.createElement,delete G.importNode,delete G[be]},!1),je.prototype={constructor:je,define:i?function(t,s,c){if(c)Q(t,s,c);else{var T=t.toUpperCase();g[T]={constructor:s,create:[T]},O.set(s,T),Qe.define(t,s)}}:Q,get:i?function(t){return Qe.get(t)||Nt(t)}:Nt,whenDefined:i?function(t){return h.race([Qe.whenDefined(t),_t(t)])}:_t},!Qe||/^force/.test(ve.type))yt();else if(!ve.noBuiltIn)try{!function(t,s,c){var T=new RegExp("^<a\\s+is=('|\")"+c+"\\1></a>$");if(s[fe]="a",(t.prototype=w(V.prototype)).constructor=t,ne.customElements.define(c,t,s),!T.test(G.createElement("a",{is:c}).outerHTML)||!T.test((new t).outerHTML))throw s}(function t(){return Reflect.construct(V,[],t)},{},"document-register-element-a"+Ot)}catch(t){yt()}if(!ve.noBuiltIn)try{if(S.call(G,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(t){R=function(s){return{is:s.toLowerCase()}}}}(window)},1524:(ne,ve,Ze)=>{var Ue;!function(ye,ht,vt,ce){"use strict";var Q,ft=["","webkit","Moz","MS","ms","o"],Mt=ht.createElement("div"),Me=Math.round,De=Math.abs,it=Date.now;function gt(e,n,r){return setTimeout(_t(e,r),n)}function Y(e,n,r){return!!Array.isArray(e)&&(Pe(e,r[n],r),!0)}function Pe(e,n,r){var d;if(e)if(e.forEach)e.forEach(n,r);else if(e.length!==ce)for(d=0;d<e.length;)n.call(r,e[d],d,e),d++;else for(d in e)e.hasOwnProperty(d)&&n.call(r,e[d],d,e)}function je(e,n,r){var d="DEPRECATED METHOD: "+n+"\n"+r+" AT \n";return function(){var E=new Error("get-stack-trace"),M=E&&E.stack?E.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",X=ye.console&&(ye.console.warn||ye.console.log);return X&&X.call(ye.console,d,M),e.apply(this,arguments)}}Q="function"!=typeof Object.assign?function(n){if(n===ce||null===n)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(n),d=1;d<arguments.length;d++){var E=arguments[d];if(E!==ce&&null!==E)for(var M in E)E.hasOwnProperty(M)&&(r[M]=E[M])}return r}:Object.assign;var Nt=je(function(n,r,d){for(var E=Object.keys(r),M=0;M<E.length;)(!d||d&&n[E[M]]===ce)&&(n[E[M]]=r[E[M]]),M++;return n},"extend","Use `assign`."),It=je(function(n,r){return Nt(n,r,!0)},"merge","Use `assign`.");function ge(e,n,r){var E,d=n.prototype;(E=e.prototype=Object.create(d)).constructor=e,E._super=d,r&&Q(E,r)}function _t(e,n){return function(){return e.apply(n,arguments)}}function yt(e,n){return"function"==typeof e?e.apply(n&&n[0]||ce,n):e}function G(e,n){return e===ce?n:e}function he(e,n,r){Pe(et(n),function(d){e.addEventListener(d,r,!1)})}function dt(e,n,r){Pe(et(n),function(d){e.removeEventListener(d,r,!1)})}function pt(e,n){for(;e;){if(e==n)return!0;e=e.parentNode}return!1}function Se(e,n){return e.indexOf(n)>-1}function et(e){return e.trim().split(/\s+/g)}function ze(e,n,r){if(e.indexOf&&!r)return e.indexOf(n);for(var d=0;d<e.length;){if(r&&e[d][r]==n||!r&&e[d]===n)return d;d++}return-1}function tt(e){return Array.prototype.slice.call(e,0)}function Ne(e,n,r){for(var d=[],E=[],M=0;M<e.length;){var X=n?e[M][n]:e[M];ze(E,X)<0&&d.push(e[M]),E[M]=X,M++}return r&&(d=n?d.sort(function(ae,me){return ae[n]>me[n]}):d.sort()),d}function Fe(e,n){for(var r,d,E=n[0].toUpperCase()+n.slice(1),M=0;M<ft.length;){if((d=(r=ft[M])?r+E:n)in e)return d;M++}return ce}var Le=1;function be(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||ye}var Ae="ontouchstart"in ye,Be=Fe(ye,"PointerEvent")!==ce,$e=Ae&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),Ee="touch",fe="mouse",St=["x","y"],Ge=["clientX","clientY"];function _e(e,n){var r=this;this.manager=e,this.callback=n,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(d){yt(e.options.enable,[e])&&r.handler(d)},this.init()}function lt(e,n,r){var d=r.pointers.length,E=r.changedPointers.length,M=1&n&&d-E==0,X=12&n&&d-E==0;r.isFirst=!!M,r.isFinal=!!X,M&&(e.session={}),r.eventType=n,function(e,n){var r=e.session,d=n.pointers,E=d.length;r.firstInput||(r.firstInput=bt(n)),E>1&&!r.firstMultiple?r.firstMultiple=bt(n):1===E&&(r.firstMultiple=!1);var M=r.firstInput,X=r.firstMultiple,ue=X?X.center:M.center,ae=n.center=ot(d);n.timeStamp=it(),n.deltaTime=n.timeStamp-M.timeStamp,n.angle=Lt(ue,ae),n.distance=re(ue,ae),function(e,n){var r=n.center,d=e.offsetDelta||{},E=e.prevDelta||{},M=e.prevInput||{};(1===n.eventType||4===M.eventType)&&(E=e.prevDelta={x:M.deltaX||0,y:M.deltaY||0},d=e.offsetDelta={x:r.x,y:r.y}),n.deltaX=E.x+(r.x-d.x),n.deltaY=E.y+(r.y-d.y)}(r,n),n.offsetDirection=Tt(n.deltaX,n.deltaY);var me=Je(n.deltaTime,n.deltaX,n.deltaY);n.overallVelocityX=me.x,n.overallVelocityY=me.y,n.overallVelocity=De(me.x)>De(me.y)?me.x:me.y,n.scale=X?function(e,n){return re(n[0],n[1],Ge)/re(e[0],e[1],Ge)}(X.pointers,d):1,n.rotation=X?function(e,n){return Lt(n[1],n[0],Ge)+Lt(e[1],e[0],Ge)}(X.pointers,d):0,n.maxPointers=r.prevInput?n.pointers.length>r.prevInput.maxPointers?n.pointers.length:r.prevInput.maxPointers:n.pointers.length,function(e,n){var E,M,X,ue,r=e.lastInterval||n,d=n.timeStamp-r.timeStamp;if(8!=n.eventType&&(d>25||r.velocity===ce)){var ae=n.deltaX-r.deltaX,me=n.deltaY-r.deltaY,Et=Je(d,ae,me);M=Et.x,X=Et.y,E=De(Et.x)>De(Et.y)?Et.x:Et.y,ue=Tt(ae,me),e.lastInterval=n}else E=r.velocity,M=r.velocityX,X=r.velocityY,ue=r.direction;n.velocity=E,n.velocityX=M,n.velocityY=X,n.direction=ue}(r,n);var Et=e.element;pt(n.srcEvent.target,Et)&&(Et=n.srcEvent.target),n.target=Et}(e,r),e.emit("hammer.input",r),e.recognize(r),e.session.prevInput=r}function bt(e){for(var n=[],r=0;r<e.pointers.length;)n[r]={clientX:Me(e.pointers[r].clientX),clientY:Me(e.pointers[r].clientY)},r++;return{timeStamp:it(),pointers:n,center:ot(n),deltaX:e.deltaX,deltaY:e.deltaY}}function ot(e){var n=e.length;if(1===n)return{x:Me(e[0].clientX),y:Me(e[0].clientY)};for(var r=0,d=0,E=0;E<n;)r+=e[E].clientX,d+=e[E].clientY,E++;return{x:Me(r/n),y:Me(d/n)}}function Je(e,n,r){return{x:n/e||0,y:r/e||0}}function Tt(e,n){return e===n?1:De(e)>=De(n)?e<0?2:4:n<0?8:16}function re(e,n,r){r||(r=St);var d=n[r[0]]-e[r[0]],E=n[r[1]]-e[r[1]];return Math.sqrt(d*d+E*E)}function Lt(e,n,r){return r||(r=St),180*Math.atan2(n[r[1]]-e[r[1]],n[r[0]]-e[r[0]])/Math.PI}_e.prototype={handler:function(){},init:function(){this.evEl&&he(this.element,this.evEl,this.domHandler),this.evTarget&&he(this.target,this.evTarget,this.domHandler),this.evWin&&he(be(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&dt(this.element,this.evEl,this.domHandler),this.evTarget&&dt(this.target,this.evTarget,this.domHandler),this.evWin&&dt(be(this.element),this.evWin,this.domHandler)}};var Rt={mousedown:1,mousemove:2,mouseup:4},Ct="mousedown",Qe="mousemove mouseup";function i(){this.evEl=Ct,this.evWin=Qe,this.pressed=!1,_e.apply(this,arguments)}ge(i,_e,{handler:function(n){var r=Rt[n.type];1&r&&0===n.button&&(this.pressed=!0),2&r&&1!==n.which&&(r=4),this.pressed&&(4&r&&(this.pressed=!1),this.callback(this.manager,r,{pointers:[n],changedPointers:[n],pointerType:fe,srcEvent:n}))}});var u={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},p={2:Ee,3:"pen",4:fe,5:"kinect"},h="pointerdown",m="pointermove pointerup pointercancel";function g(){this.evEl=h,this.evWin=m,_e.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}ye.MSPointerEvent&&!ye.PointerEvent&&(h="MSPointerDown",m="MSPointerMove MSPointerUp MSPointerCancel"),ge(g,_e,{handler:function(n){var r=this.store,d=!1,E=n.type.toLowerCase().replace("ms",""),M=u[E],X=p[n.pointerType]||n.pointerType,ue=X==Ee,ae=ze(r,n.pointerId,"pointerId");1&M&&(0===n.button||ue)?ae<0&&(r.push(n),ae=r.length-1):12&M&&(d=!0),!(ae<0)&&(r[ae]=n,this.callback(this.manager,M,{pointers:r,changedPointers:[n],pointerType:X,srcEvent:n}),d&&r.splice(ae,1))}});var y={touchstart:1,touchmove:2,touchend:4,touchcancel:8},O="touchstart",R="touchstart touchmove touchend touchcancel";function w(){this.evTarget=O,this.evWin=R,this.started=!1,_e.apply(this,arguments)}function D(e,n){var r=tt(e.touches),d=tt(e.changedTouches);return 12&n&&(r=Ne(r.concat(d),"identifier",!0)),[r,d]}ge(w,_e,{handler:function(n){var r=y[n.type];if(1===r&&(this.started=!0),this.started){var d=D.call(this,n,r);12&r&&d[0].length-d[1].length==0&&(this.started=!1),this.callback(this.manager,r,{pointers:d[0],changedPointers:d[1],pointerType:Ee,srcEvent:n})}}});var x={touchstart:1,touchmove:2,touchend:4,touchcancel:8},V="touchstart touchmove touchend touchcancel";function A(){this.evTarget=V,this.targetIds={},_e.apply(this,arguments)}function ee(e,n){var r=tt(e.touches),d=this.targetIds;if(3&n&&1===r.length)return d[r[0].identifier]=!0,[r,r];var E,M,X=tt(e.changedTouches),ue=[],ae=this.target;if(M=r.filter(function(me){return pt(me.target,ae)}),1===n)for(E=0;E<M.length;)d[M[E].identifier]=!0,E++;for(E=0;E<X.length;)d[X[E].identifier]&&ue.push(X[E]),12&n&&delete d[X[E].identifier],E++;return ue.length?[Ne(M.concat(ue),"identifier",!0),ue]:void 0}function b(){_e.apply(this,arguments);var e=_t(this.handler,this);this.touch=new A(this.manager,e),this.mouse=new i(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function q(e,n){1&e?(this.primaryTouch=n.changedPointers[0].identifier,J.call(this,n)):12&e&&J.call(this,n)}function J(e){var n=e.changedPointers[0];if(n.identifier===this.primaryTouch){var r={x:n.clientX,y:n.clientY};this.lastTouches.push(r);var d=this.lastTouches;setTimeout(function(){var M=d.indexOf(r);M>-1&&d.splice(M,1)},2500)}}function K(e){for(var n=e.srcEvent.clientX,r=e.srcEvent.clientY,d=0;d<this.lastTouches.length;d++){var E=this.lastTouches[d],M=Math.abs(n-E.x),X=Math.abs(r-E.y);if(M<=25&&X<=25)return!0}return!1}ge(A,_e,{handler:function(n){var r=x[n.type],d=ee.call(this,n,r);!d||this.callback(this.manager,r,{pointers:d[0],changedPointers:d[1],pointerType:Ee,srcEvent:n})}}),ge(b,_e,{handler:function(n,r,d){var M=d.pointerType==fe;if(!(M&&d.sourceCapabilities&&d.sourceCapabilities.firesTouchEvents)){if(d.pointerType==Ee)q.call(this,r,d);else if(M&&K.call(this,d))return;this.callback(n,r,d)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ie=Fe(Mt.style,"touchAction"),F=ie!==ce,le="compute",B="auto",se="manipulation",S="none",j="pan-x",H="pan-y",de=function(){if(!F)return!1;var e={},n=ye.CSS&&ye.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){e[r]=!n||ye.CSS.supports("touch-action",r)}),e}();function Re(e,n){this.manager=e,this.set(n)}Re.prototype={set:function(e){e==le&&(e=this.compute()),F&&this.manager.element.style&&de[e]&&(this.manager.element.style[ie]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var e=[];return Pe(this.manager.recognizers,function(n){yt(n.options.enable,[n])&&(e=e.concat(n.getTouchAction()))}),function(e){if(Se(e,S))return S;var n=Se(e,j),r=Se(e,H);return n&&r?S:n||r?n?j:H:Se(e,se)?se:B}(e.join(" "))},preventDefaults:function(e){var n=e.srcEvent,r=e.offsetDirection;if(!this.manager.session.prevented){var d=this.actions,E=Se(d,S)&&!de[S],M=Se(d,H)&&!de[H],X=Se(d,j)&&!de[j];if(E&&1===e.pointers.length&&e.distance<2&&e.deltaTime<250)return;return X&&M||!(E||M&&6&r||X&&24&r)?void 0:this.preventSrc(n)}n.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var s=32;function c(e){this.options=Q({},this.defaults,e||{}),this.id=Le++,this.manager=null,this.options.enable=G(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function T(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}function l(e){return 16==e?"down":8==e?"up":2==e?"left":4==e?"right":""}function a(e,n){var r=n.manager;return r?r.get(e):e}function f(){c.apply(this,arguments)}function v(){f.apply(this,arguments),this.pX=null,this.pY=null}function _(){f.apply(this,arguments)}function P(){c.apply(this,arguments),this._timer=null,this._input=null}function k(){f.apply(this,arguments)}function C(){f.apply(this,arguments)}function L(){c.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Z(e,n){return(n=n||{}).recognizers=G(n.recognizers,Z.defaults.preset),new He(e,n)}function He(e,n){this.options=Q({},Z.defaults,n||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=function(e){return new(e.options.inputClass||(Be?g:$e?A:Ae?b:i))(e,lt)}(this),this.touchAction=new Re(this,this.options.touchAction),At(this,!0),Pe(this.options.recognizers,function(r){var d=this.add(new r[0](r[1]));r[2]&&d.recognizeWith(r[2]),r[3]&&d.requireFailure(r[3])},this)}function At(e,n){var d,r=e.element;r.style&&(Pe(e.options.cssProps,function(E,M){d=Fe(r.style,M),n?(e.oldCssProps[d]=r.style[d],r.style[d]=E):r.style[d]=e.oldCssProps[d]||""}),n||(e.oldCssProps={}))}c.prototype={defaults:{},set:function(e){return Q(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(Y(e,"recognizeWith",this))return this;var n=this.simultaneous;return n[(e=a(e,this)).id]||(n[e.id]=e,e.recognizeWith(this)),this},dropRecognizeWith:function(e){return Y(e,"dropRecognizeWith",this)||(e=a(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(Y(e,"requireFailure",this))return this;var n=this.requireFail;return-1===ze(n,e=a(e,this))&&(n.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(Y(e,"dropRequireFailure",this))return this;e=a(e,this);var n=ze(this.requireFail,e);return n>-1&&this.requireFail.splice(n,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(e){var n=this,r=this.state;function d(E){n.manager.emit(E,e)}r<8&&d(n.options.event+T(r)),d(n.options.event),e.additionalEvent&&d(e.additionalEvent),r>=8&&d(n.options.event+T(r))},tryEmit:function(e){if(this.canEmit())return this.emit(e);this.state=s},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},recognize:function(e){var n=Q({},e);if(!yt(this.options.enable,[this,n]))return this.reset(),void(this.state=s);56&this.state&&(this.state=1),this.state=this.process(n),30&this.state&&this.tryEmit(n)},process:function(e){},getTouchAction:function(){},reset:function(){}},ge(f,c,{defaults:{pointers:1},attrTest:function(e){var n=this.options.pointers;return 0===n||e.pointers.length===n},process:function(e){var n=this.state,r=e.eventType,d=6&n,E=this.attrTest(e);return d&&(8&r||!E)?16|n:d||E?4&r?8|n:2&n?4|n:2:s}}),ge(v,f,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var e=this.options.direction,n=[];return 6&e&&n.push(H),24&e&&n.push(j),n},directionTest:function(e){var n=this.options,r=!0,d=e.distance,E=e.direction,M=e.deltaX,X=e.deltaY;return E&n.direction||(6&n.direction?(E=0===M?1:M<0?2:4,r=M!=this.pX,d=Math.abs(e.deltaX)):(E=0===X?1:X<0?8:16,r=X!=this.pY,d=Math.abs(e.deltaY))),e.direction=E,r&&d>n.threshold&&E&n.direction},attrTest:function(e){return f.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var n=l(e.direction);n&&(e.additionalEvent=this.options.event+n),this._super.emit.call(this,e)}}),ge(_,f,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[S]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||2&this.state)},emit:function(e){1!==e.scale&&(e.additionalEvent=this.options.event+(e.scale<1?"in":"out")),this._super.emit.call(this,e)}}),ge(P,c,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[B]},process:function(e){var n=this.options,r=e.pointers.length===n.pointers,d=e.distance<n.threshold,E=e.deltaTime>n.time;if(this._input=e,!d||!r||12&e.eventType&&!E)this.reset();else if(1&e.eventType)this.reset(),this._timer=gt(function(){this.state=8,this.tryEmit()},n.time,this);else if(4&e.eventType)return 8;return s},reset:function(){clearTimeout(this._timer)},emit:function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=it(),this.manager.emit(this.options.event,this._input)))}}),ge(k,f,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[S]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||2&this.state)}}),ge(C,f,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return v.prototype.getTouchAction.call(this)},attrTest:function(e){var r,n=this.options.direction;return 30&n?r=e.overallVelocity:6&n?r=e.overallVelocityX:24&n&&(r=e.overallVelocityY),this._super.attrTest.call(this,e)&&n&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&De(r)>this.options.velocity&&4&e.eventType},emit:function(e){var n=l(e.offsetDirection);n&&this.manager.emit(this.options.event+n,e),this.manager.emit(this.options.event,e)}}),ge(L,c,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[se]},process:function(e){var n=this.options,r=e.pointers.length===n.pointers,d=e.distance<n.threshold,E=e.deltaTime<n.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(d&&E&&r){if(4!=e.eventType)return this.failTimeout();var M=!this.pTime||e.timeStamp-this.pTime<n.interval,X=!this.pCenter||re(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,X&&M?this.count+=1:this.count=1,this._input=e,0==this.count%n.taps)return this.hasRequireFailures()?(this._timer=gt(function(){this.state=8,this.tryEmit()},n.interval,this),2):8}return s},failTimeout:function(){return this._timer=gt(function(){this.state=s},this.options.interval,this),s},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Z.VERSION="2.0.7",Z.defaults={domEvents:!1,touchAction:le,enable:!0,inputTarget:null,inputClass:null,preset:[[k,{enable:!1}],[_,{enable:!1},["rotate"]],[C,{direction:6}],[v,{direction:6},["swipe"]],[L],[L,{event:"doubletap",taps:2},["tap"]],[P]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},He.prototype={set:function(e){return Q(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?2:1},recognize:function(e){var n=this.session;if(!n.stopped){this.touchAction.preventDefaults(e);var r,d=this.recognizers,E=n.curRecognizer;(!E||E&&8&E.state)&&(E=n.curRecognizer=null);for(var M=0;M<d.length;)r=d[M],2===n.stopped||E&&r!=E&&!r.canRecognizeWith(E)?r.reset():r.recognize(e),!E&&14&r.state&&(E=n.curRecognizer=r),M++}},get:function(e){if(e instanceof c)return e;for(var n=this.recognizers,r=0;r<n.length;r++)if(n[r].options.event==e)return n[r];return null},add:function(e){if(Y(e,"add",this))return this;var n=this.get(e.options.event);return n&&this.remove(n),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},remove:function(e){if(Y(e,"remove",this))return this;if(e=this.get(e)){var n=this.recognizers,r=ze(n,e);-1!==r&&(n.splice(r,1),this.touchAction.update())}return this},on:function(e,n){if(e!==ce&&n!==ce){var r=this.handlers;return Pe(et(e),function(d){r[d]=r[d]||[],r[d].push(n)}),this}},off:function(e,n){if(e!==ce){var r=this.handlers;return Pe(et(e),function(d){n?r[d]&&r[d].splice(ze(r[d],n),1):delete r[d]}),this}},emit:function(e,n){this.options.domEvents&&function(e,n){var r=ht.createEvent("Event");r.initEvent(e,!0,!0),r.gesture=n,n.target.dispatchEvent(r)}(e,n);var r=this.handlers[e]&&this.handlers[e].slice();if(r&&r.length){n.type=e,n.preventDefault=function(){n.srcEvent.preventDefault()};for(var d=0;d<r.length;)r[d](n),d++}},destroy:function(){this.element&&At(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},Q(Z,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:s,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:He,Input:_e,TouchAction:Re,TouchInput:A,MouseInput:i,PointerEventInput:g,TouchMouseInput:b,SingleTouchInput:w,Recognizer:c,AttrRecognizer:f,Tap:L,Pan:v,Swipe:C,Pinch:_,Rotate:k,Press:P,on:he,off:dt,each:Pe,merge:It,extend:Nt,assign:Q,inherit:ge,bindFn:_t,prefixed:Fe}),(void 0!==ye?ye:"undefined"!=typeof self?self:{}).Hammer=Z,(Ue=function(){return Z}.call(ve,Ze,ve,ne))!==ce&&(ne.exports=Ue)}(window,document)},7277:()=>{"use strict";!function(i){const u=i.performance;function p(U){u&&u.mark&&u.mark(U)}function h(U,N){u&&u.measure&&u.measure(U,N)}p("Zone");const m=i.__Zone_symbol_prefix||"__zone_symbol__";function g(U){return m+U}const y=!0===i[g("forceDuplicateZoneCheck")];if(i.Zone){if(y||"function"!=typeof i.Zone.__symbol__)throw new Error("Zone already loaded.");return i.Zone}let O=(()=>{class U{constructor(o,t){this._parent=o,this._name=t?t.name||"unnamed":"<root>",this._properties=t&&t.properties||{},this._zoneDelegate=new w(this,this._parent&&this._parent._zoneDelegate,t)}static assertZonePatched(){if(i.Promise!==de.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let o=U.current;for(;o.parent;)o=o.parent;return o}static get current(){return $.zone}static get currentTask(){return we}static __load_patch(o,t,s=!1){if(de.hasOwnProperty(o)){if(!s&&y)throw Error("Already loaded patch: "+o)}else if(!i["__Zone_disable_"+o]){const c="Zone:"+o;p(c),de[o]=t(i,U,Re),h(c,c)}}get parent(){return this._parent}get name(){return this._name}get(o){const t=this.getZoneWith(o);if(t)return t._properties[o]}getZoneWith(o){let t=this;for(;t;){if(t._properties.hasOwnProperty(o))return t;t=t._parent}return null}fork(o){if(!o)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,o)}wrap(o,t){if("function"!=typeof o)throw new Error("Expecting function got: "+o);const s=this._zoneDelegate.intercept(this,o,t),c=this;return function(){return c.runGuarded(s,this,arguments,t)}}run(o,t,s,c){$={parent:$,zone:this};try{return this._zoneDelegate.invoke(this,o,t,s,c)}finally{$=$.parent}}runGuarded(o,t=null,s,c){$={parent:$,zone:this};try{try{return this._zoneDelegate.invoke(this,o,t,s,c)}catch(T){if(this._zoneDelegate.handleError(this,T))throw T}}finally{$=$.parent}}runTask(o,t,s){if(o.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(o.zone||J).name+"; Execution: "+this.name+")");if(o.state===K&&(o.type===H||o.type===j))return;const c=o.state!=le;c&&o._transitionTo(le,F),o.runCount++;const T=we;we=o,$={parent:$,zone:this};try{o.type==j&&o.data&&!o.data.isPeriodic&&(o.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,o,t,s)}catch(l){if(this._zoneDelegate.handleError(this,l))throw l}}finally{o.state!==K&&o.state!==se&&(o.type==H||o.data&&o.data.isPeriodic?c&&o._transitionTo(F,le):(o.runCount=0,this._updateTaskCount(o,-1),c&&o._transitionTo(K,le,K))),$=$.parent,we=T}}scheduleTask(o){if(o.zone&&o.zone!==this){let s=this;for(;s;){if(s===o.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${o.zone.name}`);s=s.parent}}o._transitionTo(ie,K);const t=[];o._zoneDelegates=t,o._zone=this;try{o=this._zoneDelegate.scheduleTask(this,o)}catch(s){throw o._transitionTo(se,ie,K),this._zoneDelegate.handleError(this,s),s}return o._zoneDelegates===t&&this._updateTaskCount(o,1),o.state==ie&&o._transitionTo(F,ie),o}scheduleMicroTask(o,t,s,c){return this.scheduleTask(new D(S,o,t,s,c,void 0))}scheduleMacroTask(o,t,s,c,T){return this.scheduleTask(new D(j,o,t,s,c,T))}scheduleEventTask(o,t,s,c,T){return this.scheduleTask(new D(H,o,t,s,c,T))}cancelTask(o){if(o.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(o.zone||J).name+"; Execution: "+this.name+")");o._transitionTo(B,F,le);try{this._zoneDelegate.cancelTask(this,o)}catch(t){throw o._transitionTo(se,B),this._zoneDelegate.handleError(this,t),t}return this._updateTaskCount(o,-1),o._transitionTo(K,B),o.runCount=0,o}_updateTaskCount(o,t){const s=o._zoneDelegates;-1==t&&(o._zoneDelegates=null);for(let c=0;c<s.length;c++)s[c]._updateTaskCount(o.type,t)}}return U.__symbol__=g,U})();const R={name:"",onHasTask:(U,N,o,t)=>U.hasTask(o,t),onScheduleTask:(U,N,o,t)=>U.scheduleTask(o,t),onInvokeTask:(U,N,o,t,s,c)=>U.invokeTask(o,t,s,c),onCancelTask:(U,N,o,t)=>U.cancelTask(o,t)};class w{constructor(N,o,t){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=N,this._parentDelegate=o,this._forkZS=t&&(t&&t.onFork?t:o._forkZS),this._forkDlgt=t&&(t.onFork?o:o._forkDlgt),this._forkCurrZone=t&&(t.onFork?this.zone:o._forkCurrZone),this._interceptZS=t&&(t.onIntercept?t:o._interceptZS),this._interceptDlgt=t&&(t.onIntercept?o:o._interceptDlgt),this._interceptCurrZone=t&&(t.onIntercept?this.zone:o._interceptCurrZone),this._invokeZS=t&&(t.onInvoke?t:o._invokeZS),this._invokeDlgt=t&&(t.onInvoke?o:o._invokeDlgt),this._invokeCurrZone=t&&(t.onInvoke?this.zone:o._invokeCurrZone),this._handleErrorZS=t&&(t.onHandleError?t:o._handleErrorZS),this._handleErrorDlgt=t&&(t.onHandleError?o:o._handleErrorDlgt),this._handleErrorCurrZone=t&&(t.onHandleError?this.zone:o._handleErrorCurrZone),this._scheduleTaskZS=t&&(t.onScheduleTask?t:o._scheduleTaskZS),this._scheduleTaskDlgt=t&&(t.onScheduleTask?o:o._scheduleTaskDlgt),this._scheduleTaskCurrZone=t&&(t.onScheduleTask?this.zone:o._scheduleTaskCurrZone),this._invokeTaskZS=t&&(t.onInvokeTask?t:o._invokeTaskZS),this._invokeTaskDlgt=t&&(t.onInvokeTask?o:o._invokeTaskDlgt),this._invokeTaskCurrZone=t&&(t.onInvokeTask?this.zone:o._invokeTaskCurrZone),this._cancelTaskZS=t&&(t.onCancelTask?t:o._cancelTaskZS),this._cancelTaskDlgt=t&&(t.onCancelTask?o:o._cancelTaskDlgt),this._cancelTaskCurrZone=t&&(t.onCancelTask?this.zone:o._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const s=t&&t.onHasTask;(s||o&&o._hasTaskZS)&&(this._hasTaskZS=s?t:R,this._hasTaskDlgt=o,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=N,t.onScheduleTask||(this._scheduleTaskZS=R,this._scheduleTaskDlgt=o,this._scheduleTaskCurrZone=this.zone),t.onInvokeTask||(this._invokeTaskZS=R,this._invokeTaskDlgt=o,this._invokeTaskCurrZone=this.zone),t.onCancelTask||(this._cancelTaskZS=R,this._cancelTaskDlgt=o,this._cancelTaskCurrZone=this.zone))}fork(N,o){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,N,o):new O(N,o)}intercept(N,o,t){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,N,o,t):o}invoke(N,o,t,s,c){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,N,o,t,s,c):o.apply(t,s)}handleError(N,o){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,N,o)}scheduleTask(N,o){let t=o;if(this._scheduleTaskZS)this._hasTaskZS&&t._zoneDelegates.push(this._hasTaskDlgtOwner),t=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,N,o),t||(t=o);else if(o.scheduleFn)o.scheduleFn(o);else{if(o.type!=S)throw new Error("Task is missing scheduleFn.");b(o)}return t}invokeTask(N,o,t,s){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,N,o,t,s):o.callback.apply(t,s)}cancelTask(N,o){let t;if(this._cancelTaskZS)t=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,N,o);else{if(!o.cancelFn)throw Error("Task is not cancelable");t=o.cancelFn(o)}return t}hasTask(N,o){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,N,o)}catch(t){this.handleError(N,t)}}_updateTaskCount(N,o){const t=this._taskCounts,s=t[N],c=t[N]=s+o;if(c<0)throw new Error("More tasks executed then were scheduled.");0!=s&&0!=c||this.hasTask(this.zone,{microTask:t.microTask>0,macroTask:t.macroTask>0,eventTask:t.eventTask>0,change:N})}}class D{constructor(N,o,t,s,c,T){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=N,this.source=o,this.data=s,this.scheduleFn=c,this.cancelFn=T,!t)throw new Error("callback is not defined");this.callback=t;const l=this;this.invoke=N===H&&s&&s.useG?D.invokeTask:function(){return D.invokeTask.call(i,l,this,arguments)}}static invokeTask(N,o,t){N||(N=this),Ce++;try{return N.runCount++,N.zone.runTask(N,o,t)}finally{1==Ce&&q(),Ce--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(K,ie)}_transitionTo(N,o,t){if(this._state!==o&&this._state!==t)throw new Error(`${this.type} '${this.source}': can not transition to '${N}', expecting state '${o}'${t?" or '"+t+"'":""}, was '${this._state}'.`);this._state=N,N==K&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const x=g("setTimeout"),V=g("Promise"),A=g("then");let I,ee=[],z=!1;function b(U){if(0===Ce&&0===ee.length)if(I||i[V]&&(I=i[V].resolve(0)),I){let N=I[A];N||(N=I.then),N.call(I,q)}else i[x](q,0);U&&ee.push(U)}function q(){if(!z){for(z=!0;ee.length;){const U=ee;ee=[];for(let N=0;N<U.length;N++){const o=U[N];try{o.zone.runTask(o,null,null)}catch(t){Re.onUnhandledError(t)}}}Re.microtaskDrainDone(),z=!1}}const J={name:"NO ZONE"},K="notScheduled",ie="scheduling",F="scheduled",le="running",B="canceling",se="unknown",S="microTask",j="macroTask",H="eventTask",de={},Re={symbol:g,currentZoneFrame:()=>$,onUnhandledError:W,microtaskDrainDone:W,scheduleMicroTask:b,showUncaughtError:()=>!O[g("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:W,patchMethod:()=>W,bindArguments:()=>[],patchThen:()=>W,patchMacroTask:()=>W,patchEventPrototype:()=>W,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>W,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>W,wrapWithCurrentZone:()=>W,filterProperties:()=>[],attachOriginToPatched:()=>W,_redefineProperty:()=>W,patchCallbacks:()=>W};let $={parent:null,zone:new O(null,null)},we=null,Ce=0;function W(){}h("Zone","Zone"),i.Zone=O}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const ve=Object.getOwnPropertyDescriptor,Ze=Object.defineProperty,Ue=Object.getPrototypeOf,ye=Object.create,ht=Array.prototype.slice,vt="addEventListener",ce="removeEventListener",ft=Zone.__symbol__(vt),Mt=Zone.__symbol__(ce),xe="true",Me="false",De=Zone.__symbol__("");function it(i,u){return Zone.current.wrap(i,u)}function gt(i,u,p,h,m){return Zone.current.scheduleMacroTask(i,u,p,h,m)}const Y=Zone.__symbol__,Pe="undefined"!=typeof window,je=Pe?window:void 0,Q=Pe&&je||"object"==typeof self&&self||global,It=[null];function ge(i,u){for(let p=i.length-1;p>=0;p--)"function"==typeof i[p]&&(i[p]=it(i[p],u+"_"+p));return i}function yt(i){return!i||!1!==i.writable&&!("function"==typeof i.get&&void 0===i.set)}const G="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,he=!("nw"in Q)&&void 0!==Q.process&&"[object process]"==={}.toString.call(Q.process),dt=!he&&!G&&!(!Pe||!je.HTMLElement),pt=void 0!==Q.process&&"[object process]"==={}.toString.call(Q.process)&&!G&&!(!Pe||!je.HTMLElement),Se={},et=function(i){if(!(i=i||Q.event))return;let u=Se[i.type];u||(u=Se[i.type]=Y("ON_PROPERTY"+i.type));const p=this||i.target||Q,h=p[u];let m;if(dt&&p===je&&"error"===i.type){const g=i;m=h&&h.call(this,g.message,g.filename,g.lineno,g.colno,g.error),!0===m&&i.preventDefault()}else m=h&&h.apply(this,arguments),null!=m&&!m&&i.preventDefault();return m};function ze(i,u,p){let h=ve(i,u);if(!h&&p&&ve(p,u)&&(h={enumerable:!0,configurable:!0}),!h||!h.configurable)return;const m=Y("on"+u+"patched");if(i.hasOwnProperty(m)&&i[m])return;delete h.writable,delete h.value;const g=h.get,y=h.set,O=u.substr(2);let R=Se[O];R||(R=Se[O]=Y("ON_PROPERTY"+O)),h.set=function(w){let D=this;!D&&i===Q&&(D=Q),D&&(D[R]&&D.removeEventListener(O,et),y&&y.apply(D,It),"function"==typeof w?(D[R]=w,D.addEventListener(O,et,!1)):D[R]=null)},h.get=function(){let w=this;if(!w&&i===Q&&(w=Q),!w)return null;const D=w[R];if(D)return D;if(g){let x=g&&g.call(this);if(x)return h.set.call(this,x),"function"==typeof w.removeAttribute&&w.removeAttribute(u),x}return null},Ze(i,u,h),i[m]=!0}function tt(i,u,p){if(u)for(let h=0;h<u.length;h++)ze(i,"on"+u[h],p);else{const h=[];for(const m in i)"on"==m.substr(0,2)&&h.push(m);for(let m=0;m<h.length;m++)ze(i,h[m],p)}}const Ne=Y("originalInstance");function Fe(i){const u=Q[i];if(!u)return;Q[Y(i)]=u,Q[i]=function(){const m=ge(arguments,i);switch(m.length){case 0:this[Ne]=new u;break;case 1:this[Ne]=new u(m[0]);break;case 2:this[Ne]=new u(m[0],m[1]);break;case 3:this[Ne]=new u(m[0],m[1],m[2]);break;case 4:this[Ne]=new u(m[0],m[1],m[2],m[3]);break;default:throw new Error("Arg list too long.")}},be(Q[i],u);const p=new u(function(){});let h;for(h in p)"XMLHttpRequest"===i&&"responseBlob"===h||function(m){"function"==typeof p[m]?Q[i].prototype[m]=function(){return this[Ne][m].apply(this[Ne],arguments)}:Ze(Q[i].prototype,m,{set:function(g){"function"==typeof g?(this[Ne][m]=it(g,i+"."+m),be(this[Ne][m],g)):this[Ne][m]=g},get:function(){return this[Ne][m]}})}(h);for(h in u)"prototype"!==h&&u.hasOwnProperty(h)&&(Q[i][h]=u[h])}function Le(i,u,p){let h=i;for(;h&&!h.hasOwnProperty(u);)h=Ue(h);!h&&i[u]&&(h=i);const m=Y(u);let g=null;if(h&&(!(g=h[m])||!h.hasOwnProperty(m))&&(g=h[m]=h[u],yt(h&&ve(h,u)))){const O=p(g,m,u);h[u]=function(){return O(this,arguments)},be(h[u],g)}return g}function nt(i,u,p){let h=null;function m(g){const y=g.data;return y.args[y.cbIdx]=function(){g.invoke.apply(this,arguments)},h.apply(y.target,y.args),g}h=Le(i,u,g=>function(y,O){const R=p(y,O);return R.cbIdx>=0&&"function"==typeof O[R.cbIdx]?gt(R.name,O[R.cbIdx],R,m):g.apply(y,O)})}function be(i,u){i[Y("OriginalDelegate")]=u}let Ot=!1,Ae=!1;function $e(){if(Ot)return Ae;Ot=!0;try{const i=je.navigator.userAgent;(-1!==i.indexOf("MSIE ")||-1!==i.indexOf("Trident/")||-1!==i.indexOf("Edge/"))&&(Ae=!0)}catch(i){}return Ae}Zone.__load_patch("ZoneAwarePromise",(i,u,p)=>{const h=Object.getOwnPropertyDescriptor,m=Object.defineProperty,y=p.symbol,O=[],R=!0===i[y("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],w=y("Promise"),D=y("then");p.onUnhandledError=l=>{if(p.showUncaughtError()){const a=l&&l.rejection;a?console.error("Unhandled Promise rejection:",a instanceof Error?a.message:a,"; Zone:",l.zone.name,"; Task:",l.task&&l.task.source,"; Value:",a,a instanceof Error?a.stack:void 0):console.error(l)}},p.microtaskDrainDone=()=>{for(;O.length;){const l=O.shift();try{l.zone.runGuarded(()=>{throw l.throwOriginal?l.rejection:l})}catch(a){A(a)}}};const V=y("unhandledPromiseRejectionHandler");function A(l){p.onUnhandledError(l);try{const a=u[V];"function"==typeof a&&a.call(this,l)}catch(a){}}function ee(l){return l&&l.then}function z(l){return l}function I(l){return o.reject(l)}const b=y("state"),q=y("value"),J=y("finally"),K=y("parentPromiseValue"),ie=y("parentPromiseState"),le=null,B=!0,se=!1;function j(l,a){return f=>{try{$(l,a,f)}catch(v){$(l,!1,v)}}}const Re=y("currentTaskTrace");function $(l,a,f){const v=function(){let l=!1;return function(f){return function(){l||(l=!0,f.apply(null,arguments))}}}();if(l===f)throw new TypeError("Promise resolved with itself");if(l[b]===le){let _=null;try{("object"==typeof f||"function"==typeof f)&&(_=f&&f.then)}catch(P){return v(()=>{$(l,!1,P)})(),l}if(a!==se&&f instanceof o&&f.hasOwnProperty(b)&&f.hasOwnProperty(q)&&f[b]!==le)Ce(f),$(l,f[b],f[q]);else if(a!==se&&"function"==typeof _)try{_.call(f,v(j(l,a)),v(j(l,!1)))}catch(P){v(()=>{$(l,!1,P)})()}else{l[b]=a;const P=l[q];if(l[q]=f,l[J]===J&&a===B&&(l[b]=l[ie],l[q]=l[K]),a===se&&f instanceof Error){const k=u.currentTask&&u.currentTask.data&&u.currentTask.data.__creationTrace__;k&&m(f,Re,{configurable:!0,enumerable:!1,writable:!0,value:k})}for(let k=0;k<P.length;)W(l,P[k++],P[k++],P[k++],P[k++]);if(0==P.length&&a==se){l[b]=0;let k=f;try{throw new Error("Uncaught (in promise): "+function(l){return l&&l.toString===Object.prototype.toString?(l.constructor&&l.constructor.name||"")+": "+JSON.stringify(l):l?l.toString():Object.prototype.toString.call(l)}(f)+(f&&f.stack?"\n"+f.stack:""))}catch(C){k=C}R&&(k.throwOriginal=!0),k.rejection=f,k.promise=l,k.zone=u.current,k.task=u.currentTask,O.push(k),p.scheduleMicroTask()}}}return l}const we=y("rejectionHandledHandler");function Ce(l){if(0===l[b]){try{const a=u[we];a&&"function"==typeof a&&a.call(this,{rejection:l[q],promise:l})}catch(a){}l[b]=se;for(let a=0;a<O.length;a++)l===O[a].promise&&O.splice(a,1)}}function W(l,a,f,v,_){Ce(l);const P=l[b],k=P?"function"==typeof v?v:z:"function"==typeof _?_:I;a.scheduleMicroTask("Promise.then",()=>{try{const C=l[q],L=!!f&&J===f[J];L&&(f[K]=C,f[ie]=P);const Z=a.run(k,void 0,L&&k!==I&&k!==z?[]:[C]);$(f,!0,Z)}catch(C){$(f,!1,C)}},f)}const N=function(){};class o{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(a){return $(new this(null),B,a)}static reject(a){return $(new this(null),se,a)}static race(a){let f,v,_=new this((C,L)=>{f=C,v=L});function P(C){f(C)}function k(C){v(C)}for(let C of a)ee(C)||(C=this.resolve(C)),C.then(P,k);return _}static all(a){return o.allWithCallback(a)}static allSettled(a){return(this&&this.prototype instanceof o?this:o).allWithCallback(a,{thenCallback:v=>({status:"fulfilled",value:v}),errorCallback:v=>({status:"rejected",reason:v})})}static allWithCallback(a,f){let v,_,P=new this((Z,te)=>{v=Z,_=te}),k=2,C=0;const L=[];for(let Z of a){ee(Z)||(Z=this.resolve(Z));const te=C;try{Z.then(pe=>{L[te]=f?f.thenCallback(pe):pe,k--,0===k&&v(L)},pe=>{f?(L[te]=f.errorCallback(pe),k--,0===k&&v(L)):_(pe)})}catch(pe){_(pe)}k++,C++}return k-=2,0===k&&v(L),P}constructor(a){const f=this;if(!(f instanceof o))throw new Error("Must be an instanceof Promise.");f[b]=le,f[q]=[];try{a&&a(j(f,B),j(f,se))}catch(v){$(f,!1,v)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return o}then(a,f){let v=this.constructor[Symbol.species];(!v||"function"!=typeof v)&&(v=this.constructor||o);const _=new v(N),P=u.current;return this[b]==le?this[q].push(P,_,a,f):W(this,P,_,a,f),_}catch(a){return this.then(null,a)}finally(a){let f=this.constructor[Symbol.species];(!f||"function"!=typeof f)&&(f=o);const v=new f(N);v[J]=J;const _=u.current;return this[b]==le?this[q].push(_,v,a,a):W(this,_,v,a,a),v}}o.resolve=o.resolve,o.reject=o.reject,o.race=o.race,o.all=o.all;const t=i[w]=i.Promise;i.Promise=o;const s=y("thenPatched");function c(l){const a=l.prototype,f=h(a,"then");if(f&&(!1===f.writable||!f.configurable))return;const v=a.then;a[D]=v,l.prototype.then=function(_,P){return new o((C,L)=>{v.call(this,C,L)}).then(_,P)},l[s]=!0}return p.patchThen=c,t&&(c(t),Le(i,"fetch",l=>function(l){return function(a,f){let v=l.apply(a,f);if(v instanceof o)return v;let _=v.constructor;return _[s]||c(_),v}}(l))),Promise[u.__symbol__("uncaughtPromiseErrors")]=O,o}),Zone.__load_patch("toString",i=>{const u=Function.prototype.toString,p=Y("OriginalDelegate"),h=Y("Promise"),m=Y("Error"),g=function(){if("function"==typeof this){const w=this[p];if(w)return"function"==typeof w?u.call(w):Object.prototype.toString.call(w);if(this===Promise){const D=i[h];if(D)return u.call(D)}if(this===Error){const D=i[m];if(D)return u.call(D)}}return u.call(this)};g[p]=u,Function.prototype.toString=g;const y=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":y.call(this)}});let Ee=!1;if("undefined"!=typeof window)try{const i=Object.defineProperty({},"passive",{get:function(){Ee=!0}});window.addEventListener("test",i,i),window.removeEventListener("test",i,i)}catch(i){Ee=!1}const We={useG:!0},fe={},Xe={},wt=new RegExp("^"+De+"(\\w+)(true|false)$"),Te=Y("propagationStopped");function Ke(i,u){const p=(u?u(i):i)+Me,h=(u?u(i):i)+xe,m=De+p,g=De+h;fe[i]={},fe[i][Me]=m,fe[i][xe]=g}function oe(i,u,p){const h=p&&p.add||vt,m=p&&p.rm||ce,g=p&&p.listeners||"eventListeners",y=p&&p.rmAll||"removeAllListeners",O=Y(h),R="."+h+":",x=function(I,b,q){if(I.isRemoved)return;const J=I.callback;"object"==typeof J&&J.handleEvent&&(I.callback=ie=>J.handleEvent(ie),I.originalDelegate=J),I.invoke(I,b,[q]);const K=I.options;K&&"object"==typeof K&&K.once&&b[m].call(b,q.type,I.originalDelegate?I.originalDelegate:I.callback,K)},V=function(I){if(!(I=I||i.event))return;const b=this||I.target||i,q=b[fe[I.type][Me]];if(q)if(1===q.length)x(q[0],b,I);else{const J=q.slice();for(let K=0;K<J.length&&(!I||!0!==I[Te]);K++)x(J[K],b,I)}},A=function(I){if(!(I=I||i.event))return;const b=this||I.target||i,q=b[fe[I.type][xe]];if(q)if(1===q.length)x(q[0],b,I);else{const J=q.slice();for(let K=0;K<J.length&&(!I||!0!==I[Te]);K++)x(J[K],b,I)}};function ee(I,b){if(!I)return!1;let q=!0;b&&void 0!==b.useG&&(q=b.useG);const J=b&&b.vh;let K=!0;b&&void 0!==b.chkDup&&(K=b.chkDup);let ie=!1;b&&void 0!==b.rt&&(ie=b.rt);let F=I;for(;F&&!F.hasOwnProperty(h);)F=Ue(F);if(!F&&I[h]&&(F=I),!F||F[O])return!1;const le=b&&b.eventNameToString,B={},se=F[O]=F[h],S=F[Y(m)]=F[m],j=F[Y(g)]=F[g],H=F[Y(y)]=F[y];let de;function Re(a,f){return!Ee&&"object"==typeof a&&a?!!a.capture:Ee&&f?"boolean"==typeof a?{capture:a,passive:!0}:a?"object"==typeof a&&!1!==a.passive?Object.assign(Object.assign({},a),{passive:!0}):a:{passive:!0}:a}b&&b.prepend&&(de=F[Y(b.prepend)]=F[b.prepend]);const N=q?function(a){if(!B.isExisting)return se.call(B.target,B.eventName,B.capture?A:V,B.options)}:function(a){return se.call(B.target,B.eventName,a.invoke,B.options)},o=q?function(a){if(!a.isRemoved){const f=fe[a.eventName];let v;f&&(v=f[a.capture?xe:Me]);const _=v&&a.target[v];if(_)for(let P=0;P<_.length;P++)if(_[P]===a){_.splice(P,1),a.isRemoved=!0,0===_.length&&(a.allRemoved=!0,a.target[v]=null);break}}if(a.allRemoved)return S.call(a.target,a.eventName,a.capture?A:V,a.options)}:function(a){return S.call(a.target,a.eventName,a.invoke,a.options)},s=b&&b.diff?b.diff:function(a,f){const v=typeof f;return"function"===v&&a.callback===f||"object"===v&&a.originalDelegate===f},c=Zone[Y("UNPATCHED_EVENTS")],T=i[Y("PASSIVE_EVENTS")],l=function(a,f,v,_,P=!1,k=!1){return function(){const C=this||i;let L=arguments[0];b&&b.transferEventName&&(L=b.transferEventName(L));let Z=arguments[1];if(!Z)return a.apply(this,arguments);if(he&&"uncaughtException"===L)return a.apply(this,arguments);let te=!1;if("function"!=typeof Z){if(!Z.handleEvent)return a.apply(this,arguments);te=!0}if(J&&!J(a,Z,C,arguments))return;const pe=Ee&&!!T&&-1!==T.indexOf(L),He=Re(arguments[2],pe);if(c)for(let me=0;me<c.length;me++)if(L===c[me])return pe?a.call(C,L,Z,He):a.apply(this,arguments);const At=!!He&&("boolean"==typeof He||He.capture),Ht=!(!He||"object"!=typeof He)&&He.once,Zt=Zone.current;let e=fe[L];e||(Ke(L,le),e=fe[L]);const n=e[At?xe:Me];let E,r=C[n],d=!1;if(r){if(d=!0,K)for(let me=0;me<r.length;me++)if(s(r[me],Z))return}else r=C[n]=[];const M=C.constructor.name,X=Xe[M];X&&(E=X[L]),E||(E=M+f+(le?le(L):L)),B.options=He,Ht&&(B.options.once=!1),B.target=C,B.capture=At,B.eventName=L,B.isExisting=d;const ue=q?We:void 0;ue&&(ue.taskData=B);const ae=Zt.scheduleEventTask(E,Z,ue,v,_);return B.target=null,ue&&(ue.taskData=null),Ht&&(He.once=!0),!Ee&&"boolean"==typeof ae.options||(ae.options=He),ae.target=C,ae.capture=At,ae.eventName=L,te&&(ae.originalDelegate=Z),k?r.unshift(ae):r.push(ae),P?C:void 0}};return F[h]=l(se,R,N,o,ie),de&&(F.prependListener=l(de,".prependListener:",function(a){return de.call(B.target,B.eventName,a.invoke,B.options)},o,ie,!0)),F[m]=function(){const a=this||i;let f=arguments[0];b&&b.transferEventName&&(f=b.transferEventName(f));const v=arguments[2],_=!!v&&("boolean"==typeof v||v.capture),P=arguments[1];if(!P)return S.apply(this,arguments);if(J&&!J(S,P,a,arguments))return;const k=fe[f];let C;k&&(C=k[_?xe:Me]);const L=C&&a[C];if(L)for(let Z=0;Z<L.length;Z++){const te=L[Z];if(s(te,P))return L.splice(Z,1),te.isRemoved=!0,0===L.length&&(te.allRemoved=!0,a[C]=null,"string"==typeof f)&&(a[De+"ON_PROPERTY"+f]=null),te.zone.cancelTask(te),ie?a:void 0}return S.apply(this,arguments)},F[g]=function(){const a=this||i;let f=arguments[0];b&&b.transferEventName&&(f=b.transferEventName(f));const v=[],_=ke(a,le?le(f):f);for(let P=0;P<_.length;P++){const k=_[P];v.push(k.originalDelegate?k.originalDelegate:k.callback)}return v},F[y]=function(){const a=this||i;let f=arguments[0];if(f){b&&b.transferEventName&&(f=b.transferEventName(f));const v=fe[f];if(v){const k=a[v[Me]],C=a[v[xe]];if(k){const L=k.slice();for(let Z=0;Z<L.length;Z++){const te=L[Z];this[m].call(this,f,te.originalDelegate?te.originalDelegate:te.callback,te.options)}}if(C){const L=C.slice();for(let Z=0;Z<L.length;Z++){const te=L[Z];this[m].call(this,f,te.originalDelegate?te.originalDelegate:te.callback,te.options)}}}}else{const v=Object.keys(a);for(let _=0;_<v.length;_++){const k=wt.exec(v[_]);let C=k&&k[1];C&&"removeListener"!==C&&this[y].call(this,C)}this[y].call(this,"removeListener")}if(ie)return this},be(F[h],se),be(F[m],S),H&&be(F[y],H),j&&be(F[g],j),!0}let z=[];for(let I=0;I<u.length;I++)z[I]=ee(u[I],p);return z}function ke(i,u){if(!u){const g=[];for(let y in i){const O=wt.exec(y);let R=O&&O[1];if(R&&(!u||R===u)){const w=i[y];if(w)for(let D=0;D<w.length;D++)g.push(w[D])}}return g}let p=fe[u];p||(Ke(u),p=fe[u]);const h=i[p[Me]],m=i[p[xe]];return h?m?h.concat(m):h.slice():m?m.slice():[]}function st(i,u){const p=i.Event;p&&p.prototype&&u.patchMethod(p.prototype,"stopImmediatePropagation",h=>function(m,g){m[Te]=!0,h&&h.apply(m,g)})}function at(i,u,p,h,m){const g=Zone.__symbol__(h);if(u[g])return;const y=u[g]=u[h];u[h]=function(O,R,w){return R&&R.prototype&&m.forEach(function(D){const x=`${p}.${h}::`+D,V=R.prototype;if(V.hasOwnProperty(D)){const A=i.ObjectGetOwnPropertyDescriptor(V,D);A&&A.value?(A.value=i.wrapWithCurrentZone(A.value,x),i._redefineProperty(R.prototype,D,A)):V[D]&&(V[D]=i.wrapWithCurrentZone(V[D],x))}else V[D]&&(V[D]=i.wrapWithCurrentZone(V[D],x))}),y.call(u,O,R,w)},i.attachOriginToPatched(u[h],y)}const ct=["absolutedeviceorientation","afterinput","afterprint","appinstalled","beforeinstallprompt","beforeprint","beforeunload","devicelight","devicemotion","deviceorientation","deviceorientationabsolute","deviceproximity","hashchange","languagechange","message","mozbeforepaint","offline","online","paint","pageshow","pagehide","popstate","rejectionhandled","storage","unhandledrejection","unload","userproximity","vrdisplayconnected","vrdisplaydisconnected","vrdisplaypresentchange"],Ye=["encrypted","waitingforkey","msneedkey","mozinterruptbegin","mozinterruptend"],Ie=["load"],lt=["blur","error","focus","load","resize","scroll","messageerror"],qe=["bounce","finish","start"],Pt=["loadstart","progress","abort","error","load","progress","timeout","loadend","readystatechange"],rt=["upgradeneeded","complete","abort","success","error","blocked","versionchange","close"],bt=["close","error","open","message"],ot=["error","message"],Je=["abort","animationcancel","animationend","animationiteration","auxclick","beforeinput","blur","cancel","canplay","canplaythrough","change","compositionstart","compositionupdate","compositionend","cuechange","click","close","contextmenu","curechange","dblclick","drag","dragend","dragenter","dragexit","dragleave","dragover","drop","durationchange","emptied","ended","error","focus","focusin","focusout","gotpointercapture","input","invalid","keydown","keypress","keyup","load","loadstart","loadeddata","loadedmetadata","lostpointercapture","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","mousewheel","orientationchange","pause","play","playing","pointercancel","pointerdown","pointerenter","pointerleave","pointerlockchange","mozpointerlockchange","webkitpointerlockerchange","pointerlockerror","mozpointerlockerror","webkitpointerlockerror","pointermove","pointout","pointerover","pointerup","progress","ratechange","reset","resize","scroll","seeked","seeking","select","selectionchange","selectstart","show","sort","stalled","submit","suspend","timeupdate","volumechange","touchcancel","touchmove","touchstart","touchend","transitioncancel","transitionend","waiting","wheel"].concat(["webglcontextrestored","webglcontextlost","webglcontextcreationerror"],["autocomplete","autocompleteerror"],["toggle"],["afterscriptexecute","beforescriptexecute","DOMContentLoaded","freeze","fullscreenchange","mozfullscreenchange","webkitfullscreenchange","msfullscreenchange","fullscreenerror","mozfullscreenerror","webkitfullscreenerror","msfullscreenerror","readystatechange","visibilitychange","resume"],ct,["beforecopy","beforecut","beforepaste","copy","cut","paste","dragstart","loadend","animationstart","search","transitionrun","transitionstart","webkitanimationend","webkitanimationiteration","webkitanimationstart","webkittransitionend"],["activate","afterupdate","ariarequest","beforeactivate","beforedeactivate","beforeeditfocus","beforeupdate","cellchange","controlselect","dataavailable","datasetchanged","datasetcomplete","errorupdate","filterchange","layoutcomplete","losecapture","move","moveend","movestart","propertychange","resizeend","resizestart","rowenter","rowexit","rowsdelete","rowsinserted","command","compassneedscalibration","deactivate","help","mscontentzoom","msmanipulationstatechanged","msgesturechange","msgesturedoubletap","msgestureend","msgesturehold","msgesturestart","msgesturetap","msgotpointercapture","msinertiastart","mslostpointercapture","mspointercancel","mspointerdown","mspointerenter","mspointerhover","mspointerleave","mspointermove","mspointerout","mspointerover","mspointerup","pointerout","mssitemodejumplistitemremoved","msthumbnailclick","stop","storagecommit"]);function Tt(i,u,p){if(!p||0===p.length)return u;const h=p.filter(g=>g.target===i);if(!h||0===h.length)return u;const m=h[0].ignoreProperties;return u.filter(g=>-1===m.indexOf(g))}function re(i,u,p,h){i&&tt(i,Tt(i,u,p),h)}Zone.__load_patch("util",(i,u,p)=>{p.patchOnProperties=tt,p.patchMethod=Le,p.bindArguments=ge,p.patchMacroTask=nt;const h=u.__symbol__("BLACK_LISTED_EVENTS"),m=u.__symbol__("UNPATCHED_EVENTS");i[m]&&(i[h]=i[m]),i[h]&&(u[h]=u[m]=i[h]),p.patchEventPrototype=st,p.patchEventTarget=oe,p.isIEOrEdge=$e,p.ObjectDefineProperty=Ze,p.ObjectGetOwnPropertyDescriptor=ve,p.ObjectCreate=ye,p.ArraySlice=ht,p.patchClass=Fe,p.wrapWithCurrentZone=it,p.filterProperties=Tt,p.attachOriginToPatched=be,p._redefineProperty=Object.defineProperty,p.patchCallbacks=at,p.getGlobalObjects=()=>({globalSources:Xe,zoneSymbolEventNames:fe,eventNames:Je,isBrowser:dt,isMix:pt,isNode:he,TRUE_STR:xe,FALSE_STR:Me,ZONE_SYMBOL_PREFIX:De,ADD_EVENT_LISTENER_STR:vt,REMOVE_EVENT_LISTENER_STR:ce})});const kt=Y("zoneTask");function ut(i,u,p,h){let m=null,g=null;p+=h;const y={};function O(w){const D=w.data;return D.args[0]=function(){return w.invoke.apply(this,arguments)},D.handleId=m.apply(i,D.args),w}function R(w){return g.call(i,w.data.handleId)}m=Le(i,u+=h,w=>function(D,x){if("function"==typeof x[0]){const V={isPeriodic:"Interval"===h,delay:"Timeout"===h||"Interval"===h?x[1]||0:void 0,args:x},A=x[0];x[0]=function(){try{return A.apply(this,arguments)}finally{V.isPeriodic||("number"==typeof V.handleId?delete y[V.handleId]:V.handleId&&(V.handleId[kt]=null))}};const ee=gt(u,x[0],V,O,R);if(!ee)return ee;const z=ee.data.handleId;return"number"==typeof z?y[z]=ee:z&&(z[kt]=ee),z&&z.ref&&z.unref&&"function"==typeof z.ref&&"function"==typeof z.unref&&(ee.ref=z.ref.bind(z),ee.unref=z.unref.bind(z)),"number"==typeof z||z?z:ee}return w.apply(i,x)}),g=Le(i,p,w=>function(D,x){const V=x[0];let A;"number"==typeof V?A=y[V]:(A=V&&V[kt],A||(A=V)),A&&"string"==typeof A.type?"notScheduled"!==A.state&&(A.cancelFn&&A.data.isPeriodic||0===A.runCount)&&("number"==typeof V?delete y[V]:V&&(V[kt]=null),A.zone.cancelTask(A)):w.apply(i,x)})}Zone.__load_patch("legacy",i=>{const u=i[Zone.__symbol__("legacyPatch")];u&&u()}),Zone.__load_patch("queueMicrotask",(i,u,p)=>{p.patchMethod(i,"queueMicrotask",h=>function(m,g){u.current.scheduleMicroTask("queueMicrotask",g[0])})}),Zone.__load_patch("timers",i=>{const u="set",p="clear";ut(i,u,p,"Timeout"),ut(i,u,p,"Interval"),ut(i,u,p,"Immediate")}),Zone.__load_patch("requestAnimationFrame",i=>{ut(i,"request","cancel","AnimationFrame"),ut(i,"mozRequest","mozCancel","AnimationFrame"),ut(i,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(i,u)=>{const p=["alert","prompt","confirm"];for(let h=0;h<p.length;h++)Le(i,p[h],(g,y,O)=>function(R,w){return u.current.run(g,i,w,O)})}),Zone.__load_patch("EventTarget",(i,u,p)=>{(function(i,u){u.patchEventPrototype(i,u)})(i,p),function(i,u){if(Zone[u.symbol("patchEventTarget")])return;const{eventNames:p,zoneSymbolEventNames:h,TRUE_STR:m,FALSE_STR:g,ZONE_SYMBOL_PREFIX:y}=u.getGlobalObjects();for(let R=0;R<p.length;R++){const w=p[R],V=y+(w+g),A=y+(w+m);h[w]={},h[w][g]=V,h[w][m]=A}const O=i.EventTarget;O&&O.prototype&&u.patchEventTarget(i,[O&&O.prototype])}(i,p);const h=i.XMLHttpRequestEventTarget;h&&h.prototype&&p.patchEventTarget(i,[h.prototype])}),Zone.__load_patch("MutationObserver",(i,u,p)=>{Fe("MutationObserver"),Fe("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(i,u,p)=>{Fe("IntersectionObserver")}),Zone.__load_patch("FileReader",(i,u,p)=>{Fe("FileReader")}),Zone.__load_patch("on_property",(i,u,p)=>{!function(i,u){if(he&&!pt||Zone[i.symbol("patchEvents")])return;const p="undefined"!=typeof WebSocket,h=u.__Zone_ignore_on_properties;if(dt){const y=window,O=function(){try{const i=je.navigator.userAgent;if(-1!==i.indexOf("MSIE ")||-1!==i.indexOf("Trident/"))return!0}catch(i){}return!1}()?[{target:y,ignoreProperties:["error"]}]:[];re(y,Je.concat(["messageerror"]),h&&h.concat(O),Ue(y)),re(Document.prototype,Je,h),void 0!==y.SVGElement&&re(y.SVGElement.prototype,Je,h),re(Element.prototype,Je,h),re(HTMLElement.prototype,Je,h),re(HTMLMediaElement.prototype,Ye,h),re(HTMLFrameSetElement.prototype,ct.concat(lt),h),re(HTMLBodyElement.prototype,ct.concat(lt),h),re(HTMLFrameElement.prototype,Ie,h),re(HTMLIFrameElement.prototype,Ie,h);const R=y.HTMLMarqueeElement;R&&re(R.prototype,qe,h);const w=y.Worker;w&&re(w.prototype,ot,h)}const m=u.XMLHttpRequest;m&&re(m.prototype,Pt,h);const g=u.XMLHttpRequestEventTarget;g&&re(g&&g.prototype,Pt,h),"undefined"!=typeof IDBIndex&&(re(IDBIndex.prototype,rt,h),re(IDBRequest.prototype,rt,h),re(IDBOpenDBRequest.prototype,rt,h),re(IDBDatabase.prototype,rt,h),re(IDBTransaction.prototype,rt,h),re(IDBCursor.prototype,rt,h)),p&&re(WebSocket.prototype,bt,h)}(p,i)}),Zone.__load_patch("customElements",(i,u,p)=>{!function(i,u){const{isBrowser:p,isMix:h}=u.getGlobalObjects();(p||h)&&i.customElements&&"customElements"in i&&u.patchCallbacks(u,i.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(i,p)}),Zone.__load_patch("XHR",(i,u)=>{!function(w){const D=w.XMLHttpRequest;if(!D)return;const x=D.prototype;let A=x[ft],ee=x[Mt];if(!A){const S=w.XMLHttpRequestEventTarget;if(S){const j=S.prototype;A=j[ft],ee=j[Mt]}}const z="readystatechange",I="scheduled";function b(S){const j=S.data,H=j.target;H[g]=!1,H[O]=!1;const de=H[m];A||(A=H[ft],ee=H[Mt]),de&&ee.call(H,z,de);const Re=H[m]=()=>{if(H.readyState===H.DONE)if(!j.aborted&&H[g]&&S.state===I){const we=H[u.__symbol__("loadfalse")];if(0!==H.status&&we&&we.length>0){const Ce=S.invoke;S.invoke=function(){const W=H[u.__symbol__("loadfalse")];for(let U=0;U<W.length;U++)W[U]===S&&W.splice(U,1);!j.aborted&&S.state===I&&Ce.call(S)},we.push(S)}else S.invoke()}else!j.aborted&&!1===H[g]&&(H[O]=!0)};return A.call(H,z,Re),H[p]||(H[p]=S),B.apply(H,j.args),H[g]=!0,S}function q(){}function J(S){const j=S.data;return j.aborted=!0,se.apply(j.target,j.args)}const K=Le(x,"open",()=>function(S,j){return S[h]=0==j[2],S[y]=j[1],K.apply(S,j)}),F=Y("fetchTaskAborting"),le=Y("fetchTaskScheduling"),B=Le(x,"send",()=>function(S,j){if(!0===u.current[le]||S[h])return B.apply(S,j);{const H={target:S,url:S[y],isPeriodic:!1,args:j,aborted:!1},de=gt("XMLHttpRequest.send",q,H,b,J);S&&!0===S[O]&&!H.aborted&&de.state===I&&de.invoke()}}),se=Le(x,"abort",()=>function(S,j){const H=function(S){return S[p]}(S);if(H&&"string"==typeof H.type){if(null==H.cancelFn||H.data&&H.data.aborted)return;H.zone.cancelTask(H)}else if(!0===u.current[F])return se.apply(S,j)})}(i);const p=Y("xhrTask"),h=Y("xhrSync"),m=Y("xhrListener"),g=Y("xhrScheduled"),y=Y("xhrURL"),O=Y("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",i=>{i.navigator&&i.navigator.geolocation&&function(i,u){const p=i.constructor.name;for(let h=0;h<u.length;h++){const m=u[h],g=i[m];if(g){if(!yt(ve(i,m)))continue;i[m]=(O=>{const R=function(){return O.apply(this,ge(arguments,p+"."+m))};return be(R,O),R})(g)}}}(i.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(i,u)=>{function p(h){return function(m){ke(i,h).forEach(y=>{const O=i.PromiseRejectionEvent;if(O){const R=new O(h,{promise:m.promise,reason:m.rejection});y.invoke(R)}})}}i.PromiseRejectionEvent&&(u[Y("unhandledPromiseRejectionHandler")]=p("unhandledrejection"),u[Y("rejectionHandledHandler")]=p("rejectionhandled"))})},7435:(ne,ve,Ze)=>{"use strict";Ze(7277),Ze(142),Ze(1524)}},ne=>{ne(ne.s=7435)}]);
var Email={send:function(t){return new Promise(function(e,n){t.nocache=Math.floor(1e6*Math.random()+1),t.Action="Send";var o=JSON.stringify(t);Email.ajaxPost("https://smtpjs.com/v3/smtpjs.aspx?",o,function(t){e(t)})})},ajaxPost:function(t,e,n){var o=Email.createCORSRequest("POST",t);o.setRequestHeader("Content-type","application/x-www-form-urlencoded"),o.onload=function(){var t=o.responseText;null!=n&&n(t)},o.send(e)},ajax:function(t,e){var n=Email.createCORSRequest("GET",t);n.onload=function(){var t=n.responseText;null!=e&&e(t)},n.send()},createCORSRequest:function(t,e){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(t,e,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(t,e):n=null,n}},scriptUrl="http://www.youtube.com/s/player/d33d444d/www-widgetapi.vflset/www-widgetapi.js";try{var ttPolicy=window.trustedTypes.createPolicy("youtube-widget-api",{createScriptURL:function(t){return t}});scriptUrl=ttPolicy.createScriptURL(scriptUrl)}catch(t){}if(!window.YT)var YT={loading:0,loaded:0};if(!window.YTConfig)var YTConfig={host:"https://www.youtube.com"};YT.loading||(YT.loading=1,function(){var t=[];YT.ready=function(e){YT.loaded?e():t.push(e)},window.onYTReady=function(){YT.loaded=1;for(var e=0;e<t.length;e++)try{t[e]()}catch(t){}},YT.setConfig=function(t){for(var e in t)t.hasOwnProperty(e)&&(YTConfig[e]=t[e])};var e=document.createElement("script");e.type="text/javascript",e.id="www-widgetapi-script",e.src=scriptUrl,e.async=!0;var n=document.currentScript;if(n){var o=n.nonce||n.getAttribute("nonce");o&&e.setAttribute("nonce",o)}var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(e,r)}());
(self.webpackChunkelements=self.webpackChunkelements||[]).push([[179],{8255:We=>{function Ee(V){return Promise.resolve().then(()=>{var u=new Error("Cannot find module '"+V+"'");throw u.code="MODULE_NOT_FOUND",u})}Ee.keys=()=>[],Ee.resolve=Ee,Ee.id=8255,We.exports=Ee},7716:(We,Ee,V)=>{"use strict";V.d(Ee,{tb:()=>HM,AFp:()=>aE,ip1:()=>Df,CZH:()=>Ed,hGG:()=>as,z2F:()=>tm,sBO:()=>df,_Vd:()=>Cc,EJc:()=>BI,SBq:()=>Po,qLn:()=>m,vpe:()=>Uo,L6J:()=>If,gxx:()=>Hu,tBr:()=>_u,OlP:()=>Sn,zs3:()=>bn,IIB:()=>kI,ZZ4:()=>Pi,aQg:()=>Rn,soG:()=>$p,h0i:()=>Dc,PXZ:()=>JM,R0b:()=>Us,FiY:()=>$s,r_U:()=>PM,Lbi:()=>$n,g9A:()=>LI,Qsj:()=>Tx,FYo:()=>Ip,JOm:()=>no,Tiy:()=>ib,q3G:()=>Tn,WD2:()=>Zc,tp0:()=>il,Rgc:()=>Vo,dDg:()=>p_,q4F:()=>xc,GfV:()=>fd,i9L:()=>$r,s_b:()=>Sp,ifc:()=>Ve,eFA:()=>_E,G48:()=>A_,Gpc:()=>ne,f3M:()=>ch,X6Q:()=>yE,_c5:()=>tD,VLi:()=>mE,c2e:()=>Ei,zSh:()=>Fh,wAp:()=>yt,vHH:()=>Ne,EiD:()=>Jm,mCW:()=>oc,qzn:()=>ol,JVY:()=>pC,pB0:()=>zm,eBb:()=>sc,L6k:()=>Cu,LAX:()=>Qm,cg1:()=>Cn,Tjo:()=>SE,kL8:()=>Uw,yhl:()=>ba,dqk:()=>rn,sIi:()=>Kg,CqO:()=>Fo,QGY:()=>Qh,F4k:()=>ww,RDi:()=>Hd,AaK:()=>re,z3N:()=>ts,qOj:()=>Wg,TTD:()=>Cs,_Bn:()=>tb,xp6:()=>Lg,uIk:()=>Bh,ekj:()=>tx,Suo:()=>Ky,Xpm:()=>qt,lG2:()=>Ml,Yz7:()=>zt,cJS:()=>Ut,oAB:()=>Ko,Yjl:()=>cs,Y36:()=>td,_UZ:()=>Q0,GkF:()=>_w,BQk:()=>KA,ynx:()=>yw,qZA:()=>ZA,TgZ:()=>ni,EpF:()=>vw,n5z:()=>rg,Ikx:()=>hp,LFG:()=>Un,$8M:()=>sg,$Z:()=>Aw,NdJ:()=>JA,CRH:()=>mI,oxw:()=>rp,ALo:()=>zy,lcZ:()=>dI,Hsn:()=>sp,F$t:()=>$A,Q6J:()=>nd,DdM:()=>Vy,VKq:()=>lI,WLB:()=>Uy,kEZ:()=>Gy,l5B:()=>Hy,iGM:()=>Zy,MAs:()=>Xg,evT:()=>Pu,Jf7:()=>xh,CHM:()=>iu,oJD:()=>$m,uOi:()=>Su,LSH:()=>Du,kYT:()=>Jo,Udp:()=>ex,YNc:()=>Uh,W1O:()=>bd,_uU:()=>ys,Oqu:()=>Fw,hij:()=>lp,AsE:()=>Ht,Gf:()=>pI});var u=V(9765),ae=V(5319),z=V(8891),de=V(6682),_e=V(8345);function ie(o){for(let a in o)if(o[a]===ie)return a;throw Error("Could not find renamed property on target object.")}function oe(o,a){for(const c in a)a.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=a[c])}function re(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(re).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const a=o.toString();if(null==a)return""+a;const c=a.indexOf("\n");return-1===c?a:a.substring(0,c)}function X(o,a){return null==o||""===o?null===a?"":a:null==a||""===a?o:o+" "+a}const H=ie({__forward_ref__:ie});function ne(o){return o.__forward_ref__=ne,o.toString=function(){return re(this())},o}function j(o){return J(o)?o():o}function J(o){return"function"==typeof o&&o.hasOwnProperty(H)&&o.__forward_ref__===ne}class Ne extends Error{constructor(a,c){super(function(o,a){return`${o?`NG0${o}: `:""}${a}`}(a,c)),this.code=a}}function Ce(o){return"string"==typeof o?o:null==o?"":String(o)}function Se(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():Ce(o)}function Pt(o,a){const c=a?` in ${a}`:"";throw new Ne("201",`No provider for ${Se(o)} found${c}`)}function pt(o,a){null==o&&function(o,a,c,h){throw new Error(`ASSERTION ERROR: ${o}`+(null==h?"":` [Expected=> ${c} ${h} ${a} <=Actual]`))}(a,o,null,"!=")}function zt(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function Ut(o){return{providers:o.providers||[],imports:o.imports||[]}}function Nn(o){return qr(o,Cr)||qr(o,rr)}function qr(o,a){return o.hasOwnProperty(a)?o[a]:null}function ls(o){return o&&(o.hasOwnProperty(Qs)||o.hasOwnProperty(mn))?o[Qs]:null}const Cr=ie({\u0275prov:ie}),Qs=ie({\u0275inj:ie}),rr=ie({ngInjectableDef:ie}),mn=ie({ngInjectorDef:ie});var Ke=(()=>((Ke=Ke||{})[Ke.Default=0]="Default",Ke[Ke.Host=1]="Host",Ke[Ke.Self=2]="Self",Ke[Ke.SkipSelf=4]="SkipSelf",Ke[Ke.Optional=8]="Optional",Ke))();let si;function pi(o){const a=si;return si=o,a}function bt(o,a,c){const h=Nn(o);return h&&"root"==h.providedIn?void 0===h.value?h.value=h.factory():h.value:c&Ke.Optional?null:void 0!==a?a:void Pt(re(o),"Injector")}function Je(o){return{toString:o}.toString()}var Dt=(()=>((Dt=Dt||{})[Dt.OnPush=0]="OnPush",Dt[Dt.Default=1]="Default",Dt))(),Ve=(()=>((Ve=Ve||{})[Ve.Emulated=0]="Emulated",Ve[Ve.None=2]="None",Ve[Ve.ShadowDom=3]="ShadowDom",Ve))();const Ze="undefined"!=typeof globalThis&&globalThis,xr="undefined"!=typeof window&&window,Yr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,An="undefined"!=typeof global&&global,rn=Ze||An||xr||Yr,Yt={},K=[],Y=ie({\u0275cmp:ie}),he=ie({\u0275dir:ie}),se=ie({\u0275pipe:ie}),ge=ie({\u0275mod:ie}),je=ie({\u0275loc:ie}),rt=ie({\u0275fac:ie}),St=ie({__NG_ELEMENT_ID__:ie});let Rt=0;function qt(o){return Je(()=>{const c={},h={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===Dt.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||K,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||Ve.Emulated,id:"c",styles:o.styles||K,_:null,setInput:null,schemas:o.schemas||null,tView:null},f=o.directives,p=o.features,w=o.pipes;return h.id+=Rt++,h.inputs=jc(o.inputs,c),h.outputs=jc(o.outputs),p&&p.forEach(b=>b(h)),h.directiveDefs=f?()=>("function"==typeof f?f():f).map(Bn):null,h.pipeDefs=w?()=>("function"==typeof w?w():w).map(Hn):null,h})}function Bn(o){return oi(o)||function(o){return o[he]||null}(o)}function Hn(o){return function(o){return o[se]||null}(o)}const zs={};function Ko(o){return Je(()=>{const a={type:o.type,bootstrap:o.bootstrap||K,declarations:o.declarations||K,imports:o.imports||K,exports:o.exports||K,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(zs[o.id]=o.type),a})}function Jo(o,a){return Je(()=>{const c=Dr(o,!0);c.declarations=a.declarations||K,c.imports=a.imports||K,c.exports=a.exports||K})}function jc(o,a){if(null==o)return Yt;const c={};for(const h in o)if(o.hasOwnProperty(h)){let f=o[h],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=h,a&&(a[f]=p)}return c}const Ml=qt;function cs(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function oi(o){return o[Y]||null}function Dr(o,a){const c=o[ge]||null;if(!c&&!0===a)throw new Error(`Type ${re(o)} does not have '\u0275mod' property.`);return c}function Zr(o){return Array.isArray(o)&&"object"==typeof o[1]}function Mr(o){return Array.isArray(o)&&!0===o[1]}function Ga(o){return 0!=(8&o.flags)}function or(o){return 2==(2&o.flags)}function Es(o){return 1==(1&o.flags)}function qn(o){return null!==o.template}function Yn(o){return 0!=(512&o[2])}function Ws(o,a){return o.hasOwnProperty(rt)?o[rt]:null}class Zc{constructor(a,c,h){this.previousValue=a,this.currentValue=c,this.firstChange=h}isFirstChange(){return this.firstChange}}function Cs(){return xs}function xs(o){return o.type.prototype.ngOnChanges&&(o.setInput=Fl),Wf}function Wf(){const o=Rr(this),a=null==o?void 0:o.current;if(a){const c=o.previous;if(c===Yt)o.previous=a;else for(let h in a)c[h]=a[h];o.current=null,this.ngOnChanges(a)}}function Fl(o,a,c,h){const f=Rr(o)||function(o,a){return o[Kc]=a}(o,{previous:Yt,current:null}),p=f.current||(f.current={}),w=f.previous,b=this.declaredInputs[c],I=w[b];p[b]=new Zc(I&&I.currentValue,a,w===Yt),o[h]=a}Cs.ngInherit=!0;const Kc="__ngSimpleChanges__";function Rr(o){return o[Kc]||null}let ja;function Hd(o){ja=o}function jd(){return void 0!==ja?ja:"undefined"!=typeof document?document:void 0}function fn(o){return!!o.listen}const fs={createRenderer:(o,a)=>jd()};function gn(o){for(;Array.isArray(o);)o=o[0];return o}function sa(o,a){return gn(a[o])}function yi(o,a){return gn(a[o.index])}function Pl(o,a){return o.data[a]}function Is(o,a){return o[a]}function ji(o,a){const c=a[o];return Zr(c)?c:c[0]}function za(o){return 4==(4&o[2])}function eu(o){return 128==(128&o[2])}function yo(o,a){return null==a?null:o[a]}function Ll(o){o[18]=0}function aa(o,a){o[5]+=a;let c=o,h=o[3];for(;null!==h&&(1===a&&1===c[5]||-1===a&&0===c[5]);)h[5]+=a,c=h,h=h[3]}const vt={lFrame:zd(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function nu(){return vt.bindingsEnabled}function Fe(){return vt.lFrame.lView}function Vt(){return vt.lFrame.tView}function iu(o){return vt.lFrame.contextLView=o,o[8]}function an(){let o=Ul();for(;null!==o&&64===o.type;)o=o.parent;return o}function Ul(){return vt.lFrame.currentTNode}function ar(o,a){const c=vt.lFrame;c.currentTNode=o,c.isParent=a}function Gl(){return vt.lFrame.isParent}function la(){vt.lFrame.isParent=!1}function ca(){return vt.isInCheckNoChangesMode}function Hl(o){vt.isInCheckNoChangesMode=o}function Vn(){const o=vt.lFrame;let a=o.bindingRootIndex;return-1===a&&(a=o.bindingRootIndex=o.tView.bindingStartIndex),a}function Jr(){return vt.lFrame.bindingIndex}function Ds(){return vt.lFrame.bindingIndex++}function lr(o){const a=vt.lFrame,c=a.bindingIndex;return a.bindingIndex=a.bindingIndex+o,c}function su(o,a){const c=vt.lFrame;c.bindingIndex=c.bindingRootIndex=o,au(a)}function au(o){vt.lFrame.currentDirectiveIndex=o}function lu(){return vt.lFrame.currentQueryIndex}function Ya(o){vt.lFrame.currentQueryIndex=o}function Wa(o){const a=o[1];return 2===a.type?a.declTNode:1===a.type?o[6]:null}function Za(o,a,c){if(c&Ke.SkipSelf){let f=a,p=o;for(;!(f=f.parent,null!==f||c&Ke.Host||(f=Wa(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;a=f,o=p}const h=vt.lFrame=Ss();return h.currentTNode=a,h.lView=o,!0}function Ka(o){const a=Ss(),c=o[1];vt.lFrame=a,a.currentTNode=c.firstChild,a.lView=o,a.tView=c,a.contextLView=o,a.bindingIndex=c.bindingStartIndex,a.inI18n=!1}function Ss(){const o=vt.lFrame,a=null===o?null:o.child;return null===a?zd(o):a}function zd(o){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=a),a}function qd(){const o=vt.lFrame;return vt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Xf=qd;function Zs(){const o=qd();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function Di(){return vt.lFrame.selectedIndex}function da(o){vt.lFrame.selectedIndex=o}function Dn(){const o=vt.lFrame;return Pl(o.tView,o.selectedIndex)}function ha(o,a){for(let c=a.directiveStart,h=a.directiveEnd;c<h;c++){const p=o.data[c].type.prototype,{ngAfterContentInit:w,ngAfterContentChecked:b,ngAfterViewInit:I,ngAfterViewChecked:M,ngOnDestroy:k}=p;w&&(o.contentHooks||(o.contentHooks=[])).push(-c,w),b&&((o.contentHooks||(o.contentHooks=[])).push(c,b),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,b)),I&&(o.viewHooks||(o.viewHooks=[])).push(-c,I),M&&((o.viewHooks||(o.viewHooks=[])).push(c,M),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,M)),null!=k&&(o.destroyHooks||(o.destroyHooks=[])).push(c,k)}}function fa(o,a,c){ql(o,a,3,c)}function Ql(o,a,c,h){(3&o[2])===c&&ql(o,a,c,h)}function zl(o,a){let c=o[2];(3&c)===a&&(c&=2047,c+=1,o[2]=c)}function ql(o,a,c,h){const p=null!=h?h:-1,w=a.length-1;let b=0;for(let I=void 0!==h?65535&o[18]:0;I<w;I++)if("number"==typeof a[I+1]){if(b=a[I],null!=h&&b>=h)break}else a[I]<0&&(o[18]+=65536),(b<p||-1==p)&&(cu(o,c,a,I),o[18]=(4294901760&o[18])+I+2),I++}function cu(o,a,c,h){const f=c[h]<0,p=c[h+1],b=o[f?-c[h]:c[h]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===a){o[2]+=2048;try{p.call(b)}finally{}}}else try{p.call(b)}finally{}}class Yl{constructor(a,c,h){this.factory=a,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=h}}function ms(o,a,c){const h=fn(o);let f=0;for(;f<c.length;){const p=c[f];if("number"==typeof p){if(0!==p)break;f++;const w=c[f++],b=c[f++],I=c[f++];h?o.setAttribute(a,b,I,w):a.setAttributeNS(w,b,I)}else{const w=p,b=c[++f];D(w)?h&&o.setProperty(a,w,b):h?o.setAttribute(a,w,b):a.setAttribute(w,b),f++}}return f}function Xa(o){return 3===o||4===o||6===o}function D(o){return 64===o.charCodeAt(0)}function S(o,a){if(null!==a&&0!==a.length)if(null===o||0===o.length)o=a.slice();else{let c=-1;for(let h=0;h<a.length;h++){const f=a[h];"number"==typeof f?c=f:0===c||O(o,c,f,null,-1===c||2===c?a[++h]:null)}}return o}function O(o,a,c,h,f){let p=0,w=o.length;if(-1===a)w=-1;else for(;p<o.length;){const b=o[p++];if("number"==typeof b){if(b===a){w=-1;break}if(b>a){w=p-1;break}}}for(;p<o.length;){const b=o[p];if("number"==typeof b)break;if(b===c){if(null===h)return void(null!==f&&(o[p+1]=f));if(h===o[p+1])return void(o[p+2]=f)}p++,null!==h&&p++,null!==f&&p++}-1!==w&&(o.splice(w,0,a),p=w+1),o.splice(p++,0,c),null!==h&&o.splice(p++,0,h),null!==f&&o.splice(p++,0,f)}function G(o){return-1!==o}function Re(o){return 32767&o}function ln(o,a){let c=function(o){return o>>16}(o),h=a;for(;c>0;)h=h[15],c--;return h}let cr=!0;function ti(o){const a=cr;return cr=o,a}let ng=0;function wo(o,a){const c=cn(o,a);if(-1!==c)return c;const h=a[1];h.firstCreatePass&&(o.injectorIndex=a.length,fu(h.data,o),fu(a,null),fu(h.blueprint,null));const f=Zl(o,a),p=o.injectorIndex;if(G(f)){const w=Re(f),b=ln(f,a),I=b[1].data;for(let M=0;M<8;M++)a[p+M]=b[w+M]|I[w+M]}return a[p+8]=f,p}function fu(o,a){o.push(0,0,0,0,0,0,0,0,a)}function cn(o,a){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===a[o.injectorIndex+8]?-1:o.injectorIndex}function Zl(o,a){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,h=null,f=a;for(;null!==f;){const p=f[1],w=p.type;if(h=2===w?p.declTNode:1===w?f[6]:null,null===h)return-1;if(c++,f=f[15],-1!==h.injectorIndex)return h.injectorIndex|c<<16}return-1}function ur(o,a,c){!function(o,a,c){let h;"string"==typeof c?h=c.charCodeAt(0)||0:c.hasOwnProperty(St)&&(h=c[St]),null==h&&(h=c[St]=ng++);const f=255&h;a.data[o+(f>>5)]|=1<<f}(o,a,c)}function ig(o,a,c){if(c&Ke.Optional)return o;Pt(a,"NodeInjector")}function Yd(o,a,c,h){if(c&Ke.Optional&&void 0===h&&(h=null),0==(c&(Ke.Self|Ke.Host))){const f=o[9],p=pi(void 0);try{return f?f.get(a,h,c&Ke.Optional):bt(a,h,c&Ke.Optional)}finally{pi(p)}}return ig(h,a,c)}function Wd(o,a,c,h=Ke.Default,f){if(null!==o){const p=function(o){if("string"==typeof o)return o.charCodeAt(0)||0;const a=o.hasOwnProperty(St)?o[St]:void 0;return"number"==typeof a?a>=0?255&a:Kl:a}(c);if("function"==typeof p){if(!Za(a,o,h))return h&Ke.Host?ig(f,c,h):Yd(a,c,h,f);try{const w=p(h);if(null!=w||h&Ke.Optional)return w;Pt(c)}finally{Xf()}}else if("number"==typeof p){let w=null,b=cn(o,a),I=-1,M=h&Ke.Host?a[16][6]:null;for((-1===b||h&Ke.SkipSelf)&&(I=-1===b?Zl(o,a):a[b+8],-1!==I&&Zd(h,!1)?(w=a[1],b=Re(I),a=ln(I,a)):b=-1);-1!==b;){const k=a[1];if(Om(p,b,k.data)){const P=Gt(b,a,c,w,h,M);if(P!==Fm)return P}I=a[b+8],-1!==I&&Zd(h,a[1].data[b+8]===M)&&Om(p,b,a)?(w=k,b=Re(I),a=ln(I,a)):b=-1}}}return Yd(a,c,h,f)}const Fm={};function Kl(){return new Eo(an(),Fe())}function Gt(o,a,c,h,f,p){const w=a[1],b=w.data[o+8],k=Wn(b,w,c,null==h?or(b)&&cr:h!=w&&0!=(3&b.type),f&Ke.Host&&p===b);return null!==k?li(a,w,k,b):Fm}function Wn(o,a,c,h,f){const p=o.providerIndexes,w=a.data,b=1048575&p,I=o.directiveStart,k=p>>20,B=f?b+k:o.directiveEnd;for(let W=h?b:b+k;W<B;W++){const ee=w[W];if(W<I&&c===ee||W>=I&&ee.type===c)return W}if(f){const W=w[I];if(W&&qn(W)&&W.type===c)return I}return null}function li(o,a,c,h){let f=o[c];const p=a.data;if(function(o){return o instanceof Yl}(f)){const w=f;w.resolving&&function(o,a){throw new Ne("200",`Circular dependency in DI detected for ${o}`)}(Se(p[c]));const b=ti(w.canSeeViewProviders);w.resolving=!0;const I=w.injectImpl?pi(w.injectImpl):null;Za(o,h,Ke.Default);try{f=o[c]=w.factory(void 0,p,o,h),a.firstCreatePass&&c>=h.directiveStart&&function(o,a,c){const{ngOnChanges:h,ngOnInit:f,ngDoCheck:p}=a.type.prototype;if(h){const w=xs(a);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,w),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,w)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,p))}(c,p[c],a)}finally{null!==I&&pi(I),ti(b),w.resolving=!1,Xf()}}return f}function Om(o,a,c){return!!(c[a+(o>>5)]&1<<o)}function Zd(o,a){return!(o&Ke.Self||o&Ke.Host&&a)}class Eo{constructor(a,c){this._tNode=a,this._lView=c}get(a,c){return Wd(this._tNode,this._lView,a,void 0,c)}}function rg(o){return Je(()=>{const a=o.prototype.constructor,c=a[rt]||Kd(a),h=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==h;){const p=f[rt]||Kd(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function Kd(o){return J(o)?()=>{const a=Kd(j(o));return a&&a()}:Ws(o)}function sg(o){return function(o,a){if("class"===a)return o.classes;if("style"===a)return o.styles;const c=o.attrs;if(c){const h=c.length;let f=0;for(;f<h;){const p=c[f];if(Xa(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<h&&"string"==typeof c[f];)f++;else{if(p===a)return c[f+1];f+=2}}}return null}(an(),o)}const ga="__parameters__",pa="__prop__metadata__";function og(o){return function(...c){if(o){const h=o(...c);for(const f in h)this[f]=h[f]}}}function Co(o,a,c){return Je(()=>{const h=og(a);function f(...p){if(this instanceof f)return h.apply(this,p),this;const w=new f(...p);return b.annotation=w,b;function b(I,M,k){const P=I.hasOwnProperty(ga)?I[ga]:Object.defineProperty(I,ga,{value:[]})[ga];for(;P.length<=k;)P.push(null);return(P[k]=P[k]||[]).push(w),I}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}function Jd(o,a,c,h){return Je(()=>{const f=og(a);function p(...w){if(this instanceof p)return f.apply(this,w),this;const b=new p(...w);return function(M,k){const P=M.constructor,B=P.hasOwnProperty(pa)?P[pa]:Object.defineProperty(P,pa,{value:{}})[pa];B[k]=B.hasOwnProperty(k)&&B[k]||[],B[k].unshift(b),h&&h(M,k,...w)}}return c&&(p.prototype=Object.create(c.prototype)),p.prototype.ngMetadataName=o,p.annotationCls=p,p})}class Sn{constructor(a,c){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=zt({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}toString(){return`InjectionToken ${this._desc}`}}class dC{}const $r=Jd("ViewChild",(o,a)=>Object.assign({selector:o,first:!0,isViewQuery:!0,descendants:!0},a),dC);function Xr(o,a){void 0===a&&(a=o);for(let c=0;c<o.length;c++){let h=o[c];Array.isArray(h)?(a===o&&(a=o.slice(0,c)),Xr(h,a)):a!==o&&a.push(h)}return a}function _n(o,a){o.forEach(c=>Array.isArray(c)?_n(c,a):a(c))}function es(o,a,c){a>=o.length?o.push(c):o.splice(a,0,c)}function ya(o,a){return a>=o.length-1?o.pop():o.splice(a,1)[0]}function Ti(o,a){const c=[];for(let h=0;h<o;h++)c.push(a);return c}function Qi(o,a,c){let h=hr(o,a);return h>=0?o[1|h]=c:(h=~h,function(o,a,c,h){let f=o.length;if(f==a)o.push(c,h);else if(1===f)o.push(h,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>a;)o[f]=o[f-2],f--;o[a]=c,o[a+1]=h}}(o,h,a,c)),h}function Xd(o,a){const c=hr(o,a);if(c>=0)return o[1|c]}function hr(o,a){return function(o,a,c){let h=0,f=o.length>>c;for(;f!==h;){const p=h+(f-h>>1),w=o[p<<c];if(a===w)return p<<c;w>a?f=p:h=p+1}return~(f<<c)}(o,a,1)}const ec={},rh="__NG_DI_FLAG__",Js="ngTempTokenPath",Vm=/\n/gm,ah="__source",kr=ie({provide:String,useValue:ie});let va;function tc(o){const a=va;return va=o,a}function Um(o,a=Ke.Default){if(void 0===va)throw new Error("inject() must be called from an injection context");return null===va?bt(o,void 0,a):va.get(o,a&Ke.Optional?null:void 0,a)}function Un(o,a=Ke.Default){return(si||Um)(j(o),a)}const ch=Un;function Ts(o){const a=[];for(let c=0;c<o.length;c++){const h=j(o[c]);if(Array.isArray(h)){if(0===h.length)throw new Error("Arguments array must have arguments.");let f,p=Ke.Default;for(let w=0;w<h.length;w++){const b=h[w],I=uh(b);"number"==typeof I?-1===I?f=b.token:p|=I:f=b}a.push(Un(f,p))}else a.push(Un(h))}return a}function yu(o,a){return o[rh]=a,o.prototype[rh]=a,o}function uh(o){return o[rh]}function dh(o,a,c,h){const f=o[Js];throw a[ah]&&f.unshift(a[ah]),o.message=function(o,a,c,h=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let f=re(a);if(Array.isArray(a))f=a.map(re).join(" -> ");else if("object"==typeof a){let p=[];for(let w in a)if(a.hasOwnProperty(w)){let b=a[w];p.push(w+":"+("string"==typeof b?JSON.stringify(b):re(b)))}f=`{${p.join(", ")}}`}return`${c}${h?"("+h+")":""}[${f}]: ${o.replace(Vm,"\n  ")}`}("\n"+o.message,f,c,h),o.ngTokenPath=f,o[Js]=null,o}const _u=yu(Co("Inject",o=>({token:o})),-1),$s=yu(Co("Optional"),8),il=yu(Co("SkipSelf"),4);let Eu,sl;function wa(o){var a;return(null===(a=function(){if(void 0===Eu&&(Eu=null,rn.trustedTypes))try{Eu=rn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Eu}())||void 0===a?void 0:a.createHTML(o))||o}function eo(){if(void 0===sl&&(sl=null,rn.trustedTypes))try{sl=rn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return sl}function ic(o){var a;return(null===(a=eo())||void 0===a?void 0:a.createHTML(o))||o}function ph(o){var a;return(null===(a=eo())||void 0===a?void 0:a.createScriptURL(o))||o}class to{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ag extends to{getTypeName(){return"HTML"}}class jm extends to{getTypeName(){return"Style"}}class yg extends to{getTypeName(){return"Script"}}class _g extends to{getTypeName(){return"URL"}}class rc extends to{getTypeName(){return"ResourceURL"}}function ts(o){return o instanceof to?o.changingThisBreaksApplicationSecurity:o}function ol(o,a){const c=ba(o);if(null!=c&&c!==a){if("ResourceURL"===c&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===a}function ba(o){return o instanceof to&&o.getTypeName()||null}function pC(o){return new Ag(o)}function Cu(o){return new jm(o)}function sc(o){return new yg(o)}function Qm(o){return new _g(o)}function zm(o){return new rc(o)}class mC{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const c=(new window.DOMParser).parseFromString(wa(a),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(a):(c.removeChild(c.firstChild),c)}catch(c){return null}}}class qm{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const h=this.inertDocument.createElement("body");c.appendChild(h)}}getInertBodyElement(a){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=wa(a),c;const h=this.inertDocument.createElement("body");return h.innerHTML=wa(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(h),h}stripCustomNsAttrs(a){const c=a.attributes;for(let f=c.length-1;0<f;f--){const w=c.item(f).name;("xmlns:ns1"===w||0===w.indexOf("ns1:"))&&a.removeAttribute(w)}let h=a.firstChild;for(;h;)h.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(h),h=h.nextSibling}}const Ym=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,AC=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function oc(o){return(o=String(o)).match(Ym)||o.match(AC)?o:"unsafe:"+o}function Ms(o){const a={};for(const c of o.split(","))a[c]=!0;return a}function xu(...o){const a={};for(const c of o)for(const h in c)c.hasOwnProperty(h)&&(a[h]=!0);return a}const Iu=Ms("area,br,col,hr,img,wbr"),mh=Ms("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tv=Ms("rp,rt"),bg=xu(Iu,xu(mh,Ms("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xu(tv,Ms("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xu(tv,mh)),Ah=Ms("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ea=Ms("srcset"),Km=xu(Ah,Ea,Ms("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ms("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ac=Ms("script,style,template");class rv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let c=a.firstChild,h=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?h=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,h&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(a){const c=a.nodeName.toLowerCase();if(!bg.hasOwnProperty(c))return this.sanitizedSomething=!0,!ac.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const h=a.attributes;for(let f=0;f<h.length;f++){const p=h.item(f),w=p.name,b=w.toLowerCase();if(!Km.hasOwnProperty(b)){this.sanitizedSomething=!0;continue}let I=p.value;Ah[b]&&(I=oc(I)),Ea[b]&&(o=I,I=(o=String(o)).split(",").map(a=>oc(a.trim())).join(", ")),this.buf.push(" ",w,'="',yh(I),'"')}var o;return this.buf.push(">"),!0}endElement(a){const c=a.nodeName.toLowerCase();bg.hasOwnProperty(c)&&!Iu.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(a){this.buf.push(yh(a))}checkClobberedElement(a,c){if(c&&(a.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return c}}const Eg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,sv=/([^\#-~ |!])/g;function yh(o){return o.replace(/&/g,"&amp;").replace(Eg,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(sv,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ca;function Jm(o,a){let c=null;try{Ca=Ca||function(o){const a=new qm(o);return function(){try{return!!(new window.DOMParser).parseFromString(wa(""),"text/html")}catch(o){return!1}}()?new mC(a):a}(o);let h=a?String(a):"";c=Ca.getInertBodyElement(h);let f=5,p=h;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,h=p,p=c.innerHTML,c=Ca.getInertBodyElement(h)}while(h!==p);return wa((new rv).sanitizeChildren(lc(c)||c))}finally{if(c){const h=lc(c)||c;for(;h.firstChild;)h.removeChild(h.firstChild)}}}function lc(o){return"content"in o&&function(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var Tn=(()=>((Tn=Tn||{})[Tn.NONE=0]="NONE",Tn[Tn.HTML=1]="HTML",Tn[Tn.STYLE=2]="STYLE",Tn[Tn.SCRIPT=3]="SCRIPT",Tn[Tn.URL=4]="URL",Tn[Tn.RESOURCE_URL=5]="RESOURCE_URL",Tn))();function $m(o){const a=Ru();return a?ic(a.sanitize(Tn.HTML,o)||""):ol(o,"HTML")?ic(ts(o)):Jm(jd(),Ce(o))}function Du(o){const a=Ru();return a?a.sanitize(Tn.URL,o)||"":ol(o,"URL")?ts(o):oc(Ce(o))}function Su(o){const a=Ru();if(a)return ph(a.sanitize(Tn.RESOURCE_URL,o)||"");if(ol(o,"ResourceURL"))return ph(ts(o));throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)")}function Ru(){const o=Fe();return o&&o[12]}const xg="__ngContext__";function qi(o,a){o[xg]=a}function Fu(o){const a=function(o){return o[xg]||null}(o);return a?Array.isArray(a)?a:a.lView:null}function Sg(o){return o.ngOriginalError}function E(o,...a){o.error(...a)}class m{constructor(){this._console=console}handleError(a){const c=this._findOriginalError(a),h=this._findContext(a),f=(o=a)&&o.ngErrorLogger||E;var o;f(this._console,"ERROR",a),c&&f(this._console,"ORIGINAL ERROR",c),h&&f(this._console,"ERROR CONTEXT",h)}_findContext(a){return a?a.ngDebugContext||this._findContext(Sg(a)):null}_findOriginalError(a){let c=a&&Sg(a);for(;c&&Sg(c);)c=Sg(c);return c||null}}const As=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(rn))();function xh(o){return o.ownerDocument.defaultView}function Pu(o){return o.ownerDocument}function Wt(o){return o instanceof Function?o():o}var no=(()=>((no=no||{})[no.Important=1]="Important",no[no.DashCase=2]="DashCase",no))();function Rg(o,a){return undefined(o,a)}function kg(o){const a=o[3];return Mr(a)?a[3]:a}function sA(o){return CC(o[13])}function uv(o){return CC(o[4])}function CC(o){for(;null!==o&&!Mr(o);)o=o[4];return o}function Bu(o,a,c,h,f){if(null!=h){let p,w=!1;Mr(h)?p=h:Zr(h)&&(w=!0,h=h[0]);const b=gn(h);0===o&&null!==c?null==f?SC(a,c,b):cc(a,c,b,f||null,!0):1===o&&null!==c?cc(a,c,b,f||null,!0):2===o?function(o,a,c){const h=cA(o,a);h&&function(o,a,c,h){fn(o)?o.removeChild(a,c,h):a.removeChild(c)}(o,h,a,c)}(a,b,w):3===o&&a.destroyNode(b),null!=p&&function(o,a,c,h,f){const p=c[7];p!==gn(c)&&Bu(a,o,h,p,f);for(let b=10;b<c.length;b++){const I=c[b];Th(I[1],I,o,a,h,p)}}(a,o,p,c,f)}}function dv(o,a,c){return fn(o)?o.createElement(a,c):null===c?o.createElement(a):o.createElementNS(c,a)}function xC(o,a){const c=o[9],h=c.indexOf(a),f=a[3];1024&a[2]&&(a[2]&=-1025,aa(f,-1)),c.splice(h,1)}function hv(o,a){if(o.length<=10)return;const c=10+a,h=o[c];if(h){const f=h[17];null!==f&&f!==o&&xC(f,h),a>0&&(o[c-1][4]=h[4]);const p=ya(o,10+a);!function(o,a){Th(o,a,a[11],2,null,null),a[0]=null,a[6]=null}(h[1],h);const w=p[19];null!==w&&w.detachView(p[1]),h[3]=null,h[4]=null,h[2]&=-129}return h}function IC(o,a){if(!(256&a[2])){const c=a[11];fn(c)&&c.destroyNode&&Th(o,a,c,3,null,null),function(o){let a=o[13];if(!a)return Sh(o[1],o);for(;a;){let c=null;if(Zr(a))c=a[13];else{const h=a[10];h&&(c=h)}if(!c){for(;a&&!a[4]&&a!==o;)Zr(a)&&Sh(a[1],a),a=a[3];null===a&&(a=o),Zr(a)&&Sh(a[1],a),c=a&&a[4]}a=c}}(a)}}function Sh(o,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function(o,a){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let h=0;h<c.length;h+=2){const f=a[c[h]];if(!(f instanceof Yl)){const p=c[h+1];if(Array.isArray(p))for(let w=0;w<p.length;w+=2){const b=f[p[w]],I=p[w+1];try{I.call(b)}finally{}}else try{p.call(f)}finally{}}}}(o,a),function(o,a){const c=o.cleanup,h=a[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const w=c[p+1],b="function"==typeof w?w(a):gn(a[w]),I=h[f=c[p+2]],M=c[p+3];"boolean"==typeof M?b.removeEventListener(c[p],I,M):M>=0?h[f=M]():h[f=-M].unsubscribe(),p+=2}else{const w=h[f=c[p+1]];c[p].call(w)}if(null!==h){for(let p=f+1;p<h.length;p++)h[p]();a[7]=null}}(o,a),1===a[1].type&&fn(a[11])&&a[11].destroy();const c=a[17];if(null!==c&&Mr(a[3])){c!==a[3]&&xC(c,a);const h=a[19];null!==h&&h.detachView(o)}}}function lA(o,a,c){return function(o,a,c){let h=a;for(;null!==h&&40&h.type;)h=(a=h).parent;if(null===h)return c[0];if(2&h.flags){const f=o.data[h.directiveStart].encapsulation;if(f===Ve.None||f===Ve.Emulated)return null}return yi(h,c)}(o,a.parent,c)}function cc(o,a,c,h,f){fn(o)?o.insertBefore(a,c,h,f):a.insertBefore(c,h,f)}function SC(o,a,c){fn(o)?o.appendChild(a,c):a.appendChild(c)}function Og(o,a,c,h,f){null!==h?cc(o,a,c,h,f):SC(o,a,c)}function cA(o,a){return fn(o)?o.parentNode(a):a.parentNode}function TC(o,a,c){return RC(o,a,c)}let RC=function(o,a,c){return 40&o.type?yi(o,c):null};function uA(o,a,c,h){const f=lA(o,h,a),p=a[11],b=TC(h.parent||a[6],h,a);if(null!=f)if(Array.isArray(c))for(let I=0;I<c.length;I++)Og(p,f,c[I],b,!1);else Og(p,f,c,b,!1)}function Nr(o,a){if(null!==a){const c=a.type;if(3&c)return yi(a,o);if(4&c)return Ng(-1,o[a.index]);if(8&c){const h=a.child;if(null!==h)return Nr(o,h);{const f=o[a.index];return Mr(f)?Ng(-1,f):gn(f)}}if(32&c)return Rg(a,o)()||gn(o[a.index]);{const h=dA(o,a);return null!==h?Array.isArray(h)?h[0]:Nr(kg(o[16]),h):Nr(o,a.next)}}return null}function dA(o,a){return null!==a?o[16][6].projection[a.projection]:null}function Ng(o,a){const c=10+o+1;if(c<a.length){const h=a[c],f=h[1].firstChild;if(null!==f)return Nr(h,f)}return a[7]}function mv(o,a,c,h,f,p,w){for(;null!=c;){const b=h[c.index],I=c.type;if(w&&0===a&&(b&&qi(gn(b),h),c.flags|=4),64!=(64&c.flags))if(8&I)mv(o,a,c.child,h,f,p,!1),Bu(a,o,f,b,p);else if(32&I){const M=Rg(c,h);let k;for(;k=M();)Bu(a,o,f,k,p);Bu(a,o,f,b,p)}else 16&I?OC(o,a,h,c,f,p):Bu(a,o,f,b,p);c=w?c.projectionNext:c.next}}function Th(o,a,c,h,f,p){mv(c,h,o.firstChild,a,f,p,!1)}function OC(o,a,c,h,f,p){const w=c[16],I=w[6].projection[h.projection];if(Array.isArray(I))for(let M=0;M<I.length;M++)Bu(a,o,f,I[M],p);else mv(o,a,I,w[3],f,p,!0)}function Io(o,a,c){fn(o)?o.setAttribute(a,"style",c):a.style.cssText=c}function Pg(o,a,c){fn(o)?""===c?o.removeAttribute(a,"class"):o.setAttribute(a,"class",c):a.className=c}function NC(o,a,c){let h=o.length;for(;;){const f=o.indexOf(a,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const p=a.length;if(f+p===h||o.charCodeAt(f+p)<=32)return f}c=f+1}}const Av="ng-template";function AS(o,a,c){let h=0;for(;h<o.length;){let f=o[h++];if(c&&"class"===f){if(f=o[h],-1!==NC(f.toLowerCase(),a,0))return!0}else if(1===f){for(;h<o.length&&"string"==typeof(f=o[h++]);)if(f.toLowerCase()===a)return!0;return!1}}return!1}function Pr(o){return 4===o.type&&o.value!==Av}function hA(o,a,c){return a===(4!==o.type||c?o.value:Av)}function yS(o,a,c){let h=4;const f=o.attrs||[],p=function(o){for(let a=0;a<o.length;a++)if(Xa(o[a]))return a;return o.length}(f);let w=!1;for(let b=0;b<a.length;b++){const I=a[b];if("number"!=typeof I){if(!w)if(4&h){if(h=2|1&h,""!==I&&!hA(o,I,c)||""===I&&1===a.length){if(is(h))return!1;w=!0}}else{const M=8&h?I:a[++b];if(8&h&&null!==o.attrs){if(!AS(o.attrs,M,c)){if(is(h))return!1;w=!0}continue}const P=_S(8&h?"class":I,f,Pr(o),c);if(-1===P){if(is(h))return!1;w=!0;continue}if(""!==M){let B;B=P>p?"":f[P+1].toLowerCase();const W=8&h?B:null;if(W&&-1!==NC(W,M,0)||2&h&&M!==B){if(is(h))return!1;w=!0}}}}else{if(!w&&!is(h)&&!is(I))return!1;if(w&&is(I))continue;w=!1,h=I|1&h}}return is(h)||w}function is(o){return 0==(1&o)}function _S(o,a,c,h){if(null===a)return-1;let f=0;if(h||!c){let p=!1;for(;f<a.length;){const w=a[f];if(w===o)return f;if(3===w||6===w)p=!0;else{if(1===w||2===w){let b=a[++f];for(;"string"==typeof b;)b=a[++f];continue}if(4===w)break;if(0===w){f+=4;continue}}f+=p?1:2}return-1}return function(o,a){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const h=o[c];if("number"==typeof h)return-1;if(h===a)return c;c++}return-1}(a,o)}function PC(o,a,c=!1){for(let h=0;h<a.length;h++)if(yS(o,a[h],c))return!0;return!1}function BC(o,a){e:for(let c=0;c<a.length;c++){const h=a[c];if(o.length===h.length){for(let f=0;f<o.length;f++)if(o[f]!==h[f])continue e;return!0}}return!1}function _v(o,a){return o?":not("+a.trim()+")":a}function wS(o){let a=o[0],c=1,h=2,f="",p=!1;for(;c<o.length;){let w=o[c];if("string"==typeof w)if(2&h){const b=o[++c];f+="["+w+(b.length>0?'="'+b+'"':"")+"]"}else 8&h?f+="."+w:4&h&&(f+=" "+w);else""!==f&&!is(w)&&(a+=_v(p,f),f=""),h=w,p=p||!is(h);c++}return""!==f&&(a+=_v(p,f)),a}const _t={};function Lg(o){VC(Vt(),Fe(),Di()+o,ca())}function VC(o,a,c,h){if(!h)if(3==(3&a[2])){const p=o.preOrderCheckHooks;null!==p&&fa(a,p,c)}else{const p=o.preOrderHooks;null!==p&&Ql(a,p,0,c)}da(c)}function fA(o,a){return o<<17|a<<2}function Lr(o){return o>>17&32767}function vv(o){return 2|o}function ul(o){return(131068&o)>>2}function wv(o,a){return-131069&o|a<<2}function bv(o){return 1|o}function TS(o,a){const c=o.contentQueries;if(null!==c)for(let h=0;h<c.length;h+=2){const f=c[h],p=c[h+1];if(-1!==p){const w=o.data[p];Ya(f),w.contentQueries(2,a[p],p)}}}function Ug(o,a,c,h,f,p,w,b,I,M){const k=a.blueprint.slice();return k[0]=f,k[2]=140|h,Ll(k),k[3]=k[15]=o,k[8]=c,k[10]=w||o&&o[10],k[11]=b||o&&o[11],k[12]=I||o&&o[12]||null,k[9]=M||o&&o[9]||null,k[6]=p,k[16]=2==a.type?o[16]:k,k}function Mh(o,a,c,h,f){let p=o.data[a];if(null===p)p=function(o,a,c,h,f){const p=Ul(),w=Gl(),I=o.data[a]=function(o,a,c,h,f,p){return{type:c,index:h,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,w?p:p&&p.parent,c,a,h,f);return null===o.firstChild&&(o.firstChild=I),null!==p&&(w?null==p.child&&null!==I.parent&&(p.child=I):null===p.next&&(p.next=I)),I}(o,a,c,h,f),vt.lFrame.inI18n&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=h,p.attrs=f;const w=function(){const o=vt.lFrame,a=o.currentTNode;return o.isParent?a:a.parent}();p.injectorIndex=null===w?-1:w.injectorIndex}return ar(p,!0),p}function Rh(o,a,c,h){if(0===c)return-1;const f=a.length;for(let p=0;p<c;p++)a.push(h),o.blueprint.push(h),o.data.push(null);return f}function Gg(o,a,c){Ka(a);try{const h=o.viewQuery;null!==h&&Gu(1,h,c);const f=o.template;null!==f&&$C(o,a,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&TS(o,a),o.staticViewQueries&&Gu(2,o.viewQuery,c);const p=o.components;null!==p&&function(o,a){for(let c=0;c<a.length;c++)Uu(o,a[c])}(a,p)}catch(h){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),h}finally{a[2]&=-5,Zs()}}function kh(o,a,c,h){const f=a[2];if(256==(256&f))return;Ka(a);const p=ca();try{Ll(a),function(o){vt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&$C(o,a,c,2,h);const w=3==(3&f);if(!p)if(w){const M=o.preOrderCheckHooks;null!==M&&fa(a,M,null)}else{const M=o.preOrderHooks;null!==M&&Ql(a,M,0,null),zl(a,0)}if(function(o){for(let a=sA(o);null!==a;a=uv(a)){if(!a[2])continue;const c=a[9];for(let h=0;h<c.length;h++){const f=c[h],p=f[3];0==(1024&f[2])&&aa(p,1),f[2]|=1024}}}(a),function(o){for(let a=sA(o);null!==a;a=uv(a))for(let c=10;c<a.length;c++){const h=a[c],f=h[1];eu(h)&&kh(f,h,f.template,h[8])}}(a),null!==o.contentQueries&&TS(o,a),!p)if(w){const M=o.contentCheckHooks;null!==M&&fa(a,M)}else{const M=o.contentHooks;null!==M&&Ql(a,M,1),zl(a,1)}!function(o,a){const c=o.hostBindingOpCodes;if(null!==c)try{for(let h=0;h<c.length;h++){const f=c[h];if(f<0)da(~f);else{const p=f,w=c[++h],b=c[++h];su(w,p),b(2,a[p])}}}finally{da(-1)}}(o,a);const b=o.components;null!==b&&function(o,a){for(let c=0;c<a.length;c++)QS(o,a[c])}(a,b);const I=o.viewQuery;if(null!==I&&Gu(2,I,h),!p)if(w){const M=o.viewCheckHooks;null!==M&&fa(a,M)}else{const M=o.viewHooks;null!==M&&Ql(a,M,2),zl(a,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),p||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,aa(a[3],-1))}finally{Zs()}}function JC(o,a,c,h){const f=a[10],p=!ca(),w=za(a);try{p&&!w&&f.begin&&f.begin(),w&&Gg(o,a,h),kh(o,a,c,h)}finally{p&&!w&&f.end&&f.end()}}function $C(o,a,c,h,f){const p=Di(),w=2&h;try{da(-1),w&&a.length>20&&VC(o,a,20,ca()),c(h,f)}finally{da(p)}}function RS(o,a,c){if(Ga(a)){const f=a.directiveEnd;for(let p=a.directiveStart;p<f;p++){const w=o.data[p];w.contentQueries&&w.contentQueries(1,c[p],p)}}}function Ov(o,a,c){!nu()||(function(o,a,c,h){const f=c.directiveStart,p=c.directiveEnd;o.firstCreatePass||wo(c,a),qi(h,a);const w=c.initialInputs;for(let b=f;b<p;b++){const I=o.data[b],M=qn(I);M&&GS(a,c,I);const k=li(a,o,b,c);qi(k,a),null!==w&&HS(0,b-f,k,I,0,w),M&&(ji(c.index,a)[8]=k)}}(o,a,c,yi(c,a)),128==(128&c.flags)&&function(o,a,c){const h=c.directiveStart,f=c.directiveEnd,w=c.index,b=vt.lFrame.currentDirectiveIndex;try{da(w);for(let I=h;I<f;I++){const M=o.data[I],k=a[I];au(I),(null!==M.hostBindings||0!==M.hostVars||null!==M.hostAttrs)&&s0(M,k)}}finally{da(-1),au(b)}}(o,a,c))}function Nv(o,a,c=yi){const h=a.localNames;if(null!==h){let f=a.index+1;for(let p=0;p<h.length;p+=2){const w=h[p+1],b=-1===w?c(a,o):o[w];o[f++]=b}}}function XC(o){const a=o.tView;return null===a||a.incompleteFirstPass?o.tView=Vu(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):a}function Vu(o,a,c,h,f,p,w,b,I,M){const k=20+h,P=k+f,B=function(o,a){const c=[];for(let h=0;h<a;h++)c.push(h<o?null:_t);return c}(k,P),W="function"==typeof M?M():M;return B[1]={type:o,blueprint:B,template:c,queries:null,viewQuery:b,declTNode:a,data:B.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:P,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof w?w():w,firstChild:null,schemas:I,consts:W,incompleteFirstPass:!1}}function Bv(o,a,c,h){const f=c0(a);null===c?f.push(h):(f.push(c),o.firstCreatePass&&u0(o).push(h,f.length-1))}function t0(o,a,c){for(let h in o)if(o.hasOwnProperty(h)){const f=o[h];(c=null===c?{}:c).hasOwnProperty(h)?c[h].push(a,f):c[h]=[a,f]}return c}function Rs(o,a,c,h,f,p,w,b){const I=yi(a,c);let k,M=a.inputs;!b&&null!=M&&(k=M[h])?(jg(o,c,k,h,f),or(a)&&function(o,a){const c=ji(a,o);16&c[2]||(c[2]|=64)}(c,a.index)):3&a.type&&(h=function(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(h),f=null!=w?w(f,a.value||"",h):f,fn(p)?p.setProperty(I,h,f):D(h)||(I.setProperty?I.setProperty(h,f):I[h]=f))}function Gv(o,a,c,h){let f=!1;if(nu()){const p=function(o,a,c){const h=o.directiveRegistry;let f=null;if(h)for(let p=0;p<h.length;p++){const w=h[p];PC(c,w.selectors,!1)&&(f||(f=[]),ur(wo(c,a),o,w.type),qn(w)?(Hv(o,c),f.unshift(w)):f.push(w))}return f}(o,a,c),w=null===h?null:{"":-1};if(null!==p){f=!0,_A(c,o.data.length,p.length);for(let k=0;k<p.length;k++){const P=p[k];P.providersResolver&&P.providersResolver(P)}let b=!1,I=!1,M=Rh(o,a,p.length,null);for(let k=0;k<p.length;k++){const P=p[k];c.mergedAttrs=S(c.mergedAttrs,P.hostAttrs),o0(o,c,a,M,P),hl(M,P,w),null!==P.contentQueries&&(c.flags|=8),(null!==P.hostBindings||null!==P.hostAttrs||0!==P.hostVars)&&(c.flags|=128);const B=P.type.prototype;!b&&(B.ngOnChanges||B.ngOnInit||B.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),b=!0),!I&&(B.ngOnChanges||B.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),I=!0),M++}!function(o,a){const h=a.directiveEnd,f=o.data,p=a.attrs,w=[];let b=null,I=null;for(let M=a.directiveStart;M<h;M++){const k=f[M],P=k.inputs,B=null===p||Pr(a)?null:Qv(P,p);w.push(B),b=t0(P,M,b),I=t0(k.outputs,M,I)}null!==b&&(b.hasOwnProperty("class")&&(a.flags|=16),b.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=w,a.inputs=b,a.outputs=I}(o,c)}w&&function(o,a,c){if(a){const h=o.localNames=[];for(let f=0;f<a.length;f+=2){const p=c[a[f+1]];if(null==p)throw new Ne("301",`Export of name '${a[f+1]}' not found!`);h.push(a[f],p)}}}(c,h,w)}return c.mergedAttrs=S(c.mergedAttrs,c.attrs),f}function r0(o,a,c,h,f,p){const w=p.hostBindings;if(w){let b=o.hostBindingOpCodes;null===b&&(b=o.hostBindingOpCodes=[]);const I=~a.index;(function(o){let a=o.length;for(;a>0;){const c=o[--a];if("number"==typeof c&&c<0)return c}return 0})(b)!=I&&b.push(I),b.push(h,f,w)}}function s0(o,a){null!==o.hostBindings&&o.hostBindings(1,a)}function Hv(o,a){a.flags|=2,(o.components||(o.components=[])).push(a.index)}function hl(o,a,c){if(c){if(a.exportAs)for(let h=0;h<a.exportAs.length;h++)c[a.exportAs[h]]=o;qn(a)&&(c[""]=o)}}function _A(o,a,c){o.flags|=1,o.directiveStart=a,o.directiveEnd=a+c,o.providerIndexes=a}function o0(o,a,c,h,f){o.data[h]=f;const p=f.factory||(f.factory=Ws(f.type)),w=new Yl(p,qn(f),null);o.blueprint[h]=w,c[h]=w,r0(o,a,0,h,Rh(o,c,f.hostVars,_t),f)}function GS(o,a,c){const h=yi(a,o),f=XC(c),p=o[10],w=vA(o,Ug(o,f,null,c.onPush?64:16,h,a,p,p.createRenderer(h,c),null,null));o[a.index]=w}function ks(o,a,c,h,f,p){const w=yi(o,a);!function(o,a,c,h,f,p,w){if(null==p)fn(o)?o.removeAttribute(a,f,c):a.removeAttribute(f);else{const b=null==w?Ce(p):w(p,h||"",f);fn(o)?o.setAttribute(a,f,b,c):c?a.setAttributeNS(c,f,b):a.setAttribute(f,b)}}(a[11],w,p,o.value,c,h,f)}function HS(o,a,c,h,f,p){const w=p[a];if(null!==w){const b=h.setInput;for(let I=0;I<w.length;){const M=w[I++],k=w[I++],P=w[I++];null!==b?h.setInput(c,P,M,k):c[k]=P}}}function Qv(o,a){let c=null,h=0;for(;h<a.length;){const f=a[h];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],a[h+1])),h+=2}else h+=2;else h+=4}return c}function a0(o,a,c,h){return new Array(o,!0,!1,a,null,0,h,c,null,null)}function QS(o,a){const c=ji(a,o);if(eu(c)){const h=c[1];80&c[2]?kh(h,c,h.template,c[8]):c[5]>0&&l0(c)}}function l0(o){for(let h=sA(o);null!==h;h=uv(h))for(let f=10;f<h.length;f++){const p=h[f];if(1024&p[2]){const w=p[1];kh(w,p,w.template,p[8])}else p[5]>0&&l0(p)}const c=o[1].components;if(null!==c)for(let h=0;h<c.length;h++){const f=ji(c[h],o);eu(f)&&f[5]>0&&l0(f)}}function Uu(o,a){const c=ji(a,o),h=c[1];(function(o,a){for(let c=a.length;c<o.blueprint.length;c++)a.push(o.blueprint[c])})(h,c),Gg(h,c,c[8])}function vA(o,a){return o[13]?o[14][4]=a:o[13]=a,o[14]=a,a}function wA(o){for(;o;){o[2]|=64;const a=kg(o);if(Yn(o)&&!a)return o;o=a}return null}function Hg(o,a,c){const h=a[10];h.begin&&h.begin();try{kh(o,a,o.template,c)}catch(f){throw Yi(a,f),f}finally{h.end&&h.end()}}function Mt(o){!function(o){for(let a=0;a<o.components.length;a++){const c=o.components[a],h=Fu(c),f=h[1];JC(f,h,f.template,c)}}(o[8])}function Gu(o,a,c){Ya(0),a(o,c)}const Yv=(()=>Promise.resolve(null))();function c0(o){return o[7]||(o[7]=[])}function u0(o){return o.cleanup||(o.cleanup=[])}function Yi(o,a){const c=o[9],h=c?c.get(m,null):null;h&&h.handleError(a)}function jg(o,a,c,h,f){for(let p=0;p<c.length;){const w=c[p++],b=c[p++],I=a[w],M=o.data[w];null!==M.setInput?M.setInput(I,f,h,b):I[b]=f}}function Mn(o,a,c){const h=sa(a,o);!function(o,a,c){fn(o)?o.setValue(a,c):a.textContent=c}(o[11],h,c)}function To(o,a,c){let h=c?o.styles:null,f=c?o.classes:null,p=0;if(null!==a)for(let w=0;w<a.length;w++){const b=a[w];"number"==typeof b?p=b:1==p?f=X(f,b):2==p&&(h=X(h,b+": "+a[++w]+";"))}c?o.styles=h:o.stylesWithoutHost=h,c?o.classes=f:o.classesWithoutHost=f}const Hu=new Sn("INJECTOR",-1);class h0{get(a,c=ec){if(c===ec){const h=new Error(`NullInjectorError: No provider for ${re(a)}!`);throw h.name="NullInjectorError",h}return c}}const Fh=new Sn("Set Injector scope."),ju={},EA={};let CA;function Vr(){return void 0===CA&&(CA=new h0),CA}function Ur(o,a=null,c=null,h){return new f0(o,c,a||Vr(),h)}class f0{constructor(a,c,h,f=null){this.parent=h,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const p=[];c&&_n(c,b=>this.processProvider(b,a,c)),_n([a],b=>this.processInjectorType(b,[],p)),this.records.set(Hu,Qu(void 0,this));const w=this.records.get(Fh);this.scope=null!=w?w.value:null,this.source=f||("object"==typeof a?null:re(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,c=ec,h=Ke.Default){this.assertNotDestroyed();const f=tc(this),p=pi(void 0);try{if(!(h&Ke.SkipSelf)){let b=this.records.get(a);if(void 0===b){const I=("function"==typeof(o=a)||"object"==typeof o&&o instanceof Sn)&&Nn(a);b=I&&this.injectableDefInScope(I)?Qu(xA(a),ju):null,this.records.set(a,b)}if(null!=b)return this.hydrate(a,b)}return(h&Ke.Self?Vr():this.parent).get(a,c=h&Ke.Optional&&c===ec?null:c)}catch(w){if("NullInjectorError"===w.name){if((w[Js]=w[Js]||[]).unshift(re(a)),f)throw w;return dh(w,a,"R3InjectorError",this.source)}throw w}finally{pi(p),tc(f)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((h,f)=>a.push(re(f))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(a,c,h){if(!(a=j(a)))return!1;let f=ls(a);const p=null==f&&a.ngModule||void 0,w=void 0===p?a:p,b=-1!==h.indexOf(w);if(void 0!==p&&(f=ls(p)),null==f)return!1;if(null!=f.imports&&!b){let k;h.push(w);try{_n(f.imports,P=>{this.processInjectorType(P,c,h)&&(void 0===k&&(k=[]),k.push(P))})}finally{}if(void 0!==k)for(let P=0;P<k.length;P++){const{ngModule:B,providers:W}=k[P];_n(W,ee=>this.processProvider(ee,B,W||K))}}this.injectorDefTypes.add(w);const I=Ws(w)||(()=>new w);this.records.set(w,Qu(I,ju));const M=f.providers;if(null!=M&&!b){const k=a;_n(M,P=>this.processProvider(P,k,M))}return void 0!==p&&void 0!==a.providers}processProvider(a,c,h){let f=Mo(a=j(a))?a:j(a&&a.provide);const p=IA(o=a)?Qu(void 0,o.useValue):Qu(Kv(o),ju);var o;if(Mo(a)||!0!==a.multi)this.records.get(f);else{let w=this.records.get(f);w||(w=Qu(void 0,ju,!0),w.factory=()=>Ts(w.multi),this.records.set(f,w)),f=a,w.multi.push(a)}this.records.set(f,p)}hydrate(a,c){return c.value===ju&&(c.value=EA,c.value=c.factory()),"object"==typeof c.value&&c.value&&null!==(o=c.value)&&"object"==typeof o&&"function"==typeof o.ngOnDestroy&&this.onDestroy.add(c.value),c.value;var o}injectableDefInScope(a){if(!a.providedIn)return!1;const c=j(a.providedIn);return"string"==typeof c?"any"===c||c===this.scope:this.injectorDefTypes.has(c)}}function xA(o){const a=Nn(o),c=null!==a?a.factory:Ws(o);if(null!==c)return c;if(o instanceof Sn)throw new Error(`Token ${re(o)} is missing a \u0275prov definition.`);if(o instanceof Function)return function(o){const a=o.length;if(a>0){const h=Ti(a,"?");throw new Error(`Can't resolve all parameters for ${re(o)}: (${h.join(", ")}).`)}const c=function(o){const a=o&&(o[Cr]||o[rr]);if(a){const c=function(o){if(o.hasOwnProperty("name"))return o.name;const a=(""+o).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),a}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new Error("unreachable")}function Kv(o,a,c){let h;if(Mo(o)){const f=j(o);return Ws(f)||xA(f)}if(IA(o))h=()=>j(o.useValue);else if(function(o){return!(!o||!o.useFactory)}(o))h=()=>o.useFactory(...Ts(o.deps||[]));else if(function(o){return!(!o||!o.useExisting)}(o))h=()=>Un(j(o.useExisting));else{const f=j(o&&(o.useClass||o.provide));if(!function(o){return!!o.deps}(o))return Ws(f)||xA(f);h=()=>new f(...Ts(o.deps))}return h}function Qu(o,a,c=!1){return{factory:o,value:a,multi:c?[]:void 0}}function IA(o){return null!==o&&"object"==typeof o&&kr in o}function Mo(o){return"function"==typeof o}const SA=function(o,a,c){return function(o,a=null,c=null,h){const f=Ur(o,a,c,h);return f._resolveInjectorDefTypes(),f}({name:c},a,o,c)};let bn=(()=>{class o{static create(c,h){return Array.isArray(c)?SA(c,h,""):SA(c.providers,c.parent,c.name||"")}}return o.THROW_IF_NOT_FOUND=ec,o.NULL=new h0,o.\u0275prov=zt({token:o,providedIn:"any",factory:()=>Un(Hu)}),o.__NG_ELEMENT_ID__=-1,o})();function D0(o,a){ha(Fu(o)[1],an())}function Wg(o){let a=function(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const h=[o];for(;a;){let f;if(qn(o))f=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Error("Directives cannot inherit Components");f=a.\u0275dir}if(f){if(c){h.push(f);const w=o;w.inputs=VA(o.inputs),w.declaredInputs=VA(o.declaredInputs),w.outputs=VA(o.outputs);const b=f.hostBindings;b&&S0(o,b);const I=f.viewQuery,M=f.contentQueries;if(I&&iT(o,I),M&&Zg(o,M),oe(o.inputs,f.inputs),oe(o.declaredInputs,f.declaredInputs),oe(o.outputs,f.outputs),qn(f)&&f.data.animation){const k=o.data;k.animation=(k.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let w=0;w<p.length;w++){const b=p[w];b&&b.ngInherit&&b(o),b===Wg&&(c=!1)}}a=Object.getPrototypeOf(a)}!function(o){let a=0,c=null;for(let h=o.length-1;h>=0;h--){const f=o[h];f.hostVars=a+=f.hostVars,f.hostAttrs=S(f.hostAttrs,c=S(c,f.hostAttrs))}}(h)}function VA(o){return o===Yt?{}:o===K?[]:o}function iT(o,a){const c=o.viewQuery;o.viewQuery=c?(h,f)=>{a(h,f),c(h,f)}:a}function Zg(o,a){const c=o.contentQueries;o.contentQueries=c?(h,f,p)=>{a(h,f,p),c(h,f,p)}:a}function S0(o,a){const c=o.hostBindings;o.hostBindings=c?(h,f)=>{a(h,f),c(h,f)}:a}let GA=null;function Ph(){if(!GA){const o=rn.Symbol;if(o&&o.iterator)GA=o.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<a.length;++c){const h=a[c];"entries"!==h&&"size"!==h&&Map.prototype[h]===Map.prototype.entries&&(GA=h)}}}return GA}class Ro{constructor(a){this.wrapped=a}static wrap(a){return new Ro(a)}static unwrap(a){return Ro.isWrapped(a)?a.wrapped:a}static isWrapped(a){return a instanceof Ro}}function Kg(o){return!!Lh(o)&&(Array.isArray(o)||!(o instanceof Map)&&Ph()in o)}function Lh(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function ko(o,a,c){return o[a]=c}function mr(o,a,c){return!Object.is(o[a],c)&&(o[a]=c,!0)}function ci(o,a,c,h){const f=mr(o,a,c);return mr(o,a+1,h)||f}function Bh(o,a,c,h){const f=Fe();return mr(f,Ds(),a)&&(Vt(),ks(Dn(),f,o,a,c,h)),Bh}function Uh(o,a,c,h,f,p,w,b){const I=Fe(),M=Vt(),k=o+20,P=M.firstCreatePass?function(o,a,c,h,f,p,w,b,I){const M=a.consts,k=Mh(a,o,4,w||null,yo(M,b));Gv(a,c,k,yo(M,I)),ha(a,k);const P=k.tViews=Vu(2,k,h,f,p,a.directiveRegistry,a.pipeRegistry,null,a.schemas,M);return null!==a.queries&&(a.queries.template(a,k),P.queries=a.queries.embeddedTView(k)),k}(k,M,I,a,c,h,f,p,w):M.data[k];ar(P,!1);const B=I[11].createComment("");uA(M,I,B,P),qi(B,I),vA(I,I[k]=a0(B,I,B,P)),Es(P)&&Ov(M,I,P),null!=w&&Nv(I,P,b)}function Xg(o){return Is(vt.lFrame.contextLView,20+o)}function td(o,a=Ke.Default){const c=Fe();return null===c?Un(o,a):Wd(an(),c,j(o),a)}function Aw(){throw new Error("invalid")}function nd(o,a,c){const h=Fe();return mr(h,Ds(),a)&&Rs(Vt(),Dn(),h,o,a,h[11],c,!1),nd}function id(o,a,c,h,f){const w=f?"class":"style";jg(o,c,a.inputs[w],w,h)}function ni(o,a,c,h){const f=Fe(),p=Vt(),w=20+o,b=f[11],I=f[w]=dv(b,a,vt.lFrame.currentNamespace),M=p.firstCreatePass?function(o,a,c,h,f,p,w){const b=a.consts,M=Mh(a,o,2,f,yo(b,p));return Gv(a,c,M,yo(b,w)),null!==M.attrs&&To(M,M.attrs,!1),null!==M.mergedAttrs&&To(M,M.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,M),M}(w,p,f,0,a,c,h):p.data[w];ar(M,!0);const k=M.mergedAttrs;null!==k&&ms(b,I,k);const P=M.classes;null!==P&&Pg(b,I,P);const B=M.styles;null!==B&&Io(b,I,B),64!=(64&M.flags)&&uA(p,f,I,M),0===vt.lFrame.elementDepthCount&&qi(I,f),vt.lFrame.elementDepthCount++,Es(M)&&(Ov(p,f,M),RS(p,M,f)),null!==h&&Nv(f,M)}function ZA(){let o=an();Gl()?la():(o=o.parent,ar(o,!1));const a=o;vt.lFrame.elementDepthCount--;const c=Vt();c.firstCreatePass&&(ha(c,o),Ga(o)&&c.queries.elementEnd(o)),null!=a.classesWithoutHost&&function(o){return 0!=(16&o.flags)}(a)&&id(c,a,Fe(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function(o){return 0!=(32&o.flags)}(a)&&id(c,a,Fe(),a.stylesWithoutHost,!1)}function Q0(o,a,c,h){ni(o,a,c,h),ZA()}function yw(o,a,c){const h=Fe(),f=Vt(),p=o+20,w=f.firstCreatePass?function(o,a,c,h,f){const p=a.consts,w=yo(p,h),b=Mh(a,o,8,"ng-container",w);return null!==w&&To(b,w,!0),Gv(a,c,b,yo(p,f)),null!==a.queries&&a.queries.elementStart(a,b),b}(p,f,h,a,c):f.data[p];ar(w,!0);const b=h[p]=h[11].createComment("");uA(f,h,b,w),qi(b,h),Es(w)&&(Ov(f,h,w),RS(f,w,h)),null!=c&&Nv(h,w)}function KA(){let o=an();const a=Vt();Gl()?la():(o=o.parent,ar(o,!1)),a.firstCreatePass&&(ha(a,o),Ga(o)&&a.queries.elementEnd(o))}function _w(o,a,c){yw(o,a,c),KA()}function vw(){return Fe()}function Qh(o){return!!o&&"function"==typeof o.then}function ww(o){return!!o&&"function"==typeof o.subscribe}const Fo=ww;function JA(o,a,c,h){const f=Fe(),p=Vt(),w=an();return function(o,a,c,h,f,p,w,b){const I=Es(h),k=o.firstCreatePass&&u0(o),P=a[8],B=c0(a);let W=!0;if(3&h.type||b){const fe=yi(h,a),Ue=b?b(fe):fe,Me=B.length,ft=b?Ct=>b(gn(Ct[h.index])):h.index;if(fn(c)){let Ct=null;if(!b&&I&&(Ct=function(o,a,c,h){const f=o.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const w=f[p];if(w===c&&f[p+1]===h){const b=a[7],I=f[p+2];return b.length>I?b[I]:null}"string"==typeof w&&(p+=2)}return null}(o,a,f,h.index)),null!==Ct)(Ct.__ngLastListenerFn__||Ct).__ngNextListenerFn__=p,Ct.__ngLastListenerFn__=p,W=!1;else{p=ip(h,a,P,p,!1);const Qt=c.listen(Ue,f,p);B.push(p,Qt),k&&k.push(f,ft,Me,Me+1)}}else p=ip(h,a,P,p,!0),Ue.addEventListener(f,p,w),B.push(p),k&&k.push(f,ft,Me,w)}else p=ip(h,a,P,p,!1);const ee=h.outputs;let ve;if(W&&null!==ee&&(ve=ee[f])){const fe=ve.length;if(fe)for(let Ue=0;Ue<fe;Ue+=2){const Ui=a[ve[Ue]][ve[Ue+1]].subscribe(p),un=B.length;B.push(p,Ui),k&&k.push(f,h.index,un,-(un+1))}}}(p,f,f[11],w,o,a,!!c,h),JA}function Ew(o,a,c,h){try{return!1!==c(h)}catch(f){return Yi(o,f),!1}}function ip(o,a,c,h,f){return function p(w){if(w===Function)return h;const b=2&o.flags?ji(o.index,a):a;0==(32&a[2])&&wA(b);let I=Ew(a,0,h,w),M=p.__ngNextListenerFn__;for(;M;)I=Ew(a,0,M,w)&&I,M=M.__ngNextListenerFn__;return f&&!1===I&&(w.preventDefault(),w.returnValue=!1),I}}function rp(o=1){return function(o){return(vt.lFrame.contextLView=function(o,a){for(;o>0;)a=a[15],o--;return a}(o,vt.lFrame.contextLView))[8]}(o)}function q0(o,a){let c=null;const h=function(o){const a=o.attrs;if(null!=a){const c=a.indexOf(5);if(0==(1&c))return a[c+1]}return null}(o);for(let f=0;f<a.length;f++){const p=a[f];if("*"!==p){if(null===h?PC(o,p,!0):BC(h,p))return f}else c=f}return c}function $A(o){const a=Fe()[16][6];if(!a.projection){const h=a.projection=Ti(o?o.length:1,null),f=h.slice();let p=a.child;for(;null!==p;){const w=o?q0(p,o):0;null!==w&&(f[w]?f[w].projectionNext=p:h[w]=p,f[w]=p),p=p.next}}}function sp(o,a=0,c){const h=Fe(),f=Vt(),p=Mh(f,20+o,16,null,c||null);null===p.projection&&(p.projection=a),la(),64!=(64&p.flags)&&function(o,a,c){OC(a[11],0,a,c,lA(o,c,a),TC(c.parent||a[6],c,a))}(f,h,p)}function Sw(o,a,c,h,f){const p=o[c+1],w=null===a;let b=h?Lr(p):ul(p),I=!1;for(;0!==b&&(!1===I||w);){const k=o[b+1];Z0(o[b],a)&&(I=!0,o[b+1]=h?bv(k):vv(k)),b=h?Lr(k):ul(k)}I&&(o[c+1]=h?vv(p):bv(p))}function Z0(o,a){return null===o||null==a||(Array.isArray(o)?o[1]:o)===a||!(!Array.isArray(o)||"string"!=typeof a)&&hr(o,a)>=0}function ex(o,a,c){return Oo(o,a,c,!1),ex}function tx(o,a){return Oo(o,a,null,!0),tx}function Oo(o,a,c,h){const f=Fe(),p=Vt(),w=lr(2);p.firstUpdatePass&&function(o,a,c,h){const f=o.data;if(null===f[c+1]){const p=f[Di()],w=function(o,a){return a>=o.expandoStartIndex}(o,c);(function(o,a){return 0!=(o.flags&(a?16:32))})(p,h)&&null===a&&!w&&(a=!1),a=function(o,a,c,h){const f=function(o){const a=vt.lFrame.currentDirectiveIndex;return-1===a?null:o[a]}(o);let p=h?a.residualClasses:a.residualStyles;if(null===f)0===(h?a.classBindings:a.styleBindings)&&(c=be(c=qe(null,o,a,c,h),a.attrs,h),p=null);else{const w=a.directiveStylingLast;if(-1===w||o[w]!==f)if(c=qe(f,o,a,c,h),null===p){let I=function(o,a,c){const h=c?a.classBindings:a.styleBindings;if(0!==ul(h))return o[Lr(h)]}(o,a,h);void 0!==I&&Array.isArray(I)&&(I=qe(null,o,a,I[1],h),I=be(I,a.attrs,h),function(o,a,c,h){o[Lr(c?a.classBindings:a.styleBindings)]=h}(o,a,h,I))}else p=function(o,a,c){let h;const f=a.directiveEnd;for(let p=1+a.directiveStylingLast;p<f;p++)h=be(h,o[p].hostAttrs,c);return be(h,a.attrs,c)}(o,a,h)}return void 0!==p&&(h?a.residualClasses=p:a.residualStyles=p),c}(f,p,a,h),function(o,a,c,h,f,p){let w=p?a.classBindings:a.styleBindings,b=Lr(w),I=ul(w);o[h]=c;let k,M=!1;if(Array.isArray(c)){const P=c;k=P[1],(null===k||hr(P,k)>0)&&(M=!0)}else k=c;if(f)if(0!==I){const B=Lr(o[b+1]);o[h+1]=fA(B,b),0!==B&&(o[B+1]=wv(o[B+1],h)),o[b+1]=function(o,a){return 131071&o|a<<17}(o[b+1],h)}else o[h+1]=fA(b,0),0!==b&&(o[b+1]=wv(o[b+1],h)),b=h;else o[h+1]=fA(I,0),0===b?b=h:o[I+1]=wv(o[I+1],h),I=h;M&&(o[h+1]=vv(o[h+1])),Sw(o,k,h,!0),Sw(o,k,h,!1),function(o,a,c,h,f){const p=f?o.residualClasses:o.residualStyles;null!=p&&"string"==typeof a&&hr(p,a)>=0&&(c[h+1]=bv(c[h+1]))}(a,k,o,h,p),w=fA(b,I),p?a.classBindings=w:a.styleBindings=w}(f,p,a,c,w,h)}}(p,o,w,h),a!==_t&&mr(f,w,a)&&function(o,a,c,h,f,p,w,b){if(!(3&a.type))return;const I=o.data,M=I[b+1];iy(function(o){return 1==(1&o)}(M)?rx(I,a,c,f,ul(M),w):void 0)||(iy(p)||function(o){return 2==(2&o)}(M)&&(p=rx(I,null,c,f,b,w)),function(o,a,c,h,f){const p=fn(o);if(a)f?p?o.addClass(c,h):c.classList.add(h):p?o.removeClass(c,h):c.classList.remove(h);else{let w=-1===h.indexOf("-")?void 0:no.DashCase;if(null==f)p?o.removeStyle(c,h,w):c.style.removeProperty(h);else{const b="string"==typeof f&&f.endsWith("!important");b&&(f=f.slice(0,-10),w|=no.Important),p?o.setStyle(c,h,f,w):c.style.setProperty(h,f,b?"important":"")}}}(h,w,sa(Di(),c),f,p))}(p,p.data[Di()],f,f[11],o,f[w+1]=function(o,a){return null==o||("string"==typeof a?o+=a:"object"==typeof o&&(o=re(ts(o)))),o}(a,c),h,w)}function qe(o,a,c,h,f){let p=null;const w=c.directiveEnd;let b=c.directiveStylingLast;for(-1===b?b=c.directiveStart:b++;b<w&&(p=a[b],h=be(h,p.hostAttrs,f),p!==o);)b++;return null!==o&&(c.directiveStylingLast=b),h}function be(o,a,c){const h=c?1:2;let f=-1;if(null!==a)for(let p=0;p<a.length;p++){const w=a[p];"number"==typeof w?f=w:f===h&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Qi(o,w,!!c||a[++p]))}return void 0===o?null:o}function rx(o,a,c,h,f,p){const w=null===a;let b;for(;f>0;){const I=o[f],M=Array.isArray(I),k=M?I[1]:I,P=null===k;let B=c[f+1];B===_t&&(B=P?K:void 0);let W=P?Xd(B,h):k===h?B:void 0;if(M&&!iy(W)&&(W=Xd(I,h)),iy(W)&&(b=W,w))return b;const ee=o[f+1];f=w?Lr(ee):ul(ee)}if(null!==a){let I=p?a.residualClasses:a.residualStyles;null!=I&&(b=Xd(I,h))}return b}function iy(o){return void 0!==o}function ys(o,a=""){const c=Fe(),h=Vt(),f=o+20,p=h.firstCreatePass?Mh(h,f,1,a,null):h.data[f],w=c[f]=function(o,a){return fn(o)?o.createText(a):o.createTextNode(a)}(c[11],a);uA(h,c,w,p),ar(p,!1)}function Fw(o){return lp("",o,""),Fw}function lp(o,a,c){const h=Fe(),f=function(o,a,c,h){return mr(o,Ds(),c)?a+Ce(c)+h:_t}(h,o,a,c);return f!==_t&&Mn(h,Di(),f),lp}function Ht(o,a,c,h,f){const p=Fe(),w=function(o,a,c,h,f,p){const b=ci(o,Jr(),c,f);return lr(2),b?a+Ce(c)+h+Ce(f)+p:_t}(p,o,a,c,h,f);return w!==_t&&Mn(p,Di(),w),Ht}function hp(o,a,c){const h=Fe();return mr(h,Ds(),a)&&Rs(Vt(),Dn(),h,o,a,h[11],c,!0),hp}const wc=void 0;var fp=["en",[["a","p"],["AM","PM"],wc],[["AM","PM"],wc,wc],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wc,"{1} 'at' {0}",wc],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(o){const a=Math.floor(Math.abs(o)),c=o.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let di={};function Cn(o){const a=function(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=ef(a);if(c)return c;const h=a.split("-")[0];if(c=ef(h),c)return c;if("en"===h)return fp;throw new Error(`Missing locale data for the locale "${o}".`)}function Uw(o){return Cn(o)[yt.PluralCase]}function ef(o){return o in di||(di[o]=rn.ng&&rn.ng.common&&rn.ng.common.locales&&rn.ng.common.locales[o]),di[o]}var yt=(()=>((yt=yt||{})[yt.LocaleId=0]="LocaleId",yt[yt.DayPeriodsFormat=1]="DayPeriodsFormat",yt[yt.DayPeriodsStandalone=2]="DayPeriodsStandalone",yt[yt.DaysFormat=3]="DaysFormat",yt[yt.DaysStandalone=4]="DaysStandalone",yt[yt.MonthsFormat=5]="MonthsFormat",yt[yt.MonthsStandalone=6]="MonthsStandalone",yt[yt.Eras=7]="Eras",yt[yt.FirstDayOfWeek=8]="FirstDayOfWeek",yt[yt.WeekendRange=9]="WeekendRange",yt[yt.DateFormat=10]="DateFormat",yt[yt.TimeFormat=11]="TimeFormat",yt[yt.DateTimeFormat=12]="DateTimeFormat",yt[yt.NumberSymbols=13]="NumberSymbols",yt[yt.NumberFormats=14]="NumberFormats",yt[yt.CurrencyCode=15]="CurrencyCode",yt[yt.CurrencySymbol=16]="CurrencySymbol",yt[yt.CurrencyName=17]="CurrencyName",yt[yt.Currencies=18]="Currencies",yt[yt.Directionality=19]="Directionality",yt[yt.PluralCase=20]="PluralCase",yt[yt.ExtraData=21]="ExtraData",yt))();const uy="en-US";let lx=uy;function Gw(o){pt(o,"Expected localeId to be defined"),"string"==typeof o&&(lx=o.toLowerCase().replace(/_/g,"-"))}function _y(o,a,c,h,f){if(o=j(o),Array.isArray(o))for(let p=0;p<o.length;p++)_y(o[p],a,c,h,f);else{const p=Vt(),w=Fe();let b=Mo(o)?o:j(o.provide),I=Kv(o);const M=an(),k=1048575&M.providerIndexes,P=M.directiveStart,B=M.providerIndexes>>20;if(Mo(o)||!o.multi){const W=new Yl(I,f,td),ee=vy(b,a,f?k:k+B,P);-1===ee?(ur(wo(M,w),p,b),$w(p,o,a.length),a.push(b),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),c.push(W),w.push(W)):(c[ee]=W,w[ee]=W)}else{const W=vy(b,a,k+B,P),ee=vy(b,a,k,k+B),ve=W>=0&&c[W],fe=ee>=0&&c[ee];if(f&&!fe||!f&&!ve){ur(wo(M,w),p,b);const Ue=function(o,a,c,h,f){const p=new Yl(o,c,td);return p.multi=[],p.index=a,p.componentProviders=0,Xw(p,f,h&&!c),p}(f?PT:NT,c.length,f,h,I);!f&&fe&&(c[ee].providerFactory=Ue),$w(p,o,a.length,0),a.push(b),M.directiveStart++,M.directiveEnd++,f&&(M.providerIndexes+=1048576),c.push(Ue),w.push(Ue)}else $w(p,o,W>-1?W:ee,Xw(c[f?ee:W],I,!f&&h));!f&&h&&fe&&c[ee].componentProviders++}}}function $w(o,a,c,h){const f=Mo(a);if(f||function(o){return!!o.useClass}(a)){const w=(a.useClass||a).prototype.ngOnDestroy;if(w){const b=o.destroyHooks||(o.destroyHooks=[]);if(!f&&a.multi){const I=b.indexOf(c);-1===I?b.push(c,[h,w]):b[I+1].push(h,w)}else b.push(c,w)}}}function Xw(o,a,c){return c&&o.componentProviders++,o.multi.push(a)-1}function vy(o,a,c,h){for(let f=c;f<h;f++)if(a[f]===o)return f;return-1}function NT(o,a,c,h){return eb(this.multi,[])}function PT(o,a,c,h){const f=this.multi;let p;if(this.providerFactory){const w=this.providerFactory.componentProviders,b=li(c,c[1],this.providerFactory.index,h);p=b.slice(0,w),eb(f,p);for(let I=w;I<b.length;I++)p.push(b[I])}else p=[],eb(f,p);return p}function eb(o,a){for(let c=0;c<o.length;c++)a.push((0,o[c])());return a}function tb(o,a=[]){return c=>{c.providersResolver=(h,f)=>function(o,a,c){const h=Vt();if(h.firstCreatePass){const f=qn(o);_y(c,h.data,h.blueprint,f,!0),_y(a,h.data,h.blueprint,f,!1)}}(h,f?f(o):o,a)}}class Ni{}const nb="ngComponent";class Ma{resolveComponentFactory(a){throw function(o){const a=Error(`No component factory found for ${re(o)}. Did you add it to @NgModule.entryComponents?`);return a[nb]=o,a}(a)}}let Cc=(()=>{class o{}return o.NULL=new Ma,o})();function xp(...o){}function hd(o,a){return new Po(yi(o,a))}const Ey=function(){return hd(an(),Fe())};let Po=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=Ey,o})();function Sx(o){return o instanceof Po?o.nativeElement:o}class Ip{}let Tx=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>Mx(),o})();const Mx=function(){const o=Fe(),c=ji(an().index,o);return function(o){return o[11]}(Zr(c)?c:o)};let ib=(()=>{class o{}return o.\u0275prov=zt({token:o,providedIn:"root",factory:()=>null}),o})();class fd{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const xc=new fd("12.2.6");class kx{constructor(){}supports(a){return Kg(a)}create(a){return new Fx(a)}}const QT=(o,a)=>a;class Fx{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||QT}forEachItem(a){let c;for(c=this._itHead;null!==c;c=c._next)a(c)}forEachOperation(a){let c=this._itHead,h=this._removalsHead,f=0,p=null;for(;c||h;){const w=!h||c&&c.currentIndex<Ra(h,f,p)?c:h,b=Ra(w,f,p),I=w.currentIndex;if(w===h)f--,h=h._nextRemoved;else if(c=c._next,null==w.previousIndex)f++;else{p||(p=[]);const M=b-f,k=I-f;if(M!=k){for(let B=0;B<M;B++){const W=B<p.length?p[B]:p[B]=0,ee=W+B;k<=ee&&ee<M&&(p[B]=W+1)}p[w.previousIndex]=k-M}}b!==I&&a(w,b,I)}}forEachPreviousItem(a){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachMovedItem(a){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}forEachIdentityChange(a){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)a(c)}diff(a){if(null==a&&(a=[]),!Kg(a))throw new Error(`Error trying to diff '${re(a)}'. Only arrays and iterables are allowed`);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let f,p,w,c=this._itHead,h=!1;if(Array.isArray(a)){this.length=a.length;for(let b=0;b<this.length;b++)p=a[b],w=this._trackByFn(b,p),null!==c&&Object.is(c.trackById,w)?(h&&(c=this._verifyReinsertion(c,p,w,b)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,w,b),h=!0),c=c._next}else f=0,function(o,a){if(Array.isArray(o))for(let c=0;c<o.length;c++)a(o[c]);else{const c=o[Ph()]();let h;for(;!(h=c.next()).done;)a(h.value)}}(a,b=>{w=this._trackByFn(f,b),null!==c&&Object.is(c.trackById,w)?(h&&(c=this._verifyReinsertion(c,b,w,f)),Object.is(c.item,b)||this._addIdentityChange(c,b)):(c=this._mismatch(c,b,w,f),h=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,c,h,f){let p;return null===a?p=this._itTail:(p=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._reinsertAfter(a,p,f)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(h,f))?(Object.is(a.item,c)||this._addIdentityChange(a,c),this._moveAfter(a,p,f)):a=this._addAfter(new Lo(c,h),p,f),a}_verifyReinsertion(a,c,h,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(h,null);return null!==p?a=this._reinsertAfter(p,a._prev,f):a.currentIndex!=f&&(a.currentIndex=f,this._addToMoves(a,f)),a}_truncate(a){for(;null!==a;){const c=a._next;this._addToRemovals(this._unlink(a)),a=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,c,h){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const f=a._prevRemoved,p=a._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(a,c,h),this._addToMoves(a,h),a}_moveAfter(a,c,h){return this._unlink(a),this._insertAfter(a,c,h),this._addToMoves(a,h),a}_addAfter(a,c,h){return this._insertAfter(a,c,h),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,c,h){const f=null===c?this._itHead:c._next;return a._next=f,a._prev=c,null===f?this._itTail=a:f._prev=a,null===c?this._itHead=a:c._next=a,null===this._linkedRecords&&(this._linkedRecords=new rb),this._linkedRecords.put(a),a.currentIndex=h,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const c=a._prev,h=a._next;return null===c?this._itHead=h:c._next=h,null===h?this._itTail=c:h._prev=c,a}_addToMoves(a,c){return a.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new rb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,c){return a.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Lo{constructor(a,c){this.item=a,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class zT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,c){let h;for(h=this._head;null!==h;h=h._nextDup)if((null===c||c<=h.currentIndex)&&Object.is(h.trackById,a))return h;return null}remove(a){const c=a._prevDup,h=a._nextDup;return null===c?this._head=h:c._nextDup=h,null===h?this._tail=c:h._prevDup=c,null===this._head}}class rb{constructor(){this.map=new Map}put(a){const c=a.trackById;let h=this.map.get(c);h||(h=new zT,this.map.set(c,h)),h.add(a)}get(a,c){const f=this.map.get(a);return f?f.get(a,c):null}remove(a){const c=a.trackById;return this.map.get(c).remove(a)&&this.map.delete(c),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Ra(o,a,c){const h=o.previousIndex;if(null===h)return h;let f=0;return c&&h<c.length&&(f=c[h]),h+a+f}class Ox{constructor(){}supports(a){return a instanceof Map||Lh(a)}create(){return new Ps}}class Ps{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let c;for(c=this._mapHead;null!==c;c=c._next)a(c)}forEachPreviousItem(a){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)a(c)}forEachChangedItem(a){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)a(c)}forEachAddedItem(a){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)a(c)}forEachRemovedItem(a){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)a(c)}diff(a){if(a){if(!(a instanceof Map||Lh(a)))throw new Error(`Error trying to diff '${re(a)}'. Only maps and objects are allowed`)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(a,(h,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,h),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,h);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let h=c;null!==h;h=h._nextRemoved)h===this._mapHead&&(this._mapHead=null),this._records.delete(h.key),h._nextRemoved=h._next,h.previousValue=h.currentValue,h.currentValue=null,h._prev=null,h._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,c){if(a){const h=a._prev;return c._next=a,c._prev=h,a._prev=c,h&&(h._next=c),a===this._mapHead&&(this._mapHead=c),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(a,c){if(this._records.has(a)){const f=this._records.get(a);this._maybeAddToChanges(f,c);const p=f._prev,w=f._next;return p&&(p._next=w),w&&(w._prev=p),f._next=null,f._prev=null,f}const h=new Ic(a);return this._records.set(a,h),h.currentValue=c,this._addToAdditions(h),h}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,c){Object.is(c,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=c,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,c){a instanceof Map?a.forEach(c):Object.keys(a).forEach(h=>c(a[h],h))}}class Ic{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function xn(){return new Pi([new kx])}let Pi=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(null!=h){const f=h.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||xn()),deps:[[o,new il,new $s]]}}find(c){const h=this.factories.find(f=>f.supports(c));if(null!=h)return h;throw new Error(`Cannot find a differ supporting object '${c}' of type '${function(o){return o.name||typeof o}(c)}'`)}}return o.\u0275prov=zt({token:o,providedIn:"root",factory:xn}),o})();function Nx(){return new Rn([new Ox])}let Rn=(()=>{class o{constructor(c){this.factories=c}static create(c,h){if(h){const f=h.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:h=>o.create(c,h||Nx()),deps:[[o,new il,new $s]]}}find(c){const h=this.factories.find(f=>f.supports(c));if(h)return h;throw new Error(`Cannot find a differ supporting object '${c}'`)}}return o.\u0275prov=zt({token:o,providedIn:"root",factory:Nx}),o})();function Ls(o,a,c,h,f=!1){for(;null!==c;){const p=a[c.index];if(null!==p&&h.push(gn(p)),Mr(p))for(let b=10;b<p.length;b++){const I=p[b],M=I[1].firstChild;null!==M&&Ls(I[1],I,M,h)}const w=c.type;if(8&w)Ls(o,a,c.child,h);else if(32&w){const b=Rg(c,a);let I;for(;I=b();)h.push(I)}else if(16&w){const b=dA(a,c);if(Array.isArray(b))h.push(...b);else{const I=kg(a[16]);Ls(I[1],I,b,h,!0)}}c=f?c.projectionNext:c.next}return h}class Zi{constructor(a,c){this._lView=a,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,c=a[1];return Ls(c,a,c.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Mr(a)){const c=a[8],h=c?c.indexOf(this):-1;h>-1&&(hv(a,h),ya(c,h))}this._attachedToViewContainer=!1}IC(this._lView[1],this._lView)}onDestroy(a){Bv(this._lView[1],this._lView,null,a)}markForCheck(){wA(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Hg(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(o,a,c){Hl(!0);try{Hg(o,a,c)}finally{Hl(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var a;this._appRef=null,Th(this._lView[1],a=this._lView,a[11],2,null,null)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=a}}class _r extends Zi{constructor(a){super(a),this._view=a}detectChanges(){Mt(this._view)}checkNoChanges(){!function(o){Hl(!0);try{Mt(o)}finally{Hl(!1)}}(this._view)}get context(){return null}}const vl=function(o){return function(o,a,c){if(or(o)&&!c){const h=ji(o.index,a);return new Zi(h,h)}return 47&o.type?new Zi(a[16],a):null}(an(),Fe(),16==(16&o))};let df=(()=>{class o{}return o.__NG_ELEMENT_ID__=vl,o})();const Px=[new Ox],Pe=new Pi([new kx]),Cy=new Rn(Px),Dp=function(){return ff(an(),Fe())};let Vo=(()=>{class o{}return o.__NG_ELEMENT_ID__=Dp,o})();const ZT=Vo,gd=class extends ZT{constructor(a,c,h){super(),this._declarationLView=a,this._declarationTContainer=c,this.elementRef=h}createEmbeddedView(a){const c=this._declarationTContainer.tViews,h=Ug(this._declarationLView,c,a,16,null,c.declTNode,null,null,null,null);h[17]=this._declarationLView[this._declarationTContainer.index];const p=this._declarationLView[19];return null!==p&&(h[19]=p.createEmbeddedView(c)),Gg(c,h,a),new Zi(h)}};function ff(o,a){return 4&o.type?new gd(a,o,hd(o,a)):null}class Dc{}const Sc=function(){return pd(an(),Fe())};let Sp=(()=>{class o{}return o.__NG_ELEMENT_ID__=Sc,o})();const Ux=Sp,xy=class extends Ux{constructor(a,c,h){super(),this._lContainer=a,this._hostTNode=c,this._hostLView=h}get element(){return hd(this._hostTNode,this._hostLView)}get injector(){return new Eo(this._hostTNode,this._hostLView)}get parentInjector(){const a=Zl(this._hostTNode,this._hostLView);if(G(a)){const c=ln(a,this._hostLView),h=Re(a);return new Eo(c[1].data[h+8],c)}return new Eo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const c=ab(this._lContainer);return null!==c&&c[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,c,h){const f=a.createEmbeddedView(c||{});return this.insert(f,h),f}createComponent(a,c,h,f,p){const w=h||this.parentInjector;if(!p&&null==a.ngModule&&w){const I=w.get(Dc,null);I&&(p=I)}const b=a.create(w,f,void 0,p);return this.insert(b.hostView,c),b}insert(a,c){const h=a._lView,f=h[1];if(Mr(h[3])){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const P=h[3],B=new xy(P,P[6],P[3]);B.detach(B.indexOf(a))}}const p=this._adjustIndex(c),w=this._lContainer;!function(o,a,c,h){const f=10+h,p=c.length;h>0&&(c[f-1][4]=a),h<p-10?(a[4]=c[f],es(c,10+h,a)):(c.push(a),a[4]=null),a[3]=c;const w=a[17];null!==w&&c!==w&&function(o,a){const c=o[9];a[16]!==a[3][3][16]&&(o[2]=!0),null===c?o[9]=[a]:c.push(a)}(w,a);const b=a[19];null!==b&&b.insertView(o),a[2]|=128}(f,h,w,p);const b=Ng(p,w),I=h[11],M=cA(I,w[7]);return null!==M&&function(o,a,c,h,f,p){h[0]=f,h[6]=a,Th(o,h,c,1,f,p)}(f,w[6],I,h,M,b),a.attachToViewContainerRef(),es(Tc(w),p,a),a}move(a,c){return this.insert(a,c)}indexOf(a){const c=ab(this._lContainer);return null!==c?c.indexOf(a):-1}remove(a){const c=this._adjustIndex(a,-1),h=hv(this._lContainer,c);h&&(ya(Tc(this._lContainer),c),IC(h[1],h))}detach(a){const c=this._adjustIndex(a,-1),h=hv(this._lContainer,c);return h&&null!=ya(Tc(this._lContainer),c)?new Zi(h):null}_adjustIndex(a,c=0){return null==a?this.length+c:a}};function ab(o){return o[8]}function Tc(o){return o[8]||(o[8]=[])}function pd(o,a){let c;const h=a[o.index];if(Mr(h))c=h;else{let f;if(8&o.type)f=gn(h);else{const p=a[11];f=p.createComment("");const w=yi(o,a);cc(p,cA(p,w),f,function(o,a){return fn(o)?o.nextSibling(a):a.nextSibling}(p,w),!1)}a[o.index]=c=a0(h,a,f,o),vA(a,c)}return new xy(c,o,a)}const vd={};class rI extends Cc{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const c=oi(a);return new By(c,this.ngModule)}}function Py(o){const a=[];for(let c in o)o.hasOwnProperty(c)&&a.push({propName:o[c],templateName:c});return a}const Rb=new Sn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>As});class By extends Ni{constructor(a,c){super(),this.componentDef=a,this.ngModule=c,this.componentType=a.type,this.selector=a.selectors.map(wS).join(","),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return Py(this.componentDef.inputs)}get outputs(){return Py(this.componentDef.outputs)}create(a,c,h,f){const p=(f=f||this.ngModule)?function(o,a){return{get:(c,h,f)=>{const p=o.get(c,vd,f);return p!==vd||h===vd?p:a.get(c,h,f)}}}(a,f.injector):a,w=p.get(Ip,fs),b=p.get(ib,null),I=w.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",k=h?function(o,a,c){if(fn(o))return o.selectRootElement(a,c===Ve.ShadowDom);let h="string"==typeof a?o.querySelector(a):a;return h.textContent="",h}(I,h,this.componentDef.encapsulation):dv(w.createRenderer(null,this.componentDef),M,function(o){const a=o.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(M)),P=this.componentDef.onPush?576:528,B=function(o,a){return{components:[],scheduler:o||As,clean:Yv,playerHandler:a||null,flags:0}}(),W=Vu(0,null,null,1,0,null,null,null,null,null),ee=Ug(null,W,B,P,null,null,w,I,b,p);let ve,fe;Ka(ee);try{const Ue=function(o,a,c,h,f,p){const w=c[1];c[20]=o;const I=Mh(w,20,2,"#host",null),M=I.mergedAttrs=a.hostAttrs;null!==M&&(To(I,M,!0),null!==o&&(ms(f,o,M),null!==I.classes&&Pg(f,o,I.classes),null!==I.styles&&Io(f,o,I.styles)));const k=h.createRenderer(o,a),P=Ug(c,XC(a),null,a.onPush?64:16,c[20],I,h,k,p||null,null);return w.firstCreatePass&&(ur(wo(I,c),w,a.type),Hv(w,I),_A(I,c.length,1)),vA(c,P),c[20]=P}(k,this.componentDef,ee,w,I);if(k)if(h)ms(I,k,["ng-version",xc.full]);else{const{attrs:Me,classes:ft}=function(o){const a=[],c=[];let h=1,f=2;for(;h<o.length;){let p=o[h];if("string"==typeof p)2===f?""!==p&&a.push(p,o[++h]):8===f&&c.push(p);else{if(!is(f))break;f=p}h++}return{attrs:a,classes:c}}(this.componentDef.selectors[0]);Me&&ms(I,k,Me),ft&&ft.length>0&&Pg(I,k,ft.join(" "))}if(fe=Pl(W,20),void 0!==c){const Me=fe.projection=[];for(let ft=0;ft<this.ngContentSelectors.length;ft++){const Ct=c[ft];Me.push(null!=Ct?Array.from(Ct):null)}}ve=function(o,a,c,h,f){const p=c[1],w=function(o,a,c){const h=an();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),o0(o,h,a,Rh(o,a,1,null),c));const f=li(a,o,h.directiveStart,h);qi(f,a);const p=yi(h,a);return p&&qi(p,a),f}(p,c,a);if(h.components.push(w),o[8]=w,f&&f.forEach(I=>I(w,a)),a.contentQueries){const I=an();a.contentQueries(1,w,I.directiveStart)}const b=an();return!p.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(da(b.index),r0(c[1],b,0,b.directiveStart,b.directiveEnd,a),s0(a,w)),w}(Ue,this.componentDef,ee,B,[D0]),Gg(W,ee,null)}finally{Zs()}return new kb(this.componentType,ve,hd(fe,ee),ee,fe)}}class kb extends class{}{constructor(a,c,h,f,p){super(),this.location=h,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new _r(f),this.componentType=a}get injector(){return new Eo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}const Af=new Map;class Ob extends Dc{constructor(a,c){super(),this._parent=c,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new rI(this);const h=Dr(a),f=a[je]||null;f&&Gw(f),this._bootstrapComponents=Wt(h.bootstrap),this._r3Injector=Ur(a,c,[{provide:Dc,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],re(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,c=bn.THROW_IF_NOT_FOUND,h=Ke.Default){return a===bn||a===Dc||a===Hu?this:this._r3Injector.get(a,c,h)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class Nb extends class{}{constructor(a){super(),this.moduleType=a,null!==Dr(a)&&function(o){const a=new Set;!function c(h){const f=Dr(h,!0),p=f.id;null!==p&&(function(o,a,c){if(a&&a!==c)throw new Error(`Duplicate module registered for ${o} - ${re(a)} vs ${re(a.name)}`)}(p,Af.get(p),h),Af.set(p,h));const w=Wt(f.imports);for(const b of w)a.has(b)||(a.add(b),c(b))}(o)}(a)}create(a){return new Ob(this.moduleType,a)}}function Vy(o,a,c){const h=Vn()+o,f=Fe();return f[h]===_t?ko(f,h,c?a.call(c):a()):function(o,a){return o[a]}(f,h)}function lI(o,a,c,h){return wd(Fe(),Vn(),o,a,c,h)}function Uy(o,a,c,h,f){return function(o,a,c,h,f,p,w){const b=a+c;return ci(o,b,f,p)?ko(o,b+2,w?h.call(w,f,p):h(f,p)):wf(o,b+2)}(Fe(),Vn(),o,a,c,h,f)}function Gy(o,a,c,h,f,p){return function(o,a,c,h,f,p,w,b){const I=a+c;return function(o,a,c,h,f){const p=ci(o,a,c,h);return mr(o,a+2,f)||p}(o,I,f,p,w)?ko(o,I+3,b?h.call(b,f,p,w):h(f,p,w)):wf(o,I+3)}(Fe(),Vn(),o,a,c,h,f,p)}function Hy(o,a,c,h,f,p,w){return function(o,a,c,h,f,p,w,b,I){const M=a+c;return function(o,a,c,h,f,p){const w=ci(o,a,c,h);return ci(o,a+2,f,p)||w}(o,M,f,p,w,b)?ko(o,M+4,I?h.call(I,f,p,w,b):h(f,p,w,b)):wf(o,M+4)}(Fe(),Vn(),o,a,c,h,f,p,w)}function wf(o,a){const c=o[a];return c===_t?void 0:c}function wd(o,a,c,h,f,p){const w=a+c;return mr(o,w,f)?ko(o,w+1,p?h.call(p,f):h(f)):wf(o,w+1)}function zy(o,a){const c=Vt();let h;const f=o+20;c.firstCreatePass?(h=function(o,a){if(a)for(let c=a.length-1;c>=0;c--){const h=a[c];if(o===h.name)return h}throw new Ne("302",`The pipe '${o}' could not be found!`)}(a,c.pipeRegistry),c.data[f]=h,h.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,h.onDestroy)):h=c.data[f];const p=h.factory||(h.factory=Ws(h.type)),w=pi(td);try{const b=ti(!1),I=p();return ti(b),function(o,a,c,h){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),a[c]=h}(c,Fe(),f,I),I}finally{pi(w)}}function dI(o,a,c){const h=o+20,f=Fe(),p=Is(f,h);return function(o,a){Ro.isWrapped(a)&&(a=Ro.unwrap(a),o[Jr()]=_t);return a}(f,function(o,a){return o[1].data[a].pure}(f,h)?wd(f,Vn(),a,p.transform,c,p):p.transform(c))}function qy(o){return a=>{setTimeout(o,void 0,a)}}const Uo=class extends u.xQ{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,c,h){var f,p,w;let b=a,I=c||(()=>null),M=h;if(a&&"object"==typeof a){const P=a;b=null===(f=P.next)||void 0===f?void 0:f.bind(P),I=null===(p=P.error)||void 0===p?void 0:p.bind(P),M=null===(w=P.complete)||void 0===w?void 0:w.bind(P)}this.__isAsync&&(I=qy(I),b&&(b=qy(b)),M&&(M=qy(M)));const k=super.subscribe({next:b,error:I,complete:M});return a instanceof ae.w&&a.add(k),k}};function fI(){return this._results[Ph()]()}class Yy{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Ph(),h=Yy.prototype;h[c]||(h[c]=fI)}get changes(){return this._changes||(this._changes=new Uo)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,c){return this._results.reduce(a,c)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,c){const h=this;h.dirty=!1;const f=Xr(a);(this._changesDetected=!function(o,a,c){if(o.length!==a.length)return!1;for(let h=0;h<o.length;h++){let f=o[h],p=a[h];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(h._results,f,c))&&(h._results=f,h.length=f.length,h.last=f[this.length-1],h.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class Qp{constructor(a){this.queryList=a,this.matches=null}clone(){return new Qp(this.queryList)}setDirty(){this.queryList.setDirty()}}class zp{constructor(a=[]){this.queries=a}createEmbeddedView(a){const c=a.queries;if(null!==c){const h=null!==a.contentQueries?a.contentQueries[0]:c.length,f=[];for(let p=0;p<h;p++){const w=c.getByIndex(p);f.push(this.queries[w.indexInDeclarationView].clone())}return new zp(f)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let c=0;c<this.queries.length;c++)null!==$y(a,c).matches&&this.queries[c].setDirty()}}class Wy{constructor(a,c,h=null){this.predicate=a,this.flags=c,this.read=h}}class Ub{constructor(a=[]){this.queries=a}elementStart(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].elementStart(a,c)}elementEnd(a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(a)}embeddedTView(a){let c=null;for(let h=0;h<this.length;h++){const f=null!==c?c.length:0,p=this.getByIndex(h).embeddedTView(a,f);p&&(p.indexInDeclarationView=h,null!==c?c.push(p):c=[p])}return null!==c?new Ub(c):null}template(a,c){for(let h=0;h<this.queries.length;h++)this.queries[h].template(a,c)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class qp{constructor(a,c=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(a,c){this.isApplyingToNode(c)&&this.matchTNode(a,c)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,c){this.elementStart(a,c)}embeddedTView(a,c){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,c),new qp(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let h=a.parent;for(;null!==h&&8&h.type&&h.index!==c;)h=h.parent;return c===(null!==h?h.index:-1)}return this._appliesToNextNode}matchTNode(a,c){const h=this.metadata.predicate;if(Array.isArray(h))for(let f=0;f<h.length;f++){const p=h[f];this.matchTNodeWithReadOption(a,c,IM(c,p)),this.matchTNodeWithReadOption(a,c,Wn(c,a,p,!1,!1))}else h===Vo?4&c.type&&this.matchTNodeWithReadOption(a,c,-1):this.matchTNodeWithReadOption(a,c,Wn(c,a,h,!1,!1))}matchTNodeWithReadOption(a,c,h){if(null!==h){const f=this.metadata.read;if(null!==f)if(f===Po||f===Sp||f===Vo&&4&c.type)this.addMatch(c.index,-2);else{const p=Wn(c,a,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,h)}}addMatch(a,c){null===this.matches?this.matches=[a,c]:this.matches.push(a,c)}}function IM(o,a){const c=o.localNames;if(null!==c)for(let h=0;h<c.length;h+=2)if(c[h]===a)return c[h+1];return null}function gI(o,a,c,h){return-1===c?function(o,a){return 11&o.type?hd(o,a):4&o.type?ff(o,a):null}(a,o):-2===c?function(o,a,c){return c===Po?hd(a,o):c===Vo?ff(a,o):c===Sp?pd(a,o):void 0}(o,a,h):li(o,o[1],c,a)}function jb(o,a,c,h){const f=a[19].queries[h];if(null===f.matches){const p=o.data,w=c.matches,b=[];for(let I=0;I<w.length;I+=2){const M=w[I];b.push(M<0?null:gI(a,p[M],w[I+1],c.metadata.read))}f.matches=b}return f.matches}function Qb(o,a,c,h){const f=o.queries.getByIndex(c),p=f.matches;if(null!==p){const w=jb(o,a,f,c);for(let b=0;b<p.length;b+=2){const I=p[b];if(I>0)h.push(w[b/2]);else{const M=p[b+1],k=a[-I];for(let P=10;P<k.length;P++){const B=k[P];B[17]===B[3]&&Qb(B[1],B,M,h)}if(null!==k[9]){const P=k[9];for(let B=0;B<P.length;B++){const W=P[B];Qb(W[1],W,M,h)}}}}}return h}function Zy(o){const a=Fe(),c=Vt(),h=lu();Ya(h+1);const f=$y(c,h);if(o.dirty&&za(a)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const p=f.crossesNgTemplate?Qb(c,a,h,[]):jb(c,a,f,h);o.reset(p,Sx),o.notifyOnChanges()}return!0}return!1}function pI(o,a,c){const h=Vt();h.firstCreatePass&&(Jy(h,new Wy(o,a,c),-1),2==(2&a)&&(h.staticViewQueries=!0)),AI(h,Fe(),a)}function Ky(o,a,c,h){const f=Vt();if(f.firstCreatePass){const p=an();Jy(f,new Wy(a,c,h),p.index),function(o,a){const c=o.contentQueries||(o.contentQueries=[]);a!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,a)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}AI(f,Fe(),c)}function mI(){return o=Fe(),a=lu(),o[19].queries[a].queryList;var o,a}function AI(o,a,c){const h=new Yy(4==(4&c));Bv(o,a,h,h.destroy),null===a[19]&&(a[19]=new zp),a[19].queries.push(new Qp(h))}function Jy(o,a,c){null===o.queries&&(o.queries=new Ub),o.queries.track(new qp(a,c))}function $y(o,a){return o.queries.getByIndex(a)}function bd(o,a){return ff(o,a)}const kI=Jd("Input",o=>({bindingPropertyName:o})),PM=Jd("Output",o=>({bindingPropertyName:o})),If=Jd("HostListener",(o,a)=>({eventName:o,args:a})),Df=new Sn("Application Initializer");let Ed=(()=>{class o{constructor(c){this.appInits=c,this.resolve=xp,this.reject=xp,this.initialized=!1,this.done=!1,this.donePromise=new Promise((h,f)=>{this.resolve=h,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],h=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(Qh(p))c.push(p);else if(Fo(p)){const w=new Promise((b,I)=>{p.subscribe({complete:b,error:I})});c.push(w)}}Promise.all(c).then(()=>{h()}).catch(f=>{this.reject(f)}),0===c.length&&h(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(Un(Df,8))},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();const aE=new Sn("AppId"),lE={provide:aE,useFactory:function(){return`${cE()}${cE()}${cE()}`},deps:[]};function cE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const LI=new Sn("Platform Initializer"),$n=new Sn("Platform ID"),HM=new Sn("appBootstrapListener");let Ei=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();const $p=new Sn("LocaleId"),BI=new Sn("DefaultCurrencyCode");class O1{constructor(a,c){this.ngModuleFactory=a,this.componentFactories=c}}const c_=function(o){return new Nb(o)},xl=c_,Cd=function(o){return Promise.resolve(c_(o))},VI=function(o){const a=c_(o),h=Wt(Dr(o).declarations).reduce((f,p)=>{const w=oi(p);return w&&f.push(new By(w)),f},[]);return new O1(a,h)},zM=VI,u_=function(o){return Promise.resolve(VI(o))};let d_=(()=>{class o{constructor(){this.compileModuleSync=xl,this.compileModuleAsync=Cd,this.compileModuleAndAllComponentsSync=zM,this.compileModuleAndAllComponentsAsync=u_}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();const Xp=(()=>Promise.resolve(0))();function f_(o){"undefined"==typeof Zone?Xp.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Us{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:h=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Uo(!1),this.onMicrotaskEmpty=new Uo(!1),this.onStable=new Uo(!1),this.onError=new Uo(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!h&&c,f.shouldCoalesceRunChangeDetection=h,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let o=rn.requestAnimationFrame,a=rn.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&a){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const h=a[Zone.__symbol__("OriginalDelegate")];h&&(a=h)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function(o){const a=()=>{!function(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(rn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,g_(o),o.isCheckStableRunning=!0,hE(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),g_(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,h,f,p,w,b)=>{try{return Pc(o),c.invokeTask(f,p,w,b)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||o.shouldCoalesceRunChangeDetection)&&a(),pE(o)}},onInvoke:(c,h,f,p,w,b,I)=>{try{return Pc(o),c.invoke(f,p,w,b,I)}finally{o.shouldCoalesceRunChangeDetection&&a(),pE(o)}},onHasTask:(c,h,f,p)=>{c.hasTask(f,p),h===f&&("microTask"==p.change?(o._hasPendingMicrotasks=p.microTask,g_(o),hE(o)):"macroTask"==p.change&&(o.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,h,f,p)=>(c.handleError(f,p),o.runOutsideAngular(()=>o.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Us.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Us.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,c,h){return this._inner.run(a,c,h)}runTask(a,c,h,f){const p=this._inner,w=p.scheduleEventTask("NgZoneEvent: "+f,a,WM,xp,xp);try{return p.runTask(w,c,h)}finally{p.cancelTask(w)}}runGuarded(a,c,h){return this._inner.runGuarded(a,c,h)}runOutsideAngular(a){return this._outer.run(a)}}const WM={};function hE(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function g_(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Pc(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function pE(o){o._nesting--,hE(o)}class UI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Uo,this.onMicrotaskEmpty=new Uo,this.onStable=new Uo,this.onError=new Uo}run(a,c,h){return a.apply(c,h)}runGuarded(a,c,h){return a.apply(c,h)}runOutsideAngular(a){return a()}runTask(a,c,h,f){return a.apply(c,h)}}let p_=(()=>{class o{constructor(c){this._ngZone=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Us.assertNotInAngularZone(),f_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())f_(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(h=>!h.updateCb||!h.updateCb(c)||(clearTimeout(h.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,h,f){let p=-1;h&&h>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(w=>w.timeoutId!==p),c(this._didWork,this.getPendingTasks())},h)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,h,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,h,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(c,h,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(Un(Us))},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})(),m_=(()=>{class o{constructor(){this._applications=new Map,Sf.addToWindow(this)}registerApplication(c,h){this._applications.set(c,h)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,h=!0){return Sf.findTestabilityInTree(this,c,h)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();class ZM{addToWindow(a){}findTestabilityInTree(a,c,h){return null}}function mE(o){Sf=o}let Sf=new ZM,AE=!0,Tf=!1;function yE(){return Tf=!0,AE}function A_(){if(Tf)throw new Error("Cannot enable prod mode after platform setup.");AE=!1}let wr;const jI=new Sn("AllowMultipleToken");class JM{constructor(a,c){this.name=a,this.token=c}}function _E(o,a,c=[]){const h=`Platform: ${a}`,f=new Sn(h);return(p=[])=>{let w=vE();if(!w||w.injector.get(jI,!1))if(o)o(c.concat(p).concat({provide:f,useValue:!0}));else{const b=c.concat(p).concat({provide:f,useValue:!0},{provide:Fh,useValue:"platform"});!function(o){if(wr&&!wr.destroyed&&!wr.injector.get(jI,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");wr=o.get(QI);const a=o.get(LI,null);a&&a.forEach(c=>c())}(bn.create({providers:b,name:h}))}return function(o){const a=vE();if(!a)throw new Error("No platform exists!");if(!a.injector.get(o,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return a}(f)}}function vE(){return wr&&!wr.destroyed?wr:null}let QI=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,h){const b=function(o,a){let c;return c="noop"===o?new UI:("zone.js"===o?void 0:o)||new Us({enableLongStackTrace:yE(),shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),c}(h?h.ngZone:void 0,{ngZoneEventCoalescing:h&&h.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:h&&h.ngZoneRunCoalescing||!1}),I=[{provide:Us,useValue:b}];return b.run(()=>{const M=bn.create({providers:I,parent:this.injector,name:c.moduleType.name}),k=c.create(M),P=k.injector.get(m,null);if(!P)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return b.runOutsideAngular(()=>{const B=b.onError.subscribe({next:W=>{P.handleError(W)}});k.onDestroy(()=>{__(this._modules,k),B.unsubscribe()})}),function(o,a,c){try{const h=c();return Qh(h)?h.catch(f=>{throw a.runOutsideAngular(()=>o.handleError(f)),f}):h}catch(h){throw a.runOutsideAngular(()=>o.handleError(h)),h}}(P,b,()=>{const B=k.injector.get(Ed);return B.runInitializers(),B.donePromise.then(()=>(Gw(k.injector.get($p,uy)||uy),this._moduleDoBootstrap(k),k))})})}bootstrapModule(c,h=[]){const f=qI({},h);return function(o,a,c){const h=new Nb(c);return Promise.resolve(h)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const h=c.injector.get(tm);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>h.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Error(`The module ${re(c.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);c.instance.ngDoBootstrap(h)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(Un(bn))},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();function qI(o,a){return Array.isArray(a)?a.reduce(qI,o):Object.assign(Object.assign({},o),a)}let tm=(()=>{class o{constructor(c,h,f,p,w){this._zone=c,this._injector=h,this._exceptionHandler=f,this._componentFactoryResolver=p,this._initStatus=w,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const b=new z.y(M=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{M.next(this._stable),M.complete()})}),I=new z.y(M=>{let k;this._zone.runOutsideAngular(()=>{k=this._zone.onStable.subscribe(()=>{Us.assertNotInAngularZone(),f_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,M.next(!0))})})});const P=this._zone.onUnstable.subscribe(()=>{Us.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{M.next(!1)}))});return()=>{k.unsubscribe(),P.unsubscribe()}});this.isStable=(0,de.T)(b,I.pipe((0,_e.B)()))}bootstrap(c,h){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=c instanceof Ni?c:this._componentFactoryResolver.resolveComponentFactory(c),this.componentTypes.push(f.componentType);const p=function(o){return o.isBoundToModule}(f)?void 0:this._injector.get(Dc),b=f.create(bn.NULL,[],h||f.selector,p),I=b.location.nativeElement,M=b.injector.get(p_,null),k=M&&b.injector.get(m_);return M&&k&&k.registerApplication(I,M),b.onDestroy(()=>{this.detachView(b.hostView),__(this.components,b),k&&k.unregisterApplication(I)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const h=c;this._views.push(h),h.attachToAppRef(this)}detachView(c){const h=c;__(this._views,h),h.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(HM,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(c){return new(c||o)(Un(Us),Un(bn),Un(m),Un(Cc),Un(Ed))},o.\u0275prov=zt({token:o,factory:o.\u0275fac}),o})();function __(o,a){const c=o.indexOf(a);c>-1&&o.splice(c,1)}const SE=function(o){return null},tD=_E(null,"core",[{provide:$n,useValue:"unknown"},{provide:QI,deps:[bn]},{provide:m_,deps:[]},{provide:Ei,deps:[]}]),im=[{provide:tm,useClass:tm,deps:[Us,bn,m,Cc,Ed]},{provide:Rb,deps:[Us],useFactory:function(o){let a=[];return o.onStable.subscribe(()=>{for(;a.length;)a.pop()()}),function(c){a.push(c)}}},{provide:Ed,useClass:Ed,deps:[[new $s,Df]]},{provide:d_,useClass:d_,deps:[]},lE,{provide:Pi,useFactory:function(){return Pe},deps:[]},{provide:Rn,useFactory:function(){return Cy},deps:[]},{provide:$p,useFactory:function(o){return Gw(o=o||"undefined"!=typeof $localize&&$localize.locale||uy),o},deps:[[new _u($p),new $s,new il]]},{provide:BI,useValue:"USD"}];let as=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(Un(tm))},o.\u0275mod=Ko({type:o}),o.\u0275inj=Ut({providers:im}),o})()},8939:(We,Ee,V)=>{"use strict";V.d(Ee,{hO:()=>J,xv:()=>X,Dh:()=>re,GT:()=>ie,on:()=>H,pX:()=>_e});var u=V(7716),ae=V(7841),z=V(9126);We=V.hmd(We);const de=["ngOnDestroy"],_e=(ue,Ne,De,Te={})=>new Proxy(ue,{get:(Ce,Se)=>De.runOutsideAngular(()=>{var Ye;if(ue[Se])return(null===(Ye=null==Te?void 0:Te.spy)||void 0===Ye?void 0:Ye.get)&&Te.spy.get(Se,ue[Se]),ue[Se];if(de.indexOf(Se)>-1)return()=>{};const Qe=Ne.toPromise().then(mt=>{const Pt=mt&&mt[Se];return"function"==typeof Pt?Pt.bind(mt):Pt&&Pt.then?Pt.then(Ft=>De.run(()=>Ft)):De.run(()=>Pt)});return new Proxy(()=>{},{get:(mt,Pt)=>Qe[Pt],apply:(mt,Pt,Ft)=>Qe.then(on=>{var Q;const ye=on&&on(...Ft);return(null===(Q=null==Te?void 0:Te.spy)||void 0===Q?void 0:Q.apply)&&Te.spy.apply(Se,Ft,ye),ye})})})}),ie=(ue,Ne)=>{Ne.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(Te=>{Object.defineProperty(ue.prototype,Te,Object.getOwnPropertyDescriptor(De.prototype||De,Te))})})};class oe{constructor(Ne){return Ne}}const re=new u.OlP("angularfire2.app.options"),X=new u.OlP("angularfire2.app.name");function H(ue,Ne,De){const Ce="object"==typeof De&&De||{};Ce.name=Ce.name||"string"==typeof De&&De||"[DEFAULT]";const Ye=ae.Z.apps.filter(Qe=>Qe&&Qe.name===Ce.name)[0]||Ne.runOutsideAngular(()=>ae.Z.initializeApp(ue,Ce));try{JSON.stringify(ue)!==JSON.stringify(Ye.options)&&ne("error",`${Ye.name} Firebase App already initialized with different options${We.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Qe){}return new oe(Ye)}const ne=(ue,...Ne)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[ue](...Ne)},j={provide:oe,useFactory:H,deps:[re,u.R0b,[new u.FiY,X]]};let J=(()=>{class ue{constructor(De){ae.Z.registerVersion("angularfire",z.q4.full,"core"),ae.Z.registerVersion("angularfire",z.q4.full,"app-compat"),ae.Z.registerVersion("angular",u.q4F.full,De.toString())}static initializeApp(De,Te){return{ngModule:ue,providers:[{provide:re,useValue:De},{provide:X,useValue:Te}]}}}return ue.\u0275fac=function(De){return new(De||ue)(u.LFG(u.Lbi))},ue.\u0275mod=u.oAB({type:ue}),ue.\u0275inj=u.cJS({providers:[j]}),ue})()},9126:(We,Ee,V)=>{"use strict";V.d(Ee,{q4:()=>H,iC:()=>ye,fc:()=>on,HU:()=>Qe,cc:()=>J});var u=V(7716);(0,V(5452).registerVersion)("firebase","9.0.2","app");var _e=V(7771),ie=V(3637),oe=V(3342),re=V(9746),X=V(2639);We=V.hmd(We);const H=new u.GfV("7.0.4"),ne=!!We.hot,j=(me,...le)=>{(0,u.X6Q)()&&"undefined"!=typeof console&&console[me](...le)};function J(me,le,He,Xe,kt){const[,gt,pt]=globalThis.\u0275AngularfireInstanceCache.find(et=>et[0]===me)||[];if(gt)return function(me,le){try{return me.toString()===le.toString()}catch(He){return me===le}}(kt,pt)||(j("error",`${le} was already initialized on the ${He} Firebase App with different settings.${ne?" You may need to reload as Firebase is not HMR aware.":""}`),j("warn",{is:kt,was:pt})),gt;{const et=Xe();return globalThis.\u0275AngularfireInstanceCache.push([me,et,kt]),et}}function Ce(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Se{constructor(le,He=_e.N){this.zone=le,this.delegate=He}now(){return this.delegate.now()}schedule(le,He,Xe){const kt=this.zone;return this.delegate.schedule(function(pt){kt.runGuarded(()=>{le.apply(this,[pt])})},He,Xe)}}class Ye{constructor(le){this.zone=le,this.task=null}call(le,He){const Xe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ce,{},Ce,Ce)),He.pipe((0,oe.b)({next:Xe,complete:Xe,error:Xe})).subscribe(le).add(Xe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Qe=(()=>{class me{constructor(He){this.ngZone=He,this.outsideAngular=He.runOutsideAngular(()=>new Se(Zone.current)),this.insideAngular=He.run(()=>new Se(Zone.current,ie.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return me.\u0275fac=function(He){return new(He||me)(u.LFG(u.R0b))},me.\u0275prov=u.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})();function mt(){const me=globalThis.\u0275AngularFireScheduler;if(!me)throw new Error("AngularFireModule has not been provided");return me}function on(me){return me.pipe((0,re.QV)(mt().outsideAngular))}function ye(me){return mt(),function(me){return function(He){return(He=He.lift(new Ye(me.ngZone))).pipe((0,X.R)(me.outsideAngular),(0,re.QV)(me.insideAngular))}}(mt())(me)}},4486:(We,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>De});var u=V(4685),ae=V(6034),z=V(5452),de=V(300);class _e{constructor(Ce,Se){this._delegate=Ce,this.firebase=Se,(0,z._addComponent)(Ce,new ae.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,z.deleteApp)(this._delegate)))}_getService(Ce,Se=z._DEFAULT_ENTRY_NAME){var Ye;this._delegate.checkDestroyed();const Qe=this._delegate.container.getProvider(Ce);return!Qe.isInitialized()&&"EXPLICIT"===(null===(Ye=Qe.getComponent())||void 0===Ye?void 0:Ye.instantiationMode)&&Qe.initialize(),Qe.getImmediate({identifier:Se})}_removeServiceInstance(Ce,Se=z._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(Se)}_addComponent(Ce){(0,z._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,z._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const oe=new u.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),H=function X(){const Te=function(Te){const Ce={},Se={__esModule:!0,initializeApp:function(Q,ye={}){const pe=z.initializeApp(Q,ye);if((0,u.r3)(Ce,pe.name))return Ce[pe.name];const Ie=new Te(pe,Se);return Ce[pe.name]=Ie,Ie},app:Qe,registerVersion:z.registerVersion,setLogLevel:z.setLogLevel,onLog:z.onLog,apps:null,SDK_VERSION:z.SDK_VERSION,INTERNAL:{registerComponent:function(Q){const ye=Q.name,pe=ye.replace("-compat","");if(z._registerComponent(Q)&&"PUBLIC"===Q.type){const Ie=(Ae=Qe())=>{if("function"!=typeof Ae[pe])throw oe.create("invalid-app-argument",{appName:ye});return Ae[pe]()};void 0!==Q.serviceProps&&(0,u.ZB)(Ie,Q.serviceProps),Se[pe]=Ie,Te.prototype[pe]=function(...Ae){return this._getService.bind(this,ye).apply(this,Q.multipleInstances?Ae:[])}}return"PUBLIC"===Q.type?Se[pe]:null},removeApp:function(Q){delete Ce[Q]},useAsService:function(Q,ye){return"serverAuth"===ye?null:ye},modularAPIs:z}};function Qe(Q){if(!(0,u.r3)(Ce,Q=Q||z._DEFAULT_ENTRY_NAME))throw oe.create("no-app",{appName:Q});return Ce[Q]}return Se.default=Se,Object.defineProperty(Se,"apps",{get:function(){return Object.keys(Ce).map(Q=>Ce[Q])}}),Qe.App=Te,Se}(_e);return Te.INTERNAL=Object.assign(Object.assign({},Te.INTERNAL),{createFirebaseNamespace:X,extendNamespace:function(Se){(0,u.ZB)(Te,Se)},createSubscribe:u.ne,ErrorFactory:u.LL,deepExtend:u.ZB}),Te}(),ne=new de.Yd("@firebase/app-compat");if((0,u.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const Te=self.firebase.SDK_VERSION;Te&&Te.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ne=H;(0,z.registerVersion)("@firebase/app-compat","0.1.1",undefined);const De=Ne},5452:(We,Ee,V)=>{"use strict";V.r(Ee),V.d(Ee,{FirebaseError:()=>de.ZR,SDK_VERSION:()=>Ii,_DEFAULT_ENTRY_NAME:()=>kt,_addComponent:()=>Kt,_addOrOverwriteComponent:()=>zr,_apps:()=>pt,_clearComponents:()=>Ut,_components:()=>et,_getProvider:()=>zt,_registerComponent:()=>ri,_removeServiceInstance:()=>dn,deleteApp:()=>rr,getApp:()=>Cr,getApps:()=>Qs,initializeApp:()=>ls,onLog:()=>si,registerVersion:()=>Ke,setLogLevel:()=>Pn});var u=V(8239),ae=V(6034),z=V(300),de=V(4685);class _e{constructor(ut){this.container=ut}getPlatformInfoString(){return this.container.getProviders().map(Je=>{if(function(bt){const ut=bt.getComponent();return"VERSION"===(null==ut?void 0:ut.type)}(Je)){const Dt=Je.getImmediate();return`${Dt.library}/${Dt.version}`}return null}).filter(Je=>Je).join(" ")}}const oe="@firebase/app",X=new z.Yd("@firebase/app"),kt="[DEFAULT]",gt={[oe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},pt=new Map,et=new Map;function Kt(bt,ut){try{bt.container.addComponent(ut)}catch(Je){X.debug(`Component ${ut.name} failed to register with FirebaseApp ${bt.name}`,Je)}}function zr(bt,ut){bt.container.addOrOverwriteComponent(ut)}function ri(bt){const ut=bt.name;if(et.has(ut))return X.debug(`There were multiple attempts to register component ${ut}.`),!1;et.set(ut,bt);for(const Je of pt.values())Kt(Je,bt);return!0}function zt(bt,ut){return bt.container.getProvider(ut)}function dn(bt,ut,Je=kt){zt(bt,ut).clearInstance(Je)}function Ut(){et.clear()}const qr=new de.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class go{constructor(ut,Je,Dt){this._isDeleted=!1,this._options=Object.assign({},ut),this._config=Object.assign({},Je),this._name=Je.name,this._automaticDataCollectionEnabled=Je.automaticDataCollectionEnabled,this._container=Dt,this.container.addComponent(new ae.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ut){this.checkDestroyed(),this._automaticDataCollectionEnabled=ut}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ut){this._isDeleted=ut}checkDestroyed(){if(this.isDeleted)throw qr.create("app-deleted",{appName:this._name})}}const Ii="9.0.0";function ls(bt,ut={}){"object"!=typeof ut&&(ut={name:ut});const Je=Object.assign({name:kt,automaticDataCollectionEnabled:!1},ut),Dt=Je.name;if("string"!=typeof Dt||!Dt)throw qr.create("bad-app-name",{appName:String(Dt)});const vn=pt.get(Dt);if(vn){if((0,de.vZ)(bt,vn.options)&&(0,de.vZ)(Je,vn.config))return vn;throw qr.create("duplicate-app",{appName:Dt})}const jt=new ae.H0(Dt);for(const Ze of et.values())jt.addComponent(Ze);const Ve=new go(bt,Je,jt);return pt.set(Dt,Ve),Ve}function Cr(bt=kt){const ut=pt.get(bt);if(!ut)throw qr.create("no-app",{appName:bt});return ut}function Qs(){return Array.from(pt.values())}function rr(bt){return mn.apply(this,arguments)}function mn(){return(mn=(0,u.Z)(function*(bt){const ut=bt.name;pt.has(ut)&&(pt.delete(ut),yield Promise.all(bt.container.getProviders().map(Je=>Je.delete())),bt.isDeleted=!0)})).apply(this,arguments)}function Ke(bt,ut,Je){var Dt;let vn=null!==(Dt=gt[bt])&&void 0!==Dt?Dt:bt;Je&&(vn+=`-${Je}`);const jt=vn.match(/\s|\//),Ve=ut.match(/\s|\//);if(jt||Ve){const Ze=[`Unable to register library "${vn}" with version "${ut}":`];return jt&&Ze.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),jt&&Ve&&Ze.push("and"),Ve&&Ze.push(`version name "${ut}" contains illegal characters (whitespace or "/")`),void X.warn(Ze.join(" "))}ri(new ae.wA(`${vn}-version`,()=>({library:vn,version:ut}),"VERSION"))}function si(bt,ut){if(null!==bt&&"function"!=typeof bt)throw qr.create("invalid-log-argument");(0,z.Am)(bt,ut)}function Pn(bt){(0,z.Ub)(bt)}ri(new ae.wA("platform-logger",ut=>new _e(ut),"PRIVATE")),Ke(oe,"0.7.0",undefined),Ke("fire-js","")},6034:(We,Ee,V)=>{"use strict";V.d(Ee,{wA:()=>z,H0:()=>re});var u=V(4762),ae=V(4685),z=function(){function X(H,ne,j){this.name=H,this.instanceFactory=ne,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return X.prototype.setInstantiationMode=function(H){return this.instantiationMode=H,this},X.prototype.setMultipleInstances=function(H){return this.multipleInstances=H,this},X.prototype.setServiceProps=function(H){return this.serviceProps=H,this},X.prototype.setInstanceCreatedCallback=function(H){return this.onInstanceCreated=H,this},X}(),de="[DEFAULT]",_e=function(){function X(H,ne){this.name=H,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return X.prototype.get=function(H){var ne=this.normalizeInstanceIdentifier(H);if(!this.instancesDeferred.has(ne)){var j=new ae.BH;if(this.instancesDeferred.set(ne,j),this.isInitialized(ne)||this.shouldAutoInitialize())try{var J=this.getOrInitializeService({instanceIdentifier:ne});J&&j.resolve(J)}catch(ue){}}return this.instancesDeferred.get(ne).promise},X.prototype.getImmediate=function(H){var ne,j=this.normalizeInstanceIdentifier(null==H?void 0:H.identifier),J=null!==(ne=null==H?void 0:H.optional)&&void 0!==ne&&ne;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(J)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(ue){if(J)return null;throw ue}},X.prototype.getComponent=function(){return this.component},X.prototype.setComponent=function(H){var ne,j;if(H.name!==this.name)throw Error("Mismatching Component "+H.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=H,this.shouldAutoInitialize()){if(function(X){return"EAGER"===X.instantiationMode}(H))try{this.getOrInitializeService({instanceIdentifier:de})}catch(Ye){}try{for(var J=(0,u.XA)(this.instancesDeferred.entries()),ue=J.next();!ue.done;ue=J.next()){var Ne=(0,u.CR)(ue.value,2),Te=Ne[1],Ce=this.normalizeInstanceIdentifier(Ne[0]);try{var Se=this.getOrInitializeService({instanceIdentifier:Ce});Te.resolve(Se)}catch(Ye){}}}catch(Ye){ne={error:Ye}}finally{try{ue&&!ue.done&&(j=J.return)&&j.call(J)}finally{if(ne)throw ne.error}}}},X.prototype.clearInstance=function(H){void 0===H&&(H=de),this.instancesDeferred.delete(H),this.instancesOptions.delete(H),this.instances.delete(H)},X.prototype.delete=function(){return(0,u.mG)(this,void 0,void 0,function(){var H;return(0,u.Jh)(this,function(ne){switch(ne.label){case 0:return H=Array.from(this.instances.values()),[4,Promise.all((0,u.ev)((0,u.ev)([],(0,u.CR)(H.filter(function(j){return"INTERNAL"in j}).map(function(j){return j.INTERNAL.delete()}))),(0,u.CR)(H.filter(function(j){return"_delete"in j}).map(function(j){return j._delete()}))))];case 1:return ne.sent(),[2]}})})},X.prototype.isComponentSet=function(){return null!=this.component},X.prototype.isInitialized=function(H){return void 0===H&&(H=de),this.instances.has(H)},X.prototype.getOptions=function(H){return void 0===H&&(H=de),this.instancesOptions.get(H)||{}},X.prototype.initialize=function(H){var ne,j;void 0===H&&(H={});var J=H.options,ue=void 0===J?{}:J,Ne=this.normalizeInstanceIdentifier(H.instanceIdentifier);if(this.isInitialized(Ne))throw Error(this.name+"("+Ne+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var De=this.getOrInitializeService({instanceIdentifier:Ne,options:ue});try{for(var Te=(0,u.XA)(this.instancesDeferred.entries()),Ce=Te.next();!Ce.done;Ce=Te.next()){var Se=(0,u.CR)(Ce.value,2),Qe=Se[1];Ne===this.normalizeInstanceIdentifier(Se[0])&&Qe.resolve(De)}}catch(Pt){ne={error:Pt}}finally{try{Ce&&!Ce.done&&(j=Te.return)&&j.call(Te)}finally{if(ne)throw ne.error}}return De},X.prototype.onInit=function(H,ne){var j,J=this.normalizeInstanceIdentifier(ne),ue=null!==(j=this.onInitCallbacks.get(J))&&void 0!==j?j:new Set;ue.add(H),this.onInitCallbacks.set(J,ue);var Ne=this.instances.get(J);return Ne&&H(Ne,J),function(){ue.delete(H)}},X.prototype.invokeOnInitCallbacks=function(H,ne){var j,J,ue=this.onInitCallbacks.get(ne);if(ue)try{for(var Ne=(0,u.XA)(ue),De=Ne.next();!De.done;De=Ne.next()){var Te=De.value;try{Te(H,ne)}catch(Ce){}}}catch(Ce){j={error:Ce}}finally{try{De&&!De.done&&(J=Ne.return)&&J.call(Ne)}finally{if(j)throw j.error}}},X.prototype.getOrInitializeService=function(H){var ne=H.instanceIdentifier,j=H.options,J=void 0===j?{}:j,ue=this.instances.get(ne);if(!ue&&this.component&&(ue=this.component.instanceFactory(this.container,{instanceIdentifier:ie(ne),options:J}),this.instances.set(ne,ue),this.instancesOptions.set(ne,J),this.invokeOnInitCallbacks(ue,ne),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ne,ue)}catch(Ne){}return ue||null},X.prototype.normalizeInstanceIdentifier=function(H){return void 0===H&&(H=de),this.component?this.component.multipleInstances?H:de:H},X.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},X}();function ie(X){return X===de?void 0:X}var re=function(){function X(H){this.name=H,this.providers=new Map}return X.prototype.addComponent=function(H){var ne=this.getProvider(H.name);if(ne.isComponentSet())throw new Error("Component "+H.name+" has already been registered with "+this.name);ne.setComponent(H)},X.prototype.addOrOverwriteComponent=function(H){this.getProvider(H.name).isComponentSet()&&this.providers.delete(H.name),this.addComponent(H)},X.prototype.getProvider=function(H){if(this.providers.has(H))return this.providers.get(H);var ne=new _e(H,this);return this.providers.set(H,ne),ne},X.prototype.getProviders=function(){return Array.from(this.providers.values())},X}()},300:(We,Ee,V)=>{"use strict";function u(){for(var j=0,J=0,ue=arguments.length;J<ue;J++)j+=arguments[J].length;var Ne=Array(j),De=0;for(J=0;J<ue;J++)for(var Te=arguments[J],Ce=0,Se=Te.length;Ce<Se;Ce++,De++)Ne[De]=Te[Ce];return Ne}V.d(Ee,{in:()=>de,Yd:()=>X,Ub:()=>H,Am:()=>ne});var ae,z=[],de=(()=>{return(j=de||(de={}))[j.DEBUG=0]="DEBUG",j[j.VERBOSE=1]="VERBOSE",j[j.INFO=2]="INFO",j[j.WARN=3]="WARN",j[j.ERROR=4]="ERROR",j[j.SILENT=5]="SILENT",de;var j})(),_e={debug:de.DEBUG,verbose:de.VERBOSE,info:de.INFO,warn:de.WARN,error:de.ERROR,silent:de.SILENT},ie=de.INFO,oe=((ae={})[de.DEBUG]="log",ae[de.VERBOSE]="log",ae[de.INFO]="info",ae[de.WARN]="warn",ae[de.ERROR]="error",ae),re=function(j,J){for(var ue=[],Ne=2;Ne<arguments.length;Ne++)ue[Ne-2]=arguments[Ne];if(!(J<j.logLevel)){var De=(new Date).toISOString(),Te=oe[J];if(!Te)throw new Error("Attempted to log a message with an invalid logType (value: "+J+")");console[Te].apply(console,u(["["+De+"]  "+j.name+":"],ue))}},X=function(){function j(J){this.name=J,this._logLevel=ie,this._logHandler=re,this._userLogHandler=null,z.push(this)}return Object.defineProperty(j.prototype,"logLevel",{get:function(){return this._logLevel},set:function(J){if(!(J in de))throw new TypeError('Invalid value "'+J+'" assigned to `logLevel`');this._logLevel=J},enumerable:!1,configurable:!0}),j.prototype.setLogLevel=function(J){this._logLevel="string"==typeof J?_e[J]:J},Object.defineProperty(j.prototype,"logHandler",{get:function(){return this._logHandler},set:function(J){if("function"!=typeof J)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=J},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(J){this._userLogHandler=J},enumerable:!1,configurable:!0}),j.prototype.debug=function(){for(var J=[],ue=0;ue<arguments.length;ue++)J[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,u([this,de.DEBUG],J)),this._logHandler.apply(this,u([this,de.DEBUG],J))},j.prototype.log=function(){for(var J=[],ue=0;ue<arguments.length;ue++)J[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,u([this,de.VERBOSE],J)),this._logHandler.apply(this,u([this,de.VERBOSE],J))},j.prototype.info=function(){for(var J=[],ue=0;ue<arguments.length;ue++)J[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,u([this,de.INFO],J)),this._logHandler.apply(this,u([this,de.INFO],J))},j.prototype.warn=function(){for(var J=[],ue=0;ue<arguments.length;ue++)J[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,u([this,de.WARN],J)),this._logHandler.apply(this,u([this,de.WARN],J))},j.prototype.error=function(){for(var J=[],ue=0;ue<arguments.length;ue++)J[ue]=arguments[ue];this._userLogHandler&&this._userLogHandler.apply(this,u([this,de.ERROR],J)),this._logHandler.apply(this,u([this,de.ERROR],J))},j}();function H(j){z.forEach(function(J){J.setLogLevel(j)})}function ne(j,J){for(var ue=function(Ce){var Se=null;J&&J.level&&(Se=_e[J.level]),Ce.userLogHandler=null===j?null:function(Ye,Qe){for(var mt=[],Pt=2;Pt<arguments.length;Pt++)mt[Pt-2]=arguments[Pt];var Ft=mt.map(function(on){if(null==on)return null;if("string"==typeof on)return on;if("number"==typeof on||"boolean"==typeof on)return on.toString();if(on instanceof Error)return on.message;try{return JSON.stringify(on)}catch(Q){return null}}).filter(function(on){return on}).join(" ");Qe>=(null!=Se?Se:Ye.logLevel)&&j({level:de[Qe].toLowerCase(),message:Ft,args:mt,type:Ye.name})}},Ne=0,De=z;Ne<De.length;Ne++)ue(De[Ne])}},4685:(We,Ee,V)=>{"use strict";V.d(Ee,{BH:()=>ue,LL:()=>He,ZR:()=>le,tV:()=>H,r3:()=>dn,Sg:()=>Ne,ne:()=>mn,vZ:()=>go,ZB:()=>j,pd:()=>Qs,m9:()=>Yt,z$:()=>De,jU:()=>Se,ru:()=>Ye,d:()=>mt,xb:()=>Nn,w1:()=>Pt,hl:()=>ye,uI:()=>Te,UG:()=>Ce,b$:()=>Qe,G6:()=>Q,Mn:()=>Ft,xO:()=>ls,zd:()=>Cr});var u=V(4762),_e=function(K){for(var Y=[],he=0,se=0;se<K.length;se++){var ge=K.charCodeAt(se);ge<128?Y[he++]=ge:ge<2048?(Y[he++]=ge>>6|192,Y[he++]=63&ge|128):55296==(64512&ge)&&se+1<K.length&&56320==(64512&K.charCodeAt(se+1))?(ge=65536+((1023&ge)<<10)+(1023&K.charCodeAt(++se)),Y[he++]=ge>>18|240,Y[he++]=ge>>12&63|128,Y[he++]=ge>>6&63|128,Y[he++]=63&ge|128):(Y[he++]=ge>>12|224,Y[he++]=ge>>6&63|128,Y[he++]=63&ge|128)}return Y},oe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(K,Y){if(!Array.isArray(K))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var he=Y?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[],ge=0;ge<K.length;ge+=3){var je=K[ge],rt=ge+1<K.length,St=rt?K[ge+1]:0,Rt=ge+2<K.length,qt=Rt?K[ge+2]:0,Hn=(15&St)<<2|qt>>6,zs=63&qt;Rt||(zs=64,rt||(Hn=64)),se.push(he[je>>2],he[(3&je)<<4|St>>4],he[Hn],he[zs])}return se.join("")},encodeString:function(K,Y){return this.HAS_NATIVE_SUPPORT&&!Y?btoa(K):this.encodeByteArray(_e(K),Y)},decodeString:function(K,Y){return this.HAS_NATIVE_SUPPORT&&!Y?atob(K):function(K){for(var Y=[],he=0,se=0;he<K.length;){var ge=K[he++];if(ge<128)Y[se++]=String.fromCharCode(ge);else if(ge>191&&ge<224){var je=K[he++];Y[se++]=String.fromCharCode((31&ge)<<6|63&je)}else if(ge>239&&ge<365){var Rt=((7&ge)<<18|(63&(je=K[he++]))<<12|(63&(rt=K[he++]))<<6|63&K[he++])-65536;Y[se++]=String.fromCharCode(55296+(Rt>>10)),Y[se++]=String.fromCharCode(56320+(1023&Rt))}else{je=K[he++];var rt=K[he++];Y[se++]=String.fromCharCode((15&ge)<<12|(63&je)<<6|63&rt)}}return Y.join("")}(this.decodeStringToByteArray(K,Y))},decodeStringToByteArray:function(K,Y){this.init_();for(var he=Y?this.charToByteMapWebSafe_:this.charToByteMap_,se=[],ge=0;ge<K.length;){var je=he[K.charAt(ge++)],St=ge<K.length?he[K.charAt(ge)]:0,qt=++ge<K.length?he[K.charAt(ge)]:64,Bn=++ge<K.length?he[K.charAt(ge)]:64;if(++ge,null==je||null==St||null==qt||null==Bn)throw Error();se.push(je<<2|St>>4),64!==qt&&(se.push(St<<4&240|qt>>2),64!==Bn&&se.push(qt<<6&192|Bn))}return se},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var K=0;K<this.ENCODED_VALS.length;K++)this.byteToCharMap_[K]=this.ENCODED_VALS.charAt(K),this.charToByteMap_[this.byteToCharMap_[K]]=K,this.byteToCharMapWebSafe_[K]=this.ENCODED_VALS_WEBSAFE.charAt(K),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[K]]=K,K>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(K)]=K,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(K)]=K)}}},X=function(K){return function(K){var Y=_e(K);return oe.encodeByteArray(Y,!0)}(K).replace(/\./g,"")},H=function(K){try{return oe.decodeString(K,!0)}catch(Y){console.error("base64Decode failed: ",Y)}return null};function j(K,Y){if(!(Y instanceof Object))return Y;switch(Y.constructor){case Date:return new Date(Y.getTime());case Object:void 0===K&&(K={});break;case Array:K=[];break;default:return Y}for(var se in Y)!Y.hasOwnProperty(se)||!J(se)||(K[se]=j(K[se],Y[se]));return K}function J(K){return"__proto__"!==K}var ue=function(){function K(){var Y=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(he,se){Y.resolve=he,Y.reject=se})}return K.prototype.wrapCallback=function(Y){var he=this;return function(se,ge){se?he.reject(se):he.resolve(ge),"function"==typeof Y&&(he.promise.catch(function(){}),1===Y.length?Y(se):Y(se,ge))}},K}();function Ne(K,Y){if(K.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var se=Y||"demo-project",ge=K.iat||0,je=K.sub||K.user_id;if(!je)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var rt=(0,u.pi)({iss:"https://securetoken.google.com/"+se,aud:se,iat:ge,exp:ge+3600,auth_time:ge,sub:je,user_id:je,firebase:{sign_in_provider:"custom",identities:{}}},K);return[X(JSON.stringify({alg:"none",type:"JWT"})),X(JSON.stringify(rt)),""].join(".")}function De(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Te(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(K){return!1}}function Se(){return"object"==typeof self&&self.self===self}function Ye(){var K="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof K&&void 0!==K.id}function Qe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function mt(){return De().indexOf("Electron/")>=0}function Pt(){var K=De();return K.indexOf("MSIE ")>=0||K.indexOf("Trident/")>=0}function Ft(){return De().indexOf("MSAppHost/")>=0}function Q(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ye(){return"indexedDB"in self&&null!=indexedDB}var le=function(K){function Y(he,se,ge){var je=K.call(this,se)||this;return je.code=he,je.customData=ge,je.name="FirebaseError",Object.setPrototypeOf(je,Y.prototype),Error.captureStackTrace&&Error.captureStackTrace(je,He.prototype.create),je}return(0,u.ZT)(Y,K),Y}(Error),He=function(){function K(Y,he,se){this.service=Y,this.serviceName=he,this.errors=se}return K.prototype.create=function(Y){for(var he=[],se=1;se<arguments.length;se++)he[se-1]=arguments[se];var ge=he[0]||{},je=this.service+"/"+Y,rt=this.errors[Y],St=rt?Xe(rt,ge):"Error",Rt=this.serviceName+": "+St+" ("+je+").",qt=new le(je,Rt,ge);return qt},K}();function Xe(K,Y){return K.replace(kt,function(he,se){var ge=Y[se];return null!=ge?String(ge):"<"+se+"?>"})}var kt=/\{\$([^}]+)}/g;function dn(K,Y){return Object.prototype.hasOwnProperty.call(K,Y)}function Nn(K){for(var Y in K)if(Object.prototype.hasOwnProperty.call(K,Y))return!1;return!0}function go(K,Y){if(K===Y)return!0;for(var he=Object.keys(K),se=Object.keys(Y),ge=0,je=he;ge<je.length;ge++){if(!se.includes(rt=je[ge]))return!1;var St=K[rt],Rt=Y[rt];if(Ii(St)&&Ii(Rt)){if(!go(St,Rt))return!1}else if(St!==Rt)return!1}for(var qt=0,Ln=se;qt<Ln.length;qt++){var rt;if(!he.includes(rt=Ln[qt]))return!1}return!0}function Ii(K){return null!==K&&"object"==typeof K}function ls(K){for(var Y=[],he=function(Rt,qt){Array.isArray(qt)?qt.forEach(function(Ln){Y.push(encodeURIComponent(Rt)+"="+encodeURIComponent(Ln))}):Y.push(encodeURIComponent(Rt)+"="+encodeURIComponent(qt))},se=0,ge=Object.entries(K);se<ge.length;se++){var je=ge[se];he(je[0],je[1])}return Y.length?"&"+Y.join("&"):""}function Cr(K){var Y={};return K.replace(/^\?/,"").split("&").forEach(function(se){if(se){var ge=se.split("="),rt=ge[1];Y[decodeURIComponent(ge[0])]=decodeURIComponent(rt)}}),Y}function Qs(K){var Y=K.indexOf("?");if(!Y)return"";var he=K.indexOf("#",Y);return K.substring(Y,he>0?he:void 0)}function mn(K,Y){var he=new Ke(K,Y);return he.subscribe.bind(he)}!function(){function K(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var Y=1;Y<this.blockSize;++Y)this.pad_[Y]=0;this.reset()}K.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},K.prototype.compress_=function(Y,he){he||(he=0);var se=this.W_;if("string"==typeof Y)for(var ge=0;ge<16;ge++)se[ge]=Y.charCodeAt(he)<<24|Y.charCodeAt(he+1)<<16|Y.charCodeAt(he+2)<<8|Y.charCodeAt(he+3),he+=4;else for(ge=0;ge<16;ge++)se[ge]=Y[he]<<24|Y[he+1]<<16|Y[he+2]<<8|Y[he+3],he+=4;for(ge=16;ge<80;ge++)se[ge]=4294967295&((je=se[ge-3]^se[ge-8]^se[ge-14]^se[ge-16])<<1|je>>>31);var Bn,Hn,rt=this.chain_[0],St=this.chain_[1],Rt=this.chain_[2],qt=this.chain_[3],Ln=this.chain_[4];for(ge=0;ge<80;ge++){ge<40?ge<20?(Bn=qt^St&(Rt^qt),Hn=1518500249):(Bn=St^Rt^qt,Hn=1859775393):ge<60?(Bn=St&Rt|qt&(St|Rt),Hn=2400959708):(Bn=St^Rt^qt,Hn=3395469782);var je=(rt<<5|rt>>>27)+Bn+Ln+Hn+se[ge]&4294967295;Ln=qt,qt=Rt,Rt=4294967295&(St<<30|St>>>2),St=rt,rt=je}this.chain_[0]=this.chain_[0]+rt&4294967295,this.chain_[1]=this.chain_[1]+St&4294967295,this.chain_[2]=this.chain_[2]+Rt&4294967295,this.chain_[3]=this.chain_[3]+qt&4294967295,this.chain_[4]=this.chain_[4]+Ln&4294967295},K.prototype.update=function(Y,he){if(null!=Y){void 0===he&&(he=Y.length);for(var se=he-this.blockSize,ge=0,je=this.buf_,rt=this.inbuf_;ge<he;){if(0===rt)for(;ge<=se;)this.compress_(Y,ge),ge+=this.blockSize;if("string"==typeof Y){for(;ge<he;)if(je[rt]=Y.charCodeAt(ge),++ge,++rt===this.blockSize){this.compress_(je),rt=0;break}}else for(;ge<he;)if(je[rt]=Y[ge],++ge,++rt===this.blockSize){this.compress_(je),rt=0;break}}this.inbuf_=rt,this.total_+=he}},K.prototype.digest=function(){var Y=[],he=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var se=this.blockSize-1;se>=56;se--)this.buf_[se]=255&he,he/=256;this.compress_(this.buf_);var ge=0;for(se=0;se<5;se++)for(var je=24;je>=0;je-=8)Y[ge]=this.chain_[se]>>je&255,++ge;return Y}}();var Ke=function(){function K(Y,he){var se=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=he,this.task.then(function(){Y(se)}).catch(function(ge){se.error(ge)})}return K.prototype.next=function(Y){this.forEachObserver(function(he){he.next(Y)})},K.prototype.error=function(Y){this.forEachObserver(function(he){he.error(Y)}),this.close(Y)},K.prototype.complete=function(){this.forEachObserver(function(Y){Y.complete()}),this.close()},K.prototype.subscribe=function(Y,he,se){var je,ge=this;if(void 0===Y&&void 0===he&&void 0===se)throw new Error("Missing Observer.");void 0===(je=function(K,Y){if("object"!=typeof K||null===K)return!1;for(var he=0,se=["next","error","complete"];he<se.length;he++){var ge=se[he];if(ge in K&&"function"==typeof K[ge])return!0}return!1}(Y)?Y:{next:Y,error:he,complete:se}).next&&(je.next=pi),void 0===je.error&&(je.error=pi),void 0===je.complete&&(je.complete=pi);var rt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{ge.finalError?je.error(ge.finalError):je.complete()}catch(St){}}),this.observers.push(je),rt},K.prototype.unsubscribeOne=function(Y){void 0===this.observers||void 0===this.observers[Y]||(delete this.observers[Y],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},K.prototype.forEachObserver=function(Y){if(!this.finalized)for(var he=0;he<this.observers.length;he++)this.sendOne(he,Y)},K.prototype.sendOne=function(Y,he){var se=this;this.task.then(function(){if(void 0!==se.observers&&void 0!==se.observers[Y])try{he(se.observers[Y])}catch(ge){"undefined"!=typeof console&&console.error&&console.error(ge)}})},K.prototype.close=function(Y){var he=this;this.finalized||(this.finalized=!0,void 0!==Y&&(this.finalError=Y),this.task.then(function(){he.observers=void 0,he.onNoObservers=void 0}))},K}();function pi(){}function Yt(K){return K&&K._delegate?K._delegate:K}},7841:(We,Ee,V)=>{"use strict";V.d(Ee,{Z:()=>u.Z});var u=V(4486);u.Z.registerVersion("firebase","9.0.2","app-compat")},6780:(We,Ee,V)=>{"use strict";V.r(Ee);var u=V(8239),ae=V(4486),z=V(4685),de=V(5452),_e=V(4762),ie=V(300),oe=V(6034);const Ne=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},De=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Te=new z.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new ie.Yd("@firebase/auth");function Ye(E,...m){Se.logLevel<=ie.in.ERROR&&Se.error(`Auth (${de.SDK_VERSION}): ${E}`,...m)}function Qe(E,...m){throw on(E,...m)}function mt(E,...m){return on(E,...m)}function Pt(E,m,_){const x=Object.assign(Object.assign({},De()),{[m]:_});return new z.LL("auth","Firebase",x).create(m,{appName:E.name})}function Ft(E,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&Qe(E,"argument-error"),Pt(E,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function on(E,...m){if("string"!=typeof E){const _=m[0],x=[...m.slice(1)];return x[0]&&(x[0].appName=E.name),E._errorFactory.create(_,...x)}return Te.create(E,...m)}function Q(E,m,..._){if(!E)throw on(m,..._)}function ye(E){const m="INTERNAL ASSERTION FAILED: "+E;throw Ye(m),new Error(m)}function pe(E,m){E||ye(m)}const Ie=new Map;function Ae(E){pe(E instanceof Function,"Expected a class definition");let m=Ie.get(E);return m?(pe(m instanceof E,"Instance stored in cache mismatched with class"),m):(m=new E,Ie.set(E,m),m)}function He(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Xe(){return"http:"===kt()||"https:"===kt()}function kt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class et{constructor(m,_){this.shortDelay=m,this.longDelay=_,pe(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,z.uI)()||(0,z.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xe()||(0,z.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Kt(E,m){pe(E.emulator,"Emulator should always be set here");const{url:_}=E.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class zr{static initialize(m,_,x){this.fetchImpl=m,_&&(this.headersImpl=_),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ri={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},zt=new et(3e4,6e4);function dn(E,m){return E.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:E.tenantId}):m}function Ut(E,m,_,x){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,u.Z)(function*(E,m,_,x,F={}){return qr(E,F,()=>{let L={},te={};x&&("GET"===m?te=x:L={body:JSON.stringify(x)});const xe=(0,z.xO)(Object.assign({key:E.config.apiKey},te)).slice(1),ke=new(zr.headers());return ke.set("Content-Type","application/json"),ke.set("X-Client-Version",E._getSdkClientVersion()),E.languageCode&&ke.set("X-Firebase-Locale",E.languageCode),zr.fetch()(Cr(E,E.config.apiHost,_,xe),Object.assign({method:m,headers:ke,referrerPolicy:"no-referrer"},L))})})).apply(this,arguments)}function qr(E,m,_){return go.apply(this,arguments)}function go(){return(go=(0,u.Z)(function*(E,m,_){E._canInitEmulator=!1;const x=Object.assign(Object.assign({},ri),m);try{const F=new Qs(E),L=yield Promise.race([_(),F.promise]);F.clearNetworkTimeout();const te=yield L.json();if("needConfirmation"in te)throw rr(E,"account-exists-with-different-credential",te);if(L.ok&&!("errorMessage"in te))return te;{const xe=L.ok?te.errorMessage:te.error.message,[ke,nt]=xe.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===ke)throw rr(E,"credential-already-in-use",te);if("EMAIL_EXISTS"===ke)throw rr(E,"email-already-in-use",te);const ce=x[ke]||ke.toLowerCase().replace(/[_\s]+/g,"-");if(nt)throw Pt(E,ce,nt);Qe(E,ce)}}catch(F){if(F instanceof z.ZR)throw F;Qe(E,"network-request-failed")}})).apply(this,arguments)}function Ii(E,m,_,x){return ls.apply(this,arguments)}function ls(){return(ls=(0,u.Z)(function*(E,m,_,x,F={}){const L=yield Ut(E,m,_,x,F);return"mfaPendingCredential"in L&&Qe(E,"multi-factor-auth-required",{serverResponse:L}),L})).apply(this,arguments)}function Cr(E,m,_,x){const F=`${m}${_}?${x}`;return E.config.emulator?Kt(E.config,F):`${E.config.apiScheme}://${F}`}class Qs{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,x)=>{this.timer=setTimeout(()=>x(mt(this.auth,"timeout")),zt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function rr(E,m,_){const x={appName:E.name};_.email&&(x.email=_.email),_.phoneNumber&&(x.phoneNumber=_.phoneNumber);const F=mt(E,m,x);return F.customData._tokenResponse=_,F}function Ke(){return(Ke=(0,u.Z)(function*(E,m){return Ut(E,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function si(E,m){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,u.Z)(function*(E,m){return Ut(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function pi(E,m){return bt.apply(this,arguments)}function bt(){return(bt=(0,u.Z)(function*(E,m){return Ut(E,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function ut(E){if(E)try{const m=new Date(Number(E));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function vn(){return(vn=(0,u.Z)(function*(E,m=!1){const _=(0,z.m9)(E),x=yield _.getIdToken(m),F=Ve(x);Q(F&&F.exp&&F.auth_time&&F.iat,_.auth,"internal-error");const L="object"==typeof F.firebase?F.firebase:void 0,te=null==L?void 0:L.sign_in_provider;return{claims:F,token:x,authTime:ut(jt(F.auth_time)),issuedAtTime:ut(jt(F.iat)),expirationTime:ut(jt(F.exp)),signInProvider:te||null,signInSecondFactor:(null==L?void 0:L.sign_in_second_factor)||null}})).apply(this,arguments)}function jt(E){return 1e3*Number(E)}function Ve(E){const[m,_,x]=E.split(".");if(void 0===m||void 0===_||void 0===x)return Ye("JWT malformed, contained fewer than 3 sections"),null;try{const F=(0,z.tV)(_);return F?JSON.parse(F):(Ye("Failed to decode base64 JWT payload"),null)}catch(F){return Ye("Caught error parsing JWT payload as JSON",F),null}}function xr(E,m){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,u.Z)(function*(E,m,_=!1){if(_)return m;try{return yield m}catch(x){throw x instanceof z.ZR&&An(x)&&E.auth.currentUser===E&&(yield E.auth.signOut()),x}})).apply(this,arguments)}function An({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class rn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const F=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,F)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const x=this.getInterval(m);this.timerId=setTimeout((0,u.Z)(function*(){yield _.iteration()}),x)}iteration(){var m=this;return(0,u.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(_){return void("auth/network-request-failed"===_.code&&m.schedule(!0))}m.schedule()})()}}class sr{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=ut(this.lastLoginAt),this.creationTime=ut(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function po(E){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,u.Z)(function*(E){var m;const _=E.auth,x=yield E.getIdToken(),F=yield xr(E,pi(_,{idToken:x}));Q(null==F?void 0:F.users.length,_,"internal-error");const L=F.users[0];E._notifyReloadListener(L);const te=(null===(m=L.providerUserInfo)||void 0===m?void 0:m.length)?se(L.providerUserInfo):[],xe=he(E.providerData,te),ce=!!E.isAnonymous&&!(E.email&&L.passwordHash||(null==xe?void 0:xe.length)),dt={uid:L.localId,displayName:L.displayName||null,photoURL:L.photoUrl||null,email:L.email||null,emailVerified:L.emailVerified||!1,phoneNumber:L.phoneNumber||null,tenantId:L.tenantId||null,providerData:xe,metadata:new sr(L.createdAt,L.lastLoginAt),isAnonymous:ce};Object.assign(E,dt)})).apply(this,arguments)}function Y(){return(Y=(0,u.Z)(function*(E){const m=(0,z.m9)(E);yield po(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function he(E,m){return[...E.filter(x=>!m.some(F=>F.providerId===x.providerId)),...m]}function se(E){return E.map(m=>{var{providerId:_}=m,x=(0,_e._T)(m,["providerId"]);return{providerId:_,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function je(){return(je=(0,u.Z)(function*(E,m){const _=yield qr(E,{},()=>{const x=(0,z.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:F,apiKey:L}=E.config,te=Cr(E,F,"/v1/token",`key=${L}`);return zr.fetch()(te,{method:"POST",headers:{"X-Client-Version":E._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:x})});return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class rt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Q(m.idToken,"internal-error"),Q(void 0!==m.idToken,"internal-error"),Q(void 0!==m.refreshToken,"internal-error");const _="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(E){const m=Ve(E);return Q(m,"internal-error"),Q(void 0!==m.exp,"internal-error"),Q(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var x=this;return(0,u.Z)(function*(){return Q(!x.accessToken||x.refreshToken,m,"user-token-expired"),_||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(m,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var x=this;return(0,u.Z)(function*(){const{accessToken:F,refreshToken:L,expiresIn:te}=yield function(E,m){return je.apply(this,arguments)}(m,_);x.updateTokensAndExpiration(F,L,Number(te))})()}updateTokensAndExpiration(m,_,x){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(m,_){const{refreshToken:x,accessToken:F,expirationTime:L}=_,te=new rt;return x&&(Q("string"==typeof x,"internal-error",{appName:m}),te.refreshToken=x),F&&(Q("string"==typeof F,"internal-error",{appName:m}),te.accessToken=F),L&&(Q("number"==typeof L,"internal-error",{appName:m}),te.expirationTime=L),te}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new rt,this.toJSON())}_performRefresh(){return ye("not implemented")}}function St(E,m){Q("string"==typeof E||void 0===E,"internal-error",{appName:m})}class Rt{constructor(m){var{uid:_,auth:x,stsTokenManager:F}=m,L=(0,_e._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new rn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=x,this.stsTokenManager=F,this.accessToken=F.accessToken,this.displayName=L.displayName||null,this.email=L.email||null,this.phoneNumber=L.phoneNumber||null,this.photoURL=L.photoURL||null,this.isAnonymous=L.isAnonymous||!1,this.metadata=new sr(L.createdAt||void 0,L.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,u.Z)(function*(){const x=yield xr(_,_.stsTokenManager.getToken(_.auth,m));return Q(x,_.auth,"internal-error"),_.accessToken!==x&&(_.accessToken=x,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),x})()}getIdTokenResult(m){return function(E){return vn.apply(this,arguments)}(this,m)}reload(){return function(E){return Y.apply(this,arguments)}(this)}_assign(m){this!==m&&(Q(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new Rt(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var x=this;return(0,u.Z)(function*(){let F=!1;m.idToken&&m.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(m),F=!0),_&&(yield po(x)),yield x.auth._persistUserIfCurrent(x),F&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var m=this;return(0,u.Z)(function*(){const _=yield m.getIdToken();return yield xr(m,function(E,m){return Ke.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var x,F,L,te,xe,ke,nt,ce;const dt=null!==(x=_.displayName)&&void 0!==x?x:void 0,st=null!==(F=_.email)&&void 0!==F?F:void 0,ns=null!==(L=_.phoneNumber)&&void 0!==L?L:void 0,As=null!==(te=_.photoURL)&&void 0!==te?te:void 0,xh=null!==(xe=_.tenantId)&&void 0!==xe?xe:void 0,Pu=null!==(ke=_._redirectEventId)&&void 0!==ke?ke:void 0,rA=null!==(nt=_.createdAt)&&void 0!==nt?nt:void 0,al=null!==(ce=_.lastLoginAt)&&void 0!==ce?ce:void 0,{uid:Wt,emailVerified:Tg,isAnonymous:Mg,providerData:Ih,stsTokenManager:lv}=_;Q(Wt&&lv,m,"internal-error");const no=rt.fromJSON(this.name,lv);Q("string"==typeof Wt,m,"internal-error"),St(dt,m.name),St(st,m.name),Q("boolean"==typeof Tg,m,"internal-error"),Q("boolean"==typeof Mg,m,"internal-error"),St(ns,m.name),St(As,m.name),St(xh,m.name),St(Pu,m.name),St(rA,m.name),St(al,m.name);const Lu=new Rt({uid:Wt,auth:m,email:st,emailVerified:Tg,displayName:dt,isAnonymous:Mg,photoURL:As,phoneNumber:ns,tenantId:xh,stsTokenManager:no,createdAt:rA,lastLoginAt:al});return Ih&&Array.isArray(Ih)&&(Lu.providerData=Ih.map(Rg=>Object.assign({},Rg))),Pu&&(Lu._redirectEventId=Pu),Lu}static _fromIdTokenResponse(m,_,x=!1){return(0,u.Z)(function*(){const F=new rt;F.updateFromServerResponse(_);const L=new Rt({uid:_.localId,auth:m,stsTokenManager:F,isAnonymous:x});return yield po(L),L})()}}const Ln=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,u.Z)(function*(){return!0})()}_set(_,x){var F=this;return(0,u.Z)(function*(){F.storage[_]=x})()}_get(_){var x=this;return(0,u.Z)(function*(){const F=x.storage[_];return void 0===F?null:F})()}_remove(_){var x=this;return(0,u.Z)(function*(){delete x.storage[_]})()}_addListener(_,x){}_removeListener(_,x){}}return E.type="NONE",E})();function Bn(E,m,_){return`firebase:${E}:${m}:${_}`}class Hn{constructor(m,_,x){this.persistence=m,this.auth=_,this.userKey=x;const{config:F,name:L}=this.auth;this.fullUserKey=Bn(this.userKey,F.apiKey,L),this.fullPersistenceKey=Bn("persistence",F.apiKey,L),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,u.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?Rt._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,u.Z)(function*(){if(_.persistence===m)return;const x=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,x?_.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,x="authUser"){return(0,u.Z)(function*(){if(!_.length)return new Hn(Ae(Ln),m,x);const F=(yield Promise.all(_.map(function(){var nt=(0,u.Z)(function*(ce){if(yield ce._isAvailable())return ce});return function(ce){return nt.apply(this,arguments)}}()))).filter(nt=>nt);let L=F[0]||Ae(Ln);const te=Bn(x,m.config.apiKey,m.name);let xe=null;for(const nt of _)try{const ce=yield nt._get(te);if(ce){const dt=Rt._fromJSON(m,ce);nt!==L&&(xe=dt),L=nt;break}}catch(ce){}const ke=F.filter(nt=>nt._shouldAllowMigration);return L._shouldAllowMigration&&ke.length?(L=ke[0],xe&&(yield L._set(te,xe.toJSON())),yield Promise.all(_.map(function(){var nt=(0,u.Z)(function*(ce){if(ce!==L)try{yield ce._remove(te)}catch(dt){}});return function(ce){return nt.apply(this,arguments)}}())),new Hn(L,m,x)):new Hn(L,m,x)})()}}function zs(E){const m=E.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Ml(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(Ko(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(oi(m))return"Blackberry";if(Ir(m))return"Webos";if(Jo(m))return"Safari";if((m.includes("chrome/")||jc(m))&&!m.includes("edge/"))return"Chrome";if(cs(m))return"Android";{const x=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function Ko(E=(0,z.z$)()){return/firefox\//i.test(E)}function Jo(E=(0,z.z$)()){const m=E.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function jc(E=(0,z.z$)()){return/crios\//i.test(E)}function Ml(E=(0,z.z$)()){return/iemobile/i.test(E)}function cs(E=(0,z.z$)()){return/android/i.test(E)}function oi(E=(0,z.z$)()){return/blackberry/i.test(E)}function Ir(E=(0,z.z$)()){return/webos/i.test(E)}function mi(E=(0,z.z$)()){return/iphone|ipad|ipod/i.test(E)}function ze(E=(0,z.z$)()){return mi(E)||cs(E)||Ir(E)||oi(E)||/windows phone/i.test(E)||Ml(E)}function Xt(E,m=[]){let _;switch(E){case"Browser":_=zs((0,z.z$)());break;case"Worker":_=`${zs((0,z.z$)())}-${E}`;break;default:_=E}const x=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${de.SDK_VERSION}/${x}`}class At{constructor(m,_){this.app=m,this.config=_,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new jn(this),this.idTokenSubscription=new jn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Te,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=_.sdkClientVersion}_initializeWithPersistence(m,_){var x=this;return _&&(this._popupRedirectResolver=Ae(_)),this._initializationPromise=this.queue((0,u.Z)(function*(){var F;x._deleted||(x.persistenceManager=yield Hn.create(x,m),!x._deleted&&((null===(F=x._popupRedirectResolver)||void 0===F?void 0:F._shouldInitProactively)&&(yield x._popupRedirectResolver._initialize(x)),yield x.initializeCurrentUser(_),!x._deleted&&(x._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,u.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_)}})()}initializeCurrentUser(m){var _=this;return(0,u.Z)(function*(){var x;let F=yield _.assertedPersistence.getCurrentUser();if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const L=null===(x=_.redirectUser)||void 0===x?void 0:x._redirectEventId,te=null==F?void 0:F._redirectEventId,xe=yield _.tryRedirectSignIn(m);(!L||L===te)&&(null==xe?void 0:xe.user)&&(F=xe.user)}return F?F._redirectEventId?(Q(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===F._redirectEventId?_.directlySetCurrentUser(F):_.reloadAndSetCurrentUserOrClear(F)):_.reloadAndSetCurrentUserOrClear(F):_.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var _=this;return(0,u.Z)(function*(){let x=null;try{x=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch(F){yield _._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,u.Z)(function*(){try{yield po(m)}catch(x){if("auth/network-request-failed"!==x.code)return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var m=this;return(0,u.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,u.Z)(function*(){const x=m?(0,z.m9)(m):null;return x&&Q(x.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(x&&x._clone(_))})()}_updateCurrentUser(m){var _=this;return(0,u.Z)(function*(){if(!_._deleted)return m&&Q(_.tenantId===m.tenantId,_,"tenant-id-mismatch"),_.queue((0,u.Z)(function*(){yield _.directlySetCurrentUser(m),_.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,u.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var _=this;return this.queue((0,u.Z)(function*(){yield _.assertedPersistence.setPersistence(Ae(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new z.LL("auth","Firebase",m())}onAuthStateChanged(m,_,x){return this.registerStateListener(this.authStateSubscription,m,_,x)}onIdTokenChanged(m,_,x){return this.registerStateListener(this.idTokenSubscription,m,_,x)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var x=this;return(0,u.Z)(function*(){const F=yield x.getOrInitRedirectPersistenceManager(_);return null===m?F.removeCurrentUser():F.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,u.Z)(function*(){if(!_.redirectPersistenceManager){const x=m&&Ae(m)||_._popupRedirectResolver;Q(x,_,"argument-error"),_.redirectPersistenceManager=yield Hn.create(_,[Ae(x._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,u.Z)(function*(){var x,F;return _._isInitialized&&(yield _.queue((0,u.Z)(function*(){}))),(null===(x=_._currentUser)||void 0===x?void 0:x._redirectEventId)===m?_._currentUser:(null===(F=_.redirectUser)||void 0===F?void 0:F._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,u.Z)(function*(){if(m===_.currentUser)return _.queue((0,u.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,x,F){if(this._deleted)return()=>{};const L="function"==typeof _?_:_.next.bind(_),te=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(te,this,"internal-error"),te.then(()=>L(this.currentUser)),"function"==typeof _?m.addObserver(_,x,F):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,u.Z)(function*(){_.currentUser&&_.currentUser!==m&&(_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh()),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Xt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function hn(E){return(0,z.m9)(E)}class jn{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,z.ne)(_=>this.observer=_)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function wn(E){const m=E.indexOf(":");return m<0?"":E.substr(0,m+1)}function mo(E){if(!E)return null;const m=Number(E);return isNaN(m)?null:m}class Ai{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ye("not implemented")}_getIdTokenResponse(m){return ye("not implemented")}_linkToIdToken(m,_){return ye("not implemented")}_getReauthenticationResolver(m){return ye("not implemented")}}function ws(E,m){return qs.apply(this,arguments)}function qs(){return(qs=(0,u.Z)(function*(E,m){return Ut(E,"POST","/v1/accounts:resetPassword",dn(E,m))})).apply(this,arguments)}function Qn(E,m){return ai.apply(this,arguments)}function ai(){return(ai=(0,u.Z)(function*(E,m){return Ut(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Sr(E,m){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,u.Z)(function*(E,m){return Ut(E,"POST","/v1/accounts:update",dn(E,m))})).apply(this,arguments)}function Bt(){return(Bt=(0,u.Z)(function*(E,m){return Ii(E,"POST","/v1/accounts:signInWithPassword",dn(E,m))})).apply(this,arguments)}function Ua(E,m){return zc.apply(this,arguments)}function zc(){return(zc=(0,u.Z)(function*(E,m){return Ut(E,"POST","/v1/accounts:sendOobCode",dn(E,m))})).apply(this,arguments)}function zn(E,m){return $o.apply(this,arguments)}function $o(){return($o=(0,u.Z)(function*(E,m){return Ua(E,m)})).apply(this,arguments)}function Xo(E,m){return bs.apply(this,arguments)}function bs(){return(bs=(0,u.Z)(function*(E,m){return Ua(E,m)})).apply(this,arguments)}function Tr(E,m){return In.apply(this,arguments)}function In(){return(In=(0,u.Z)(function*(E,m){return Ua(E,m)})).apply(this,arguments)}function Bd(E,m){return Zr.apply(this,arguments)}function Zr(){return(Zr=(0,u.Z)(function*(E,m){return Ua(E,m)})).apply(this,arguments)}function Ga(){return(Ga=(0,u.Z)(function*(E,m){return Ii(E,"POST","/v1/accounts:signInWithEmailLink",dn(E,m))})).apply(this,arguments)}function Es(){return(Es=(0,u.Z)(function*(E,m){return Ii(E,"POST","/v1/accounts:signInWithEmailLink",dn(E,m))})).apply(this,arguments)}class qn extends Ai{constructor(m,_,x,F=null){super("password",x),this._email=m,this._password=_,this._tenantId=F}static _fromEmailAndPassword(m,_){return new qn(m,_,"password")}static _fromEmailAndCode(m,_,x=null){return new qn(m,_,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if((null==_?void 0:_.email)&&(null==_?void 0:_.password)){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,u.Z)(function*(){switch(_.signInMethod){case"password":return function(E,m){return Bt.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function(E,m){return Ga.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:Qe(m,"internal-error")}})()}_linkToIdToken(m,_){var x=this;return(0,u.Z)(function*(){switch(x.signInMethod){case"password":return Qn(m,{idToken:_,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function(E,m){return Es.apply(this,arguments)}(m,{idToken:_,email:x._email,oobCode:x._password});default:Qe(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function Yn(E,m){return qc.apply(this,arguments)}function qc(){return(qc=(0,u.Z)(function*(E,m){return Ii(E,"POST","/v1/accounts:signInWithIdp",dn(E,m))})).apply(this,arguments)}class us extends Ai{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new us(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):Qe("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:F}=_,L=(0,_e._T)(_,["providerId","signInMethod"]);if(!x||!F)return null;const te=new us(x,F);return Object.assign(te,L),te}_getIdTokenResponse(m){return Yn(m,this.buildRequest())}_linkToIdToken(m,_){const x=this.buildRequest();return x.idToken=_,Yn(m,x)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Yn(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,z.xO)(_)}return m}}function Em(E,m){return ea.apply(this,arguments)}function ea(){return(ea=(0,u.Z)(function*(E,m){return Ut(E,"POST","/v1/accounts:sendVerificationCode",dn(E,m))})).apply(this,arguments)}function Ud(){return(Ud=(0,u.Z)(function*(E,m){return Ii(E,"POST","/v1/accounts:signInWithPhoneNumber",dn(E,m))})).apply(this,arguments)}function Gd(){return(Gd=(0,u.Z)(function*(E,m){const _=yield Ii(E,"POST","/v1/accounts:signInWithPhoneNumber",dn(E,m));if(_.temporaryProof)throw rr(E,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Im={USER_NOT_FOUND:"user-not-found"};function Yc(){return(Yc=(0,u.Z)(function*(E,m){return Ii(E,"POST","/v1/accounts:signInWithPhoneNumber",dn(E,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Im)})).apply(this,arguments)}class na extends Ai{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new na({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new na({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function(E,m){return Ud.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function(E,m){return Gd.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(E,m){return Yc.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:x,verificationCode:F}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:x,code:F}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:x,phoneNumber:F,temporaryProof:L}=m;return x||_||F||L?new na({verificationId:_,verificationCode:x,phoneNumber:F,temporaryProof:L}):null}}class Rl{constructor(m){var _,x,F,L,te,xe;const ke=(0,z.zd)((0,z.pd)(m)),nt=null!==(_=ke.apiKey)&&void 0!==_?_:null,ce=null!==(x=ke.oobCode)&&void 0!==x?x:null,dt=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(F=ke.mode)&&void 0!==F?F:null);Q(nt&&ce&&dt,"argument-error"),this.apiKey=nt,this.operation=dt,this.code=ce,this.continueUrl=null!==(L=ke.continueUrl)&&void 0!==L?L:null,this.languageCode=null!==(te=ke.languageCode)&&void 0!==te?te:null,this.tenantId=null!==(xe=ke.tenantId)&&void 0!==xe?xe:null}static parseLink(m){const _=function(E){const m=(0,z.zd)((0,z.pd)(E)).link,_=m?(0,z.zd)((0,z.pd)(m)).deep_link_id:null,x=(0,z.zd)((0,z.pd)(E)).deep_link_id;return(x?(0,z.zd)((0,z.pd)(x)).link:null)||x||_||m||E}(m);try{return new Rl(_)}catch(x){return null}}}let kl=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(_,x){return qn._fromEmailAndPassword(_,x)}static credentialWithLink(_,x){const F=Rl.parseLink(x);return Q(F,"argument-error"),qn._fromEmailAndCode(_,F.code,F.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ds{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Ha extends ds{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class Ao extends Ha{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return Q("providerId"in _&&"signInMethod"in _,"argument-error"),us._fromParams(_)}credential(m){return this._credential(m)}_credential(m){return Q(m.idToken||m.accessToken,"argument-error"),us._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return Ao.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return Ao.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:x,oauthTokenSecret:F,pendingToken:L,nonce:te,providerId:xe}=m;if(!x&&!F&&!_&&!L||!xe)return null;try{return new Ao(xe)._credential({idToken:_,accessToken:x,rawNonce:te,pendingToken:L})}catch(ke){return null}}}let Wc=(()=>{class E extends Ha{constructor(){super("facebook.com")}static credential(_){return us._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(x){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),Ws=(()=>{class E extends Ha{constructor(){super("google.com"),this.addScope("profile")}static credential(_,x){return us._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:x})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:x,oauthAccessToken:F}=_;if(!x&&!F)return null;try{return E.credential(x,F)}catch(L){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Zc=(()=>{class E extends Ha{constructor(){super("github.com")}static credential(_){return us._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return E.credential(_.oauthAccessToken)}catch(x){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class xs extends Ai{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return Yn(m,this.buildRequest())}_linkToIdToken(m,_){const x=this.buildRequest();return x.idToken=_,Yn(m,x)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,Yn(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:F,pendingToken:L}=_;return x&&F&&L&&x===F?new xs(x,L):null}static _create(m,_){return new xs(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let Kc=(()=>{class E extends Ha{constructor(){super("twitter.com")}static credential(_,x){return us._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:x})}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:x,oauthTokenSecret:F}=_;if(!x||!F)return null;try{return E.credential(x,F)}catch(L){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Rr(E,m){return hs.apply(this,arguments)}function hs(){return(hs=(0,u.Z)(function*(E,m){return Ii(E,"POST","/v1/accounts:signUp",dn(E,m))})).apply(this,arguments)}class ei{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,x,F=!1){return(0,u.Z)(function*(){const L=yield Rt._fromIdTokenResponse(m,x,F),te=Zf(x);return new ei({user:L,providerId:te,_tokenResponse:x,operationType:_})})()}static _forOperation(m,_,x){return(0,u.Z)(function*(){yield m._updateTokensIfNecessary(x,!0);const F=Zf(x);return new ei({user:m,providerId:F,_tokenResponse:x,operationType:_})})()}}function Zf(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Jc(){return(Jc=(0,u.Z)(function*(E){var m;const _=hn(E);if(yield _._initializationPromise,null===(m=_.currentUser)||void 0===m?void 0:m.isAnonymous)return new ei({user:_.currentUser,providerId:null,operationType:"signIn"});const x=yield Rr(_,{returnSecureToken:!0}),F=yield ei._fromIdTokenResponse(_,"signIn",x,!0);return yield _._updateCurrentUser(F.user),F})).apply(this,arguments)}class Ol extends z.ZR{constructor(m,_,x,F){var L;super(_.code,_.message),this.operationType=x,this.user=F,this.name="FirebaseError",Object.setPrototypeOf(this,Ol.prototype),this.appName=m.name,this.code=_.code,this.tenantId=null!==(L=m.tenantId)&&void 0!==L?L:void 0,this.serverResponse=_.customData.serverResponse}static _fromErrorAndOperation(m,_,x,F){return new Ol(m,_,x,F)}}function ja(E,m,_,x){return("reauthenticate"===m?_._getReauthenticationResolver(E):_._getIdTokenResponse(E)).catch(L=>{throw"auth/multi-factor-auth-required"===L.code?Ol._fromErrorAndOperation(E,L,m,x):L})}function Hd(E){return new Set(E.map(({providerId:m})=>m).filter(m=>!!m))}function $c(){return($c=(0,u.Z)(function*(E,m){const _=(0,z.m9)(E);yield fs(!0,_,m);const{providerUserInfo:x}=yield si(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),F=Hd(x||[]);return _.providerData=_.providerData.filter(L=>F.has(L.providerId)),F.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function fn(E,m){return ia.apply(this,arguments)}function ia(){return(ia=(0,u.Z)(function*(E,m,_=!1){const x=yield xr(E,m._linkToIdToken(E.auth,yield E.getIdToken()),_);return ei._forOperation(E,"link",x)})).apply(this,arguments)}function fs(E,m,_){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,u.Z)(function*(E,m,_){yield po(m);const F=!1===E?"provider-already-linked":"no-such-provider";Q(Hd(m.providerData).has(_)===E,m.auth,F)})).apply(this,arguments)}function gn(E,m){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,u.Z)(function*(E,m,_=!1){const{auth:x}=E,F="reauthenticate";try{const L=yield xr(E,ja(x,F,m,E),_);Q(L.idToken,x,"internal-error");const te=Ve(L.idToken);Q(te,x,"internal-error");const{sub:xe}=te;return Q(E.uid===xe,x,"user-mismatch"),ei._forOperation(E,F,L)}catch(L){throw"auth/user-not-found"===(null==L?void 0:L.code)&&Qe(x,"user-mismatch"),L}})).apply(this,arguments)}function ra(E,m){return sa.apply(this,arguments)}function sa(){return(sa=(0,u.Z)(function*(E,m,_=!1){const x="signIn",F=yield ja(E,x,m),L=yield ei._fromIdTokenResponse(E,x,F);return _||(yield E._updateCurrentUser(L.user)),L})).apply(this,arguments)}function yi(E,m){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,u.Z)(function*(E,m){return ra(hn(E),m)})).apply(this,arguments)}function Pl(E,m){return Is.apply(this,arguments)}function Is(){return(Is=(0,u.Z)(function*(E,m){const _=(0,z.m9)(E);return yield fs(!1,_,m.providerId),fn(_,m)})).apply(this,arguments)}function ji(E,m){return za.apply(this,arguments)}function za(){return(za=(0,u.Z)(function*(E,m){return gn((0,z.m9)(E),m)})).apply(this,arguments)}function eu(E,m){return oa.apply(this,arguments)}function oa(){return(oa=(0,u.Z)(function*(E,m){return Ii(E,"POST","/v1/accounts:signInWithCustomToken",dn(E,m))})).apply(this,arguments)}function Ll(){return(Ll=(0,u.Z)(function*(E,m){const _=hn(E),x=yield eu(_,{token:m,returnSecureToken:!0}),F=yield ei._fromIdTokenResponse(_,"signIn",x);return yield _._updateCurrentUser(F.user),F})).apply(this,arguments)}class aa{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?vt._fromServerResponse(m,_):Qe(m,"internal-error")}}class vt extends aa{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new vt(_)}}function Bl(E,m,_){var x;Q((null===(x=_.url)||void 0===x?void 0:x.length)>0,E,"invalid-continue-uri"),Q(void 0===_.dynamicLinkDomain||_.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(Q(_.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),m.iosBundleId=_.iOS.bundleId),_.android&&(Q(_.android.packageName.length>0,E,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function tu(){return(tu=(0,u.Z)(function*(E,m,_){const x=(0,z.m9)(E),F={requestType:"PASSWORD_RESET",email:m};_&&Bl(x,F,_),yield Xo(x,F)})).apply(this,arguments)}function nu(){return(nu=(0,u.Z)(function*(E,m,_){yield ws((0,z.m9)(E),{oobCode:m,newPassword:_})})).apply(this,arguments)}function _o(){return(_o=(0,u.Z)(function*(E,m){yield Sr((0,z.m9)(E),{oobCode:m})})).apply(this,arguments)}function Fe(E,m){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,u.Z)(function*(E,m){const _=(0,z.m9)(E),x=yield ws(_,{oobCode:m}),F=x.requestType;switch(Q(F,_,"internal-error"),F){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Q(x.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Q(x.mfaInfo,_,"internal-error");default:Q(x.email,_,"internal-error")}let L=null;return x.mfaInfo&&(L=aa._fromServerResponse(hn(_),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:L},operation:F}})).apply(this,arguments)}function an(){return(an=(0,u.Z)(function*(E,m){const{data:_}=yield Fe((0,z.m9)(E),m);return _.email})).apply(this,arguments)}function gs(){return(gs=(0,u.Z)(function*(E,m,_){const x=hn(E),F=yield Rr(x,{returnSecureToken:!0,email:m,password:_}),L=yield ei._fromIdTokenResponse(x,"signIn",F);return yield x._updateCurrentUser(L.user),L})).apply(this,arguments)}function la(){return(la=(0,u.Z)(function*(E,m,_){const x=(0,z.m9)(E),F={requestType:"EMAIL_SIGNIN",email:m};Q(_.handleCodeInApp,x,"argument-error"),_&&Bl(x,F,_),yield Tr(x,F)})).apply(this,arguments)}function ca(){return(ca=(0,u.Z)(function*(E,m,_){const x=(0,z.m9)(E),F=kl.credentialWithLink(m,_||He());return Q(F._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),yi(x,F)})).apply(this,arguments)}function Hl(E,m){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,u.Z)(function*(E,m){return Ut(E,"POST","/v1/accounts:createAuthUri",dn(E,m))})).apply(this,arguments)}function ru(){return(ru=(0,u.Z)(function*(E,m){const x={identifier:m,continueUri:Xe()?He():"http://localhost"},{signinMethods:F}=yield Hl((0,z.m9)(E),x);return F||[]})).apply(this,arguments)}function lr(){return(lr=(0,u.Z)(function*(E,m){const _=(0,z.m9)(E),F={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};m&&Bl(_.auth,F,m);const{email:L}=yield zn(_.auth,F);L!==E.email&&(yield E.reload())})).apply(this,arguments)}function ua(){return(ua=(0,u.Z)(function*(E,m,_){const x=(0,z.m9)(E),L={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:m};_&&Bl(x.auth,L,_);const{email:te}=yield Bd(x.auth,L);te!==E.email&&(yield E.reload())})).apply(this,arguments)}function su(E,m){return ou.apply(this,arguments)}function ou(){return(ou=(0,u.Z)(function*(E,m){return Ut(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function qa(){return(qa=(0,u.Z)(function*(E,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const x=(0,z.m9)(E),L={idToken:yield x.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},te=yield xr(x,su(x.auth,L));x.displayName=te.displayName||null,x.photoURL=te.photoUrl||null;const xe=x.providerData.find(({providerId:ke})=>"password"===ke);xe&&(xe.displayName=x.displayName,xe.photoURL=x.photoURL),yield x._updateTokensIfNecessary(te)})).apply(this,arguments)}function Wa(E,m,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,u.Z)(function*(E,m,_){const{auth:x}=E,L={idToken:yield E.getIdToken(),returnSecureToken:!0};m&&(L.email=m),_&&(L.password=_);const te=yield xr(E,Qn(x,L));yield E._updateTokensIfNecessary(te,!0)})).apply(this,arguments)}class Ss{constructor(m,_,x={}){this.isNewUser=m,this.providerId=_,this.profile=x}}class zd extends Ss{constructor(m,_,x,F){super(m,_,x),this.username=F}}class qd extends Ss{constructor(m,_){super(m,"facebook.com",_)}}class Xf extends zd{constructor(m,_){super(m,"github.com",_,"string"==typeof(null==_?void 0:_.login)?null==_?void 0:_.login:null)}}class Zs extends Ss{constructor(m,_){super(m,"google.com",_)}}class eg extends zd{constructor(m,_,x){super(m,"twitter.com",_,x)}}function tg(E){const{user:m,_tokenResponse:_}=E;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function(E){var m,_;if(!E)return null;const{providerId:x}=E,F=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},L=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!x&&(null==E?void 0:E.idToken)){const te=null===(_=null===(m=Ve(E.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(te)return new Ss(L,"anonymous"!==te&&"custom"!==te?te:null)}if(!x)return null;switch(x){case"facebook.com":return new qd(L,F);case"github.com":return new Xf(L,F);case"google.com":return new Zs(L,F);case"twitter.com":return new eg(L,F,E.screenName||null);case"custom":case"anonymous":return new Ss(L,null);default:return new Ss(L,x,F)}}(_)}class yn{constructor(m,_){this.type=m,this.credential=_}static _fromIdtoken(m){return new yn("enroll",m)}static _fromMfaPendingCredential(m){return new yn("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,x;if(null==m?void 0:m.multiFactorSession){if(null===(_=m.multiFactorSession)||void 0===_?void 0:_.pendingCredential)return yn._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(x=m.multiFactorSession)||void 0===x?void 0:x.idToken)return yn._fromIdtoken(m.multiFactorSession.idToken)}return null}}class ha{constructor(m,_,x){this.session=m,this.hints=_,this.signInResolver=x}static _fromError(m,_){const x=hn(m),F=(_.serverResponse.mfaInfo||[]).map(te=>aa._fromServerResponse(x,te));Q(_.serverResponse.mfaPendingCredential,x,"internal-error");const L=yn._fromMfaPendingCredential(_.serverResponse.mfaPendingCredential);return new ha(L,F,function(){var te=(0,u.Z)(function*(xe){const ke=yield xe._process(x,L);delete _.serverResponse.mfaInfo,delete _.serverResponse.mfaPendingCredential;const nt=Object.assign(Object.assign({},_.serverResponse),{idToken:ke.idToken,refreshToken:ke.refreshToken});switch(_.operationType){case"signIn":const ce=yield ei._fromIdTokenResponse(x,_.operationType,nt);return yield x._updateCurrentUser(ce.user),ce;case"reauthenticate":return Q(_.user,x,"internal-error"),ei._forOperation(_.user,_.operationType,nt);default:Qe(x,"internal-error")}});return function(xe){return te.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,u.Z)(function*(){return _.signInResolver(m)})()}}function Ql(E,m){return Ut(E,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:E.tenantId},m))}class cu{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(x=>aa._fromServerResponse(m.auth,x)))})}static _fromUser(m){return new cu(m)}getSession(){var m=this;return(0,u.Z)(function*(){return yn._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,_){var x=this;return(0,u.Z)(function*(){const F=m,L=yield x.getSession(),te=yield xr(x.user,F._process(x.user.auth,L,_));return yield x.user._updateTokensIfNecessary(te),x.user.reload()})()}unenroll(m){var _=this;return(0,u.Z)(function*(){const x="string"==typeof m?m:m.uid,F=yield _.user.getIdToken(),L=yield xr(_.user,function(E,m){return Ut(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:E.tenantId},m))}(_.user.auth,{idToken:F,mfaEnrollmentId:x}));_.enrolledFactors=_.enrolledFactors.filter(({uid:te})=>te!==x),yield _.user._updateTokensIfNecessary(L);try{yield _.user.reload()}catch(te){if("auth/user-token-expired"!==te.code)throw te}})()}}const ps=new WeakMap,Ja="__sak";class vo{constructor(m,_){this.storage=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Ja,"1"),this.storage.removeItem(Ja),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}}const hu=(()=>{class E extends vo{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,z.z$)();return Jo(E)||mi(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=ze(),this._shouldAllowMigration=!0,this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(_){for(const x of Object.keys(this.listeners)){const F=this.storage.getItem(x),L=this.localCache[x];F!==L&&_(x,L,F)}}onStorageEvent(_,x=!1){if(!_.key)return void this.forAllChangedKeys((xe,ke,nt)=>{this.notifyListeners(xe,nt)});const F=_.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const xe=this.storage.getItem(F);if(_.newValue!==xe)null!==_.newValue?this.storage.setItem(F,_.newValue):this.storage.removeItem(F);else if(this.localCache[F]===_.newValue&&!x)return}const L=()=>{const xe=this.storage.getItem(F);!x&&this.localCache[F]===xe||this.notifyListeners(F,xe)},te=this.storage.getItem(F);(0,z.w1)()&&10===document.documentMode&&te!==_.newValue&&_.newValue!==_.oldValue?setTimeout(L,10):L()}notifyListeners(_,x){this.localCache[_]=x;const F=this.listeners[_];if(F)for(const L of Array.from(F))L(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,x,F)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:x,newValue:F}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,x){var F=()=>super._set,L=this;return(0,u.Z)(function*(){yield F().call(L,_,x),L.localCache[_]=JSON.stringify(x)})()}_get(_){var x=()=>super._get,F=this;return(0,u.Z)(function*(){const L=yield x().call(F,_);return F.localCache[_]=JSON.stringify(L),L})()}_remove(_){var x=()=>super._remove,F=this;return(0,u.Z)(function*(){yield x().call(F,_),delete F.localCache[_]})()}}return E.type="LOCAL",E})(),ms=(()=>{class E extends vo{constructor(){super(window.sessionStorage,"SESSION")}_addListener(_,x){}_removeListener(_,x){}}return E.type="SESSION",E})();let D=(()=>{class E{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const x=this.receivers.find(L=>L.isListeningto(_));if(x)return x;const F=new E(_);return this.receivers.push(F),F}isListeningto(_){return this.eventTarget===_}handleEvent(_){var x=this;return(0,u.Z)(function*(){const F=_,{eventId:L,eventType:te,data:xe}=F.data,ke=x.handlersMap[te];if(!(null==ke?void 0:ke.size))return;F.ports[0].postMessage({status:"ack",eventId:L,eventType:te});const nt=Array.from(ke).map(function(){var dt=(0,u.Z)(function*(st){return st(F.origin,xe)});return function(st){return dt.apply(this,arguments)}}()),ce=yield function(E){return Promise.all(E.map(function(){var m=(0,u.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(x){return{fulfilled:!1,reason:x}}});return function(_){return m.apply(this,arguments)}}()))}(nt);F.ports[0].postMessage({status:"done",eventId:L,eventType:te,response:ce})})()}_subscribe(_,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(x)}_unsubscribe(_,x){this.handlersMap[_]&&x&&this.handlersMap[_].delete(x),(!x||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function S(E="",m=10){let _="";for(let x=0;x<m;x++)_+=Math.floor(10*Math.random());return E+_}class O{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,x=50){var F=this;return(0,u.Z)(function*(){const L="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!L)throw new Error("connection_unavailable");let te,xe;return new Promise((ke,nt)=>{const ce=S("",20);L.port1.start();const dt=setTimeout(()=>{nt(new Error("unsupported_event"))},x);xe={messageChannel:L,onMessage(st){const ns=st;if(ns.data.eventId===ce)switch(ns.data.status){case"ack":clearTimeout(dt),te=setTimeout(()=>{nt(new Error("timeout"))},3e3);break;case"done":clearTimeout(te),ke(ns.data.response);break;default:clearTimeout(dt),clearTimeout(te),nt(new Error("invalid_response"))}}},F.handlers.add(xe),L.port1.addEventListener("message",xe.onMessage),F.target.postMessage({eventType:m,eventId:ce,data:_},[L.port2])}).finally(()=>{xe&&F.removeMessageHandler(xe)})})()}}function G(){return window}function it(){return void 0!==G().WorkerGlobalScope&&"function"==typeof G().importScripts}function cr(){return(cr=(0,u.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const el="firebaseLocalStorageDb",ng="firebaseLocalStorage",G_="fbase_key";class wo{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function fu(E,m){return E.transaction([ng],m?"readwrite":"readonly").objectStore(ng)}function Zl(){const E=indexedDB.open(el,1);return new Promise((m,_)=>{E.addEventListener("error",()=>{_(E.error)}),E.addEventListener("upgradeneeded",()=>{const x=E.result;try{x.createObjectStore(ng,{keyPath:G_})}catch(F){_(F)}}),E.addEventListener("success",(0,u.Z)(function*(){const x=E.result;x.objectStoreNames.contains(ng)?m(x):(x.close(),yield function(){const E=indexedDB.deleteDatabase(el);return new wo(E).toPromise()}(),m(yield Zl()))}))})}function ur(E,m,_){return bo.apply(this,arguments)}function bo(){return(bo=(0,u.Z)(function*(E,m,_){const x=fu(E,!0).put({[G_]:m,value:_});return new wo(x).toPromise()})).apply(this,arguments)}function Yd(){return(Yd=(0,u.Z)(function*(E,m){const _=fu(E,!1).get(m),x=yield new wo(_).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Wd(E,m){const _=fu(E,!0).delete(m);return new wo(_).toPromise()}const Wn=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,u.Z)(function*(){return _.db||(_.db=yield Zl()),_.db})()}_withRetries(_){var x=this;return(0,u.Z)(function*(){let F=0;for(;;)try{const L=yield x._openDb();return yield _(L)}catch(L){if(F++>3)throw L;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,u.Z)(function*(){return it()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,u.Z)(function*(){_.receiver=D._getInstance(it()?self:null),_.receiver._subscribe("keyChanged",function(){var x=(0,u.Z)(function*(F,L){return{keyProcessed:(yield _._poll()).includes(L.key)}});return function(F,L){return x.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var x=(0,u.Z)(function*(F,L){return["keyChanged"]});return function(F,L){return x.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,u.Z)(function*(){var x,F;if(_.activeServiceWorker=yield function(){return cr.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new O(_.activeServiceWorker);const L=yield _.sender._send("ping",{},800);!L||(null===(x=L[0])||void 0===x?void 0:x.fulfilled)&&(null===(F=L[0])||void 0===F?void 0:F.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var x=this;return(0,u.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:_},x.serviceWorkerReceiverAvailable?800:50)}catch(F){}})()}_isAvailable(){return(0,u.Z)(function*(){try{if(!indexedDB)return!1;const _=yield Zl();return yield ur(_,Ja,"1"),yield Wd(_,Ja),!0}catch(_){}return!1})()}_withPendingWrite(_){var x=this;return(0,u.Z)(function*(){x.pendingWrites++;try{yield _()}finally{x.pendingWrites--}})()}_set(_,x){var F=this;return(0,u.Z)(function*(){return F._withPendingWrite((0,u.Z)(function*(){return yield F._withRetries(L=>ur(L,_,x)),F.localCache[_]=x,F.notifyServiceWorker(_)}))})()}_get(_){var x=this;return(0,u.Z)(function*(){const F=yield x._withRetries(L=>function(E,m){return Yd.apply(this,arguments)}(L,_));return x.localCache[_]=F,F})()}_remove(_){var x=this;return(0,u.Z)(function*(){return x._withPendingWrite((0,u.Z)(function*(){return yield x._withRetries(F=>Wd(F,_)),delete x.localCache[_],x.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,u.Z)(function*(){const x=yield _._withRetries(te=>{const xe=fu(te,!1).getAll();return new wo(xe).toPromise()});if(!x)return[];if(0!==_.pendingWrites)return[];const F=[],L=new Set;for(const{fbase_key:te,value:xe}of x)L.add(te),JSON.stringify(_.localCache[te])!==JSON.stringify(xe)&&(_.notifyListeners(te,xe),F.push(te));for(const te of Object.keys(_.localCache))_.localCache[te]&&!L.has(te)&&(_.notifyListeners(te,null),F.push(te));return F})()}notifyListeners(_,x){this.localCache[_]=x;const F=this.listeners[_];if(F)for(const L of Array.from(F))L(x)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,u.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(x)}_removeListener(_,x){this.listeners[_]&&(this.listeners[_].delete(x),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function li(E,m){return Ut(E,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:E.tenantId},m))}function Zd(){return(Zd=(0,u.Z)(function*(E){return(yield Ut(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rg(E){return new Promise((m,_)=>{const x=document.createElement("script");x.setAttribute("src",E),x.onload=m,x.onerror=F=>{const L=mt("internal-error");L.customData=F,_(L)},x.type="text/javascript",x.charset="UTF-8",function(){var E,m;return null!==(m=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==m?m:document}().appendChild(x)})}function Kd(E){return`__${E}${Math.floor(1e6*Math.random())}`}const ga=1e12;class pa{constructor(m){this.auth=m,this.counter=ga,this._widgets=new Map}render(m,_){const x=this.counter;return this._widgets.set(x,new gu(m,this.auth.name,_||{})),this.counter++,x}reset(m){var _;const x=m||ga;null===(_=this._widgets.get(x))||void 0===_||_.delete(),this._widgets.delete(x)}getResponse(m){var _;return(null===(_=this._widgets.get(m||ga))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,u.Z)(function*(){var x;return null===(x=_._widgets.get(m||ga))||void 0===x||x.execute(),""})()}}class gu{constructor(m,_,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const F="string"==typeof m?document.getElementById(m):m;Q(F,"argument-error",{appName:_}),this.container=F,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<50;x++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}();const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Co=Kd("rcb"),Jd=new et(3e4,6e4);class H_{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!G().grecaptcha}load(m,_=""){return Q((E=_).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(G().grecaptcha):new Promise((x,F)=>{const L=G().setTimeout(()=>{F(mt(m,"network-request-failed"))},Jd.get());G()[Co]=()=>{G().clearTimeout(L),delete G()[Co];const xe=G().grecaptcha;if(!xe)return void F(mt(m,"internal-error"));const ke=xe.render;xe.render=(nt,ce)=>{const dt=ke(nt,ce);return this.counter++,dt},this.hostLanguage=_,x(xe)},rg(`https://www.google.com/recaptcha/api.js??${(0,z.xO)({onload:Co,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(L),F(mt(m,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!G().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class j_{load(m){return(0,u.Z)(function*(){return new pa(m)})()}clearedOneInstance(){}}const Sn="recaptcha",uC={theme:"light",type:"image"};class ag{constructor(m,_=Object.assign({},uC),x){this.parameters=_,this.type=Sn,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=hn(x),this.isInvisible="invisible"===this.parameters.size,Q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const F="string"==typeof m?document.getElementById(m):m;Q(F,this.auth,"argument-error"),this.container=F,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new j_:new H_,this.validateStartingState()}verify(){var m=this;return(0,u.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),x=m.getAssertedRecaptcha();return x.getResponse(_)||new Promise(L=>{const te=xe=>{!xe||(m.tokenChangeListeners.delete(te),L(xe))};m.tokenChangeListeners.add(te),m.isInvisible&&x.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Q(!this.parameters.sitekey,this.auth,"argument-error"),Q(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Q("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(x=>x(_)),"function"==typeof m)m(_);else if("string"==typeof m){const x=G()[m];"function"==typeof x&&x(_)}}}assertNotDestroyed(){Q(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,u.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const x=document.createElement("div");_.appendChild(x),_=x}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,u.Z)(function*(){Q(Xe()&&!it(),m.auth,"internal-error"),yield function(){let E=null;return new Promise(m=>{"complete"!==document.readyState?(E=()=>m(),window.addEventListener("load",E)):m()}).catch(m=>{throw E&&window.removeEventListener("load",E),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function(E){return Zd.apply(this,arguments)}(m.auth);Q(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return Q(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class dr{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=na._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Nm(){return(Nm=(0,u.Z)(function*(E,m,_){const x=hn(E),F=yield $r(x,m,(0,z.m9)(_));return new dr(F,L=>yi(x,L))})).apply(this,arguments)}function pu(){return(pu=(0,u.Z)(function*(E,m,_){const x=(0,z.m9)(E);yield fs(!1,x,"phone");const F=yield $r(x.auth,m,(0,z.m9)(_));return new dr(F,L=>Pl(x,L))})).apply(this,arguments)}function ma(){return(ma=(0,u.Z)(function*(E,m,_){const x=(0,z.m9)(E),F=yield $r(x.auth,m,(0,z.m9)(_));return new dr(F,L=>ji(x,L))})).apply(this,arguments)}function $r(E,m,_){return tl.apply(this,arguments)}function tl(){return(tl=(0,u.Z)(function*(E,m,_){var x;const F=yield _.verify();try{let L;if(Q("string"==typeof F,E,"argument-error"),Q(_.type===Sn,E,"argument-error"),L="string"==typeof m?{phoneNumber:m}:m,"session"in L){const te=L.session;if("phoneNumber"in L)return Q("enroll"===te.type,E,"internal-error"),(yield Ql(E,{idToken:te.credential,phoneEnrollmentInfo:{phoneNumber:L.phoneNumber,recaptchaToken:F}})).phoneSessionInfo.sessionInfo;{Q("signin"===te.type,E,"internal-error");const xe=(null===(x=L.multiFactorHint)||void 0===x?void 0:x.uid)||L.multiFactorUid;return Q(xe,E,"missing-multi-factor-info"),(yield li(E,{mfaPendingCredential:te.credential,mfaEnrollmentId:xe,phoneSignInInfo:{recaptchaToken:F}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:te}=yield Em(E,{phoneNumber:L.phoneNumber,recaptchaToken:F});return te}}finally{_._reset()}})).apply(this,arguments)}function Zn(){return(Zn=(0,u.Z)(function*(E,m){yield fn((0,z.m9)(E),m)})).apply(this,arguments)}let nl=(()=>{class E{constructor(_){this.providerId=E.PROVIDER_ID,this.auth=hn(_)}verifyPhoneNumber(_,x){return $r(this.auth,_,(0,z.m9)(x))}static credential(_,x){return na._fromVerification(_,x)}static credentialFromResult(_){return E.credentialFromTaggedObject(_)}static credentialFromError(_){return E.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:x,temporaryProof:F}=_;return x&&F?na._fromTokenResponse(x,F):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Ks(E,m){return m?Ae(m):(Q(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class mu extends Ai{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return Yn(m,this._buildIdpRequest())}_linkToIdToken(m,_){return Yn(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return Yn(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function Aa(E){return ra(E.auth,new mu(E),E.bypassAuthState)}function Xr(E){const{auth:m,user:_}=E;return Q(_,m,"internal-error"),gn(_,new mu(E),E.bypassAuthState)}function _n(E){return es.apply(this,arguments)}function es(){return(es=(0,u.Z)(function*(E){const{auth:m,user:_}=E;return Q(_,m,"internal-error"),fn(_,new mu(E),E.bypassAuthState)})).apply(this,arguments)}class ya{constructor(m,_,x,F,L=!1){this.auth=m,this.resolver=x,this.user=F,this.bypassAuthState=L,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,u.Z)(function*(x,F){m.pendingPromise={resolve:x,reject:F};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(L){m.reject(L)}});return function(x,F){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,u.Z)(function*(){const{urlResponse:x,sessionId:F,postBody:L,tenantId:te,error:xe,type:ke}=m;if(xe)return void _.reject(xe);const nt={auth:_.auth,requestUri:x,sessionId:F,tenantId:te||void 0,postBody:L||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(ke)(nt))}catch(ce){_.reject(ce)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return Aa;case"linkViaPopup":case"linkViaRedirect":return _n;case"reauthViaPopup":case"reauthViaRedirect":return Xr;default:Qe(this.auth,"internal-error")}}resolve(m){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){pe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ti=new et(2e3,1e4);function $d(){return($d=(0,u.Z)(function*(E,m,_){const x=hn(E);Ft(E,m,ds);const F=Ks(x,_);return new Qi(x,"signInViaPopup",m,F).executeNotNull()})).apply(this,arguments)}function cg(){return(cg=(0,u.Z)(function*(E,m,_){const x=(0,z.m9)(E);Ft(x.auth,m,ds);const F=Ks(x.auth,_);return new Qi(x.auth,"reauthViaPopup",m,F,x).executeNotNull()})).apply(this,arguments)}function Au(){return(Au=(0,u.Z)(function*(E,m,_){const x=(0,z.m9)(E);Ft(x.auth,m,ds);const F=Ks(x.auth,_);return new Qi(x.auth,"linkViaPopup",m,F,x).executeNotNull()})).apply(this,arguments)}let Qi=(()=>{class E extends ya{constructor(_,x,F,L,te){super(_,x,L,te),this.provider=F,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var _=this;return(0,u.Z)(function*(){const x=yield _.execute();return Q(x,_.auth,"internal-error"),x})()}onExecution(){var _=this;return(0,u.Z)(function*(){pe(1===_.filter.length,"Popup operations only handle one event");const x=S();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],x),_.authWindow.associatedEvent=x,_.resolver._originValidation(_.auth).catch(F=>{_.reject(F)}),_.resolver._isIframeWebStorageSupported(_.auth,F=>{F||_.reject(mt(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(mt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const _=()=>{var x,F;this.pollId=(null===(F=null===(x=this.authWindow)||void 0===x?void 0:x.window)||void 0===F?void 0:F.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(mt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,Ti.get())};_()}}return E.currentPopupAction=null,E})();const hr=new Map;class Y_ extends ya{constructor(m,_,x=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,x),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,u.Z)(function*(){let x=hr.get(_.auth._key());if(!x){try{const L=(yield function(E,m){return eh.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;x=()=>Promise.resolve(L)}catch(F){x=()=>Promise.reject(F)}hr.set(_.auth._key(),x)}return x()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,x=this;return(0,u.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(x,m);if("unknown"!==m.type){if(m.eventId){const F=yield x.auth._redirectUserForId(m.eventId);if(F)return x.user=F,_().call(x,m);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,u.Z)(function*(){})()}cleanUp(){}}function eh(){return(eh=(0,u.Z)(function*(E,m){const _=_a(m),x="true"===(yield nh(E)._get(_));return yield nh(E)._remove(_),x})).apply(this,arguments)}function th(E,m){return dg.apply(this,arguments)}function dg(){return(dg=(0,u.Z)(function*(E,m){return nh(E)._set(_a(m),"true")})).apply(this,arguments)}function nh(E){return Ae(E._redirectPersistence)}function _a(E){return Bn("pendingRedirect",E.config.apiKey,E.name)}function hg(){return(hg=(0,u.Z)(function*(E,m,_){const x=hn(E);Ft(E,m,ds);const F=Ks(x,_);return yield th(F,x),F._openRedirect(x,m,"signInViaRedirect")})).apply(this,arguments)}function Js(){return(Js=(0,u.Z)(function*(E,m,_){const x=(0,z.m9)(E);Ft(x.auth,m,ds);const F=Ks(x.auth,_);yield th(F,x.auth);const L=yield tc(x);return F._openRedirect(x.auth,m,"reauthViaRedirect",L)})).apply(this,arguments)}function oh(){return(oh=(0,u.Z)(function*(E,m,_){const x=(0,z.m9)(E);Ft(x.auth,m,ds);const F=Ks(x.auth,_);yield fs(!1,x,m.providerId),yield th(F,x.auth);const L=yield tc(x);return F._openRedirect(x.auth,m,"linkViaRedirect",L)})).apply(this,arguments)}function zi(){return(zi=(0,u.Z)(function*(E,m){return yield hn(E)._initializationPromise,kr(E,m,!1)})).apply(this,arguments)}function kr(E,m){return va.apply(this,arguments)}function va(){return(va=(0,u.Z)(function*(E,m,_=!1){const x=hn(E),F=Ks(x,m),te=yield new Y_(x,F,_).execute();return te&&!_&&(delete te.user._redirectEventId,yield x._persistUserIfCurrent(te.user),yield x._setRedirectUser(null,m)),te})).apply(this,arguments)}function tc(E){return Um.apply(this,arguments)}function Um(){return(Um=(0,u.Z)(function*(E){const m=S(`${E.uid}:::`);return E._redirectEventId=m,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),m})).apply(this,arguments)}class lh{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(m,x)&&(_=!0,this.sendToConsumer(m,x),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ts(E);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var x;if(m.error&&!Ts(m)){const F=(null===(x=m.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";_.onError(mt(this.auth,F))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const x=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&x}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ch(m))}saveEventToCache(m){this.cachedEventUids.add(ch(m)),this.lastProcessedEventTime=Date.now()}}function ch(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(m=>m).join("-")}function Ts({type:E,error:m}){return"unknown"===E&&"auth/no-auth-event"===(null==m?void 0:m.code)}function uh(E){return dh.apply(this,arguments)}function dh(){return(dh=(0,u.Z)(function*(E,m={}){return Ut(E,"GET","/v1/projects",m)})).apply(this,arguments)}const W_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oS=/^https?/;function $s(){return($s=(0,u.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:m}=yield uh(E);for(const _ of m)try{if(fg(_))return}catch(x){}Qe(E,"unauthorized-domain")})).apply(this,arguments)}function fg(E){const m=He(),{protocol:_,hostname:x}=new URL(m);if(E.startsWith("chrome-extension://")){const te=new URL(E);return""===te.hostname&&""===x?"chrome-extension:"===_&&E.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&te.hostname===x}if(!oS.test(_))return!1;if(W_.test(E))return x===E;const F=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+F+"|"+F+")$","i").test(x)}const il=new et(3e4,6e4);function Gm(){const E=G().___jsl;if(null==E?void 0:E.H)for(const m of Object.keys(E.H))if(E.H[m].r=E.H[m].r||[],E.H[m].L=E.H[m].L||[],E.H[m].r=[...E.H[m].L],E.CP)for(let _=0;_<E.CP.length;_++)E.CP[_]=null}let Xs=null;function rl(E){return Xs=Xs||function(E){return new Promise((m,_)=>{var x,F,L;function te(){Gm(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{Gm(),_(mt(E,"network-request-failed"))},timeout:il.get()})}if(null===(F=null===(x=G().gapi)||void 0===x?void 0:x.iframes)||void 0===F?void 0:F.Iframe)m(gapi.iframes.getContext());else{if(!(null===(L=G().gapi)||void 0===L?void 0:L.load)){const xe=Kd("iframefcb");return G()[xe]=()=>{gapi.load?te():_(mt(E,"network-request-failed"))},rg(`https://apis.google.com/js/api.js?onload=${xe}`)}te()}}).catch(m=>{throw Xs=null,m})}(E),Xs}const wu=new et(5e3,15e3),xo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},bu=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function K_(E){const m=E.config;Q(m.authDomain,E,"auth-domain-config-required");const _=m.emulator?Kt(m,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,x={apiKey:m.apiKey,appName:E.name,v:de.SDK_VERSION},F=bu.get(E.config.apiHost);F&&(x.eid=F);const L=E._getFrameworks();return L.length&&(x.fw=L.join(",")),`${_}?${(0,z.xO)(x).slice(1)}`}function hh(){return(hh=(0,u.Z)(function*(E){const m=yield rl(E),_=G().gapi;return Q(_,E,"internal-error"),m.open({where:document.body,url:K_(E),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xo,dontclear:!0},x=>new Promise(function(){var F=(0,u.Z)(function*(L,te){yield x.restyle({setHideOnLeave:!1});const xe=mt(E,"network-request-failed"),ke=G().setTimeout(()=>{te(xe)},wu.get());function nt(){G().clearTimeout(ke),L(x)}x.ping(nt).then(nt,()=>{te(xe)})});return function(L,te){return F.apply(this,arguments)}}()))})).apply(this,arguments)}const Hm={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Eu{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function nc(E,m,_,x,F,L){Q(E.config.authDomain,E,"auth-domain-config-required"),Q(E.config.apiKey,E,"invalid-api-key");const te={apiKey:E.config.apiKey,appName:E.name,authType:_,redirectUrl:x,v:de.SDK_VERSION,eventId:F};if(m instanceof ds){m.setDefaultLanguage(E.languageCode),te.providerId=m.providerId||"",(0,z.xb)(m.getCustomParameters())||(te.customParameters=JSON.stringify(m.getCustomParameters()));for(const[ke,nt]of Object.entries(L||{}))te[ke]=nt}if(m instanceof Ha){const ke=m.getScopes().filter(nt=>""!==nt);ke.length>0&&(te.scopes=ke.join(","))}E.tenantId&&(te.tid=E.tenantId);const xe=te;for(const ke of Object.keys(xe))void 0===xe[ke]&&delete xe[ke];return`${function({config:E}){return E.emulator?Kt(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,z.xO)(xe).slice(1)}`}const eo="webStorageSupport";class to extends class{constructor(m){this.factorId=m}_process(m,_,x){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,x);case"signin":return this._finalizeSignIn(m,_.credential);default:return ye("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new to(m)}_finalizeEnroll(m,_,x){return function(E,m){return Ut(E,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:E.tenantId},m))}(m,{idToken:_,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function(E,m){return Ut(E,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:E.tenantId},m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Ag{constructor(){}static assertion(m){return to._fromCredential(m)}}var E;class _g{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,u.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(x=>{var F;m((null===(F=x)||void 0===F?void 0:F.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ba(){return window}function sc(){return(sc=(0,u.Z)(function*(E,m,_){var x;const{BuildInfo:F}=ba();pe(m.sessionId,"AuthEvent did not contain a session ID");const L=yield Ym(m.sessionId),te={};return mi()?te.ibi=F.packageName:cs()?te.apn=F.packageName:Qe(E,"operation-not-supported-in-this-environment"),F.displayName&&(te.appDisplayName=F.displayName),te.sessionId=L,nc(E,_,m.type,void 0,null!==(x=m.eventId)&&void 0!==x?x:void 0,te)})).apply(this,arguments)}function zm(){return(zm=(0,u.Z)(function*(E){const{BuildInfo:m}=ba(),_={};mi()?_.iosBundleId=m.packageName:cs()?_.androidPackageName=m.packageName:Qe(E,"operation-not-supported-in-this-environment"),yield uh(E,_)})).apply(this,arguments)}function qm(){return(qm=(0,u.Z)(function*(E,m,_){const{cordova:x}=ba();let F=()=>{};try{yield new Promise((L,te)=>{let xe=null;function ke(){var dt;L();const st=null===(dt=x.plugins.browsertab)||void 0===dt?void 0:dt.close;"function"==typeof st&&st(),"function"==typeof(null==_?void 0:_.close)&&_.close()}function nt(){xe||(xe=window.setTimeout(()=>{te(mt(E,"redirect-cancelled-by-user"))},2e3))}function ce(){"visible"===(null==document?void 0:document.visibilityState)&&nt()}m.addPassiveListener(ke),document.addEventListener("resume",nt,!1),cs()&&document.addEventListener("visibilitychange",ce,!1),F=()=>{m.removePassiveListener(ke),document.removeEventListener("resume",nt,!1),document.removeEventListener("visibilitychange",ce,!1),xe&&window.clearTimeout(xe)}})}finally{F()}})).apply(this,arguments)}function Ym(E){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,u.Z)(function*(E){const m=AC(E),_=yield crypto.subtle.digest("SHA-256",m);return Array.from(new Uint8Array(_)).map(F=>F.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function AC(E){if(pe(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(E);const m=new ArrayBuffer(E.length),_=new Uint8Array(m);for(let x=0;x<E.length;x++)_[x]=E.charCodeAt(x);return _}E="Browser",(0,de._registerComponent)(new oe.wA("auth",(m,{options:_})=>{const x=m.getProvider("app").getImmediate(),{apiKey:F,authDomain:L}=x.options;return(te=>{Q(F&&!F.includes(":"),"invalid-api-key",{appName:te.name}),Q(!(null==L?void 0:L.includes(":")),"argument-error",{appName:te.name});const xe={apiKey:F,authDomain:L,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xt(E)},ke=new At(te,xe);return function(E,m){const _=(null==m?void 0:m.persistence)||[],x=(Array.isArray(_)?_:[_]).map(Ae);(null==m?void 0:m.errorMap)&&E._updateErrorMap(m.errorMap),E._initializeWithPersistence(x,null==m?void 0:m.popupRedirectResolver)}(ke,_),ke})(x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,x)=>{m.getProvider("auth-internal").initialize()})),(0,de._registerComponent)(new oe.wA("auth-internal",m=>{const _=hn(m.getProvider("auth").getImmediate());return new _g(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,de.registerVersion)("@firebase/auth","0.17.2",void 0);class vg extends lh{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(m=>{this.resolveInialized=m})}addPassiveListener(m){this.passiveListeners.add(m)}removePassiveListener(m){this.passiveListeners.delete(m)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(m){return this.resolveInialized(),this.passiveListeners.forEach(_=>_(m)),super.onEvent(m)}initialized(){var m=this;return(0,u.Z)(function*(){yield m.initPromise})()}}function Iu(E){return mh.apply(this,arguments)}function mh(){return(mh=(0,u.Z)(function*(E){const m=yield Zm()._get(wg(E));return m&&(yield Zm()._remove(wg(E))),m})).apply(this,arguments)}function nv(){const E=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let _=0;_<20;_++){const x=Math.floor(Math.random()*m.length);E.push(m.charAt(x))}return E.join("")}function Zm(){return Ae(hu)}function wg(E){return Bn("authEvent",E.config.apiKey,E.name)}function Ea(E){if(!(null==E?void 0:E.includes("?")))return{};const[m,..._]=E.split("?");return(0,z.zd)(_.join("?"))}function ac(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:mt("no-auth-event")}}function Ca(){var E;return(null===(E=null==self?void 0:self.location)||void 0===E?void 0:E.protocol)||null}function lc(E=(0,z.z$)()){return!("file:"!==Ca()&&"ionic:"!==Ca()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Du(){try{const E=self.localStorage,m=S();if(E)return E.setItem(m,"1"),E.removeItem(m),!function(E=(0,z.z$)()){return(0,z.w1)()&&11===(null==document?void 0:document.documentMode)||function(E=(0,z.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,z.hl)()}catch(E){return Su()&&(0,z.hl)()}return!1}function Su(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function vh(){return("http:"===Ca()||"https:"===Ca()||(0,z.ru)()||lc())&&!((0,z.b$)()||(0,z.UG)())&&Du()&&!Su()}function Xm(){return lc()&&"undefined"!=typeof document}function Tu(){return(Tu=(0,u.Z)(function*(){return!!Xm()&&new Promise(E=>{const m=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(m),E(!0)})})})).apply(this,arguments)}const Fr={LOCAL:"local",NONE:"none",SESSION:"session"},Mu=Q,eA="persistence";function _i(E){return ku.apply(this,arguments)}function ku(){return(ku=(0,u.Z)(function*(E){yield E._initializationPromise;const m=xg(),_=Bn(eA,E.config.apiKey,E.name);(null==m?void 0:m.sessionStorage)&&m.sessionStorage.setItem(_,E._getPersistence())})).apply(this,arguments)}function xg(){return"undefined"!=typeof window?window:null}const qi=Q;class fr{constructor(){this.browserResolver=Ae(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ms,this._completeRedirectFn=kr}_openPopup(m,_,x,F){var L=this;return(0,u.Z)(function*(){var te;pe(null===(te=L.eventManagers[m._key()])||void 0===te?void 0:te.manager,"_initialize() not called before _openPopup()");const xe=nc(m,_,x,He(),F);return function(E,m,_,x=500,F=600){const L=Math.max((window.screen.availHeight-F)/2,0).toString(),te=Math.max((window.screen.availWidth-x)/2,0).toString();let xe="";const ke=Object.assign(Object.assign({},Hm),{width:x.toString(),height:F.toString(),top:L,left:te}),nt=(0,z.z$)().toLowerCase();_&&(xe=jc(nt)?"_blank":_),Ko(nt)&&(m=m||"http://localhost",ke.scrollbars="yes");const ce=Object.entries(ke).reduce((st,[ns,As])=>`${st}${ns}=${As},`,"");if(function(E=(0,z.z$)()){var m;return mi(E)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(nt)&&"_self"!==xe)return function(E,m){const _=document.createElement("a");_.href=E,_.target=m;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(x)}(m||"",xe),new Eu(null);const dt=window.open(m||"",xe,ce);Q(dt,E,"popup-blocked");try{dt.focus()}catch(st){}return new Eu(dt)}(m,xe,S())})()}_openRedirect(m,_,x,F){var L=this;return(0,u.Z)(function*(){return yield L._originValidation(m),E=nc(m,_,x,He(),F),G().location.href=E,new Promise(()=>{});var E})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:F,promise:L}=this.eventManagers[_];return F?Promise.resolve(F):(pe(L,"If manager is not set, promise should be"),L)}const x=this.initAndGetManager(m);return this.eventManagers[_]={promise:x},x}initAndGetManager(m){var _=this;return(0,u.Z)(function*(){const x=yield function(E){return hh.apply(this,arguments)}(m),F=new lh(m);return x.register("authEvent",L=>(Q(null==L?void 0:L.authEvent,m,"invalid-auth-event"),{status:F.onEvent(L.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:F},_.iframes[m._key()]=x,F})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(eo,{type:eo},F=>{var L;const te=null===(L=null==F?void 0:F[0])||void 0===L?void 0:L[eo];void 0!==te&&_(!!te),Qe(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(E){return $s.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return ze()||Jo()||mi()}}),this.cordovaResolver=Ae(class{constructor(){this._redirectPersistence=ms,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=kr}_initialize(m){var _=this;return(0,u.Z)(function*(){const x=m._key();let F=_.eventManagers.get(x);return F||(F=new vg(m),_.eventManagers.set(x,F),_.attachCallbackListeners(m,F)),F})()}_openPopup(m){Qe(m,"operation-not-supported-in-this-environment")}_openRedirect(m,_,x,F){var L=this;return(0,u.Z)(function*(){!function(E){var m,_,x,F,L,te,xe,ke,nt,ce;const dt=ba();Q("function"==typeof(null===(m=null==dt?void 0:dt.universalLinks)||void 0===m?void 0:m.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Q(void 0!==(null===(_=null==dt?void 0:dt.BuildInfo)||void 0===_?void 0:_.packageName),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Q("function"==typeof(null===(L=null===(F=null===(x=null==dt?void 0:dt.cordova)||void 0===x?void 0:x.plugins)||void 0===F?void 0:F.browsertab)||void 0===L?void 0:L.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(ke=null===(xe=null===(te=null==dt?void 0:dt.cordova)||void 0===te?void 0:te.plugins)||void 0===xe?void 0:xe.browsertab)||void 0===ke?void 0:ke.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Q("function"==typeof(null===(ce=null===(nt=null==dt?void 0:dt.cordova)||void 0===nt?void 0:nt.InAppBrowser)||void 0===ce?void 0:ce.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(m);const te=yield L._initialize(m);yield te.initialized(),te.resetRedirect(),hr.clear(),yield L._originValidation(m);const xe=function(E,m,_=null){return{type:m,eventId:_,urlResponse:null,sessionId:nv(),postBody:null,tenantId:E.tenantId,error:mt(E,"no-auth-event")}}(m,x,F);yield function(E,m){return Zm()._set(wg(E),m)}(m,xe);const ke=yield function(E,m,_){return sc.apply(this,arguments)}(m,xe,_),nt=yield function(E){const{cordova:m}=ba();return new Promise(_=>{m.plugins.browsertab.isAvailable(x=>{let F=null;x?m.plugins.browsertab.openUrl(E):F=m.InAppBrowser.open(E,function(E=(0,z.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),_(F)})})}(ke);return function(E,m,_){return qm.apply(this,arguments)}(m,te,nt)})()}_isIframeWebStorageSupported(m,_){throw new Error("Method not implemented.")}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function(E){return zm.apply(this,arguments)}(m)),this.originValidationPromises[_]}attachCallbackListeners(m,_){const{universalLinks:x,handleOpenURL:F,BuildInfo:L}=ba(),te=setTimeout((0,u.Z)(function*(){yield Iu(m),_.onEvent(ac())}),500),xe=function(){var ce=(0,u.Z)(function*(dt){clearTimeout(te);const st=yield Iu(m);let ns=null;st&&(null==dt?void 0:dt.url)&&(ns=function(E,m){var _,x;const F=function(E){const m=Ea(E),_=m.link?decodeURIComponent(m.link):void 0,x=Ea(_).link,F=m.deep_link_id?decodeURIComponent(m.deep_link_id):void 0;return Ea(F).link||F||x||_||E}(m);if(F.includes("/__/auth/callback")){const L=Ea(F),te=L.firebaseError?function(E){try{return JSON.parse(E)}catch(m){return null}}(decodeURIComponent(L.firebaseError)):null,xe=null===(x=null===(_=null==te?void 0:te.code)||void 0===_?void 0:_.split("auth/"))||void 0===x?void 0:x[1],ke=xe?mt(xe):null;return ke?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:ke,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:F,postBody:null}}return null}(st,dt.url)),_.onEvent(ns||ac())});return function(st){return ce.apply(this,arguments)}}();void 0!==x&&"function"==typeof x.subscribe&&x.subscribe(null,xe);const ke=F,nt=`${L.packageName.toLowerCase()}://`;ba().handleOpenURL=function(){var ce=(0,u.Z)(function*(dt){if(dt.toLowerCase().startsWith(nt)&&xe({url:dt}),"function"==typeof ke)try{ke(dt)}catch(st){console.error(st)}});return function(dt){return ce.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ms,this._completeRedirectFn=kr}_initialize(m){var _=this;return(0,u.Z)(function*(){return yield _.selectUnderlyingResolver(),_.assertedUnderlyingResolver._initialize(m)})()}_openPopup(m,_,x,F){var L=this;return(0,u.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openPopup(m,_,x,F)})()}_openRedirect(m,_,x,F){var L=this;return(0,u.Z)(function*(){return yield L.selectUnderlyingResolver(),L.assertedUnderlyingResolver._openRedirect(m,_,x,F)})()}_isIframeWebStorageSupported(m,_){this.assertedUnderlyingResolver._isIframeWebStorageSupported(m,_)}_originValidation(m){return this.assertedUnderlyingResolver._originValidation(m)}get _shouldInitProactively(){return Xm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return qi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var m=this;return(0,u.Z)(function*(){if(m.underlyingResolver)return;const _=yield function(){return Tu.apply(this,arguments)}();m.underlyingResolver=_?m.cordovaResolver:m.browserResolver})()}}function Fu(E){return E.unwrap()}function tA(E){return Ig(E)}function nA(E,m){var _;const x=null===(_=m.customData)||void 0===_?void 0:_._tokenResponse;if("auth/multi-factor-auth-required"===m.code)m.resolver=new vC(E,function(E,m){var _;const x=(0,z.m9)(E),F=m;return Q(m.operationType,x,"argument-error"),Q(null===(_=F.serverResponse)||void 0===_?void 0:_.mfaPendingCredential,x,"argument-error"),ha._fromError(x,F)}(E,m));else if(x){const F=Ig(m),L=m;F&&(L.credential=F,L.tenantId=x.tenantId||void 0,L.email=x.email||void 0,L.phoneNumber=x.phoneNumber||void 0)}}function Ig(E){const{_tokenResponse:m}=E instanceof z.ZR?E.customData:E;if(!m)return null;if(!(E instanceof z.ZR)&&"temporaryProof"in m&&"phoneNumber"in m)return nl.credentialFromResult(E);const _=m.providerId;if(!_||"password"===_)return null;let x;switch(_){case"google.com":x=Ws;break;case"facebook.com":x=Wc;break;case"github.com":x=Zc;break;case"twitter.com":x=Kc;break;default:const{oauthIdToken:F,oauthAccessToken:L,oauthTokenSecret:te,pendingToken:xe,nonce:ke}=m;return L||te||F||xe?xe?_.startsWith("saml.")?xs._create(_,xe):us._fromParams({providerId:_,signInMethod:_,pendingToken:xe,idToken:F,accessToken:L}):new Ao(_).credential({idToken:F,accessToken:L,rawNonce:ke}):null}return E instanceof z.ZR?x.credentialFromError(E):x.credentialFromResult(E)}function gr(E,m){return wh.apply(this,arguments)}function wh(){return(wh=(0,u.Z)(function*(E,m){let _;try{_=yield m}catch(L){throw L instanceof z.ZR&&nA(E,L),L}const{operationType:x,user:F}=_;return{operationType:x,credential:tA(_),additionalUserInfo:tg(_),user:xa.getOrCreate(F)}})).apply(this,arguments)}function bh(E,m){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,u.Z)(function*(E,m){const _=yield m;return{verificationId:_.verificationId,confirm:x=>gr(E,_.confirm(x))}})).apply(this,arguments)}class vC{constructor(m,_){this.resolver=_,this.auth=function(E){return E.wrapped()}(m)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(m){return gr(Fu(this.auth),this.resolver.resolveSignIn(m))}}class xa{constructor(m){this._delegate=m,this.multiFactor=function(E){const m=(0,z.m9)(E);return ps.has(m)||ps.set(m,cu._fromUser(m)),ps.get(m)}(m)}static getOrCreate(m){return xa.USER_MAP.has(m)||xa.USER_MAP.set(m,new xa(m)),xa.USER_MAP.get(m)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(m){return this._delegate.getIdTokenResult(m)}getIdToken(m){return this._delegate.getIdToken(m)}linkAndRetrieveDataWithCredential(m){return this.linkWithCredential(m)}linkWithCredential(m){var _=this;return(0,u.Z)(function*(){return gr(_.auth,Pl(_._delegate,m))})()}linkWithPhoneNumber(m,_){var x=this;return(0,u.Z)(function*(){return bh(x.auth,function(E,m,_){return pu.apply(this,arguments)}(x._delegate,m,_))})()}linkWithPopup(m){var _=this;return(0,u.Z)(function*(){return gr(_.auth,function(E,m,_){return Au.apply(this,arguments)}(_._delegate,m,fr))})()}linkWithRedirect(m){var _=this;return(0,u.Z)(function*(){return yield _i(hn(_.auth)),function(E,m,_){return function(E,m,_){return oh.apply(this,arguments)}(E,m,_)}(_._delegate,m,fr)})()}reauthenticateAndRetrieveDataWithCredential(m){return this.reauthenticateWithCredential(m)}reauthenticateWithCredential(m){var _=this;return(0,u.Z)(function*(){return gr(_.auth,ji(_._delegate,m))})()}reauthenticateWithPhoneNumber(m,_){return bh(this.auth,function(E,m,_){return ma.apply(this,arguments)}(this._delegate,m,_))}reauthenticateWithPopup(m){return gr(this.auth,function(E,m,_){return cg.apply(this,arguments)}(this._delegate,m,fr))}reauthenticateWithRedirect(m){var _=this;return(0,u.Z)(function*(){return yield _i(hn(_.auth)),function(E,m,_){return function(E,m,_){return Js.apply(this,arguments)}(E,m,_)}(_._delegate,m,fr)})()}sendEmailVerification(m){return function(E,m){return lr.apply(this,arguments)}(this._delegate,m)}unlink(m){var _=this;return(0,u.Z)(function*(){return yield function(E,m){return $c.apply(this,arguments)}(_._delegate,m),_})()}updateEmail(m){return function(E,m){return Wa((0,z.m9)(E),m,null)}(this._delegate,m)}updatePassword(m){return function(E,m){return Wa((0,z.m9)(E),null,m)}(this._delegate,m)}updatePhoneNumber(m){return function(E,m){return Zn.apply(this,arguments)}(this._delegate,m)}updateProfile(m){return function(E,m){return qa.apply(this,arguments)}(this._delegate,m)}verifyBeforeUpdateEmail(m,_){return function(E,m,_){return ua.apply(this,arguments)}(this._delegate,m,_)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xa.USER_MAP=new WeakMap;const Ou=Q;let Nu=(()=>{class E{constructor(_,x){if(this.app=_,x.isInitialized())return this._delegate=x.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:F}=_.options;Ou(F,"invalid-api-key",{appName:_.name});let L=[Ln];if("undefined"!=typeof window){L=function(E,m){const _=xg();if(!(null==_?void 0:_.sessionStorage))return[];const x=Bn(eA,E,m);switch(_.sessionStorage.getItem(x)){case Fr.NONE:return[Ln];case Fr.LOCAL:return[Wn,ms];case Fr.SESSION:return[ms];default:return[]}}(F,_.name);for(const xe of[Wn,hu,ms])L.includes(xe)||L.push(xe)}Ou(F,"invalid-api-key",{appName:_.name});const te="undefined"!=typeof window?fr:void 0;this._delegate=x.initialize({options:{persistence:L,popupRedirectResolver:te}}),this._delegate._updateErrorMap(Ne),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(_){this._delegate.languageCode=_}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(_){this._delegate.tenantId=_}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(_,x){!function(E,m,_){const x=hn(E);Q(x._canInitEmulator,x,"emulator-config-failed"),Q(/^https?:\/\//.test(m),x,"invalid-emulator-scheme");const F=!!(null==_?void 0:_.disableWarnings),L=wn(m),{host:te,port:xe}=function(E){const m=wn(E),_=/(\/\/)?([^?#/]+)/.exec(E.substr(m.length));if(!_)return{host:"",port:null};const x=_[2].split("@").pop()||"",F=/^(\[[^\]]+\])(:|$)/.exec(x);if(F){const L=F[1];return{host:L,port:mo(x.substr(L.length+1))}}{const[L,te]=x.split(":");return{host:L,port:mo(te)}}}(m);x.config.emulator={url:`${L}//${te}${null===xe?"":`:${xe}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:te,port:xe,protocol:L.replace(":",""),options:Object.freeze({disableWarnings:F})}),function(E){function m(){const _=document.createElement("p"),x=_.style;_.innerText="Running in emulator mode. Do not use with production credentials.",x.position="fixed",x.width="100%",x.backgroundColor="#ffffff",x.border=".1em solid #000000",x.color="#b50000",x.bottom="0px",x.left="0px",x.margin="0px",x.zIndex="10000",x.textAlign="center",_.classList.add("firebase-emulator-warning"),document.body.appendChild(_)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!E&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}(F)}(this._delegate,_,x)}applyActionCode(_){return function(E,m){return _o.apply(this,arguments)}(this._delegate,_)}checkActionCode(_){return Fe(this._delegate,_)}confirmPasswordReset(_,x){return function(E,m,_){return nu.apply(this,arguments)}(this._delegate,_,x)}createUserWithEmailAndPassword(_,x){var F=this;return(0,u.Z)(function*(){return gr(F._delegate,function(E,m,_){return gs.apply(this,arguments)}(F._delegate,_,x))})()}fetchProvidersForEmail(_){return this.fetchSignInMethodsForEmail(_)}fetchSignInMethodsForEmail(_){return function(E,m){return ru.apply(this,arguments)}(this._delegate,_)}isSignInWithEmailLink(_){return function(E,m){const _=Rl.parseLink(m);return"EMAIL_SIGNIN"===(null==_?void 0:_.operation)}(0,_)}getRedirectResult(){var _=this;return(0,u.Z)(function*(){Ou(vh(),_._delegate,"operation-not-supported-in-this-environment");const x=yield function(E,m){return zi.apply(this,arguments)}(_._delegate,fr);return x?gr(_._delegate,Promise.resolve(x)):{credential:null,user:null}})()}addFrameworkForLogging(_){!function(E,m){hn(E)._logFramework(m)}(this._delegate,_)}onAuthStateChanged(_,x,F){const{next:L,error:te,complete:xe}=Dg(_,x,F);return this._delegate.onAuthStateChanged(L,te,xe)}onIdTokenChanged(_,x,F){const{next:L,error:te,complete:xe}=Dg(_,x,F);return this._delegate.onIdTokenChanged(L,te,xe)}sendSignInLinkToEmail(_,x){return function(E,m,_){return la.apply(this,arguments)}(this._delegate,_,x)}sendPasswordResetEmail(_,x){return function(E,m,_){return tu.apply(this,arguments)}(this._delegate,_,x||void 0)}setPersistence(_){var x=this;return(0,u.Z)(function*(){let F;switch(function(E,m){Mu(Object.values(Fr).includes(m),E,"invalid-persistence-type"),(0,z.b$)()?Mu(m!==Fr.SESSION,E,"unsupported-persistence-type"):(0,z.UG)()?Mu(m===Fr.NONE,E,"unsupported-persistence-type"):Su()?Mu(m===Fr.NONE||m===Fr.LOCAL&&(0,z.hl)(),E,"unsupported-persistence-type"):Mu(m===Fr.NONE||Du(),E,"unsupported-persistence-type")}(x._delegate,_),_){case Fr.SESSION:F=ms;break;case Fr.LOCAL:F=(yield Ae(Wn)._isAvailable())?Wn:hu;break;case Fr.NONE:F=Ln;break;default:return Qe("argument-error",{appName:x._delegate.name})}return x._delegate.setPersistence(F)})()}signInAndRetrieveDataWithCredential(_){return this.signInWithCredential(_)}signInAnonymously(){return gr(this._delegate,function(E){return Jc.apply(this,arguments)}(this._delegate))}signInWithCredential(_){return gr(this._delegate,yi(this._delegate,_))}signInWithCustomToken(_){return gr(this._delegate,function(E,m){return Ll.apply(this,arguments)}(this._delegate,_))}signInWithEmailAndPassword(_,x){return gr(this._delegate,function(E,m,_){return yi((0,z.m9)(E),kl.credential(m,_))}(this._delegate,_,x))}signInWithEmailLink(_,x){return gr(this._delegate,function(E,m,_){return ca.apply(this,arguments)}(this._delegate,_,x))}signInWithPhoneNumber(_,x){return bh(this._delegate,function(E,m,_){return Nm.apply(this,arguments)}(this._delegate,_,x))}signInWithPopup(_){var x=this;return(0,u.Z)(function*(){return Ou(vh(),x._delegate,"operation-not-supported-in-this-environment"),gr(x._delegate,function(E,m,_){return $d.apply(this,arguments)}(x._delegate,_,fr))})()}signInWithRedirect(_){var x=this;return(0,u.Z)(function*(){return Ou(vh(),x._delegate,"operation-not-supported-in-this-environment"),yield _i(x._delegate),function(E,m,_){return function(E,m,_){return hg.apply(this,arguments)}(E,m,_)}(x._delegate,_,fr)})()}updateCurrentUser(_){return this._delegate.updateCurrentUser(_)}verifyPasswordResetCode(_){return function(E,m){return an.apply(this,arguments)}(this._delegate,_)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=Fr,E})();function Dg(E,m,_){let x=E;"function"!=typeof E&&({next:x,error:m,complete:_}=E);const F=x;return{next:te=>F(te&&xa.getOrCreate(te)),error:m,complete:_}}class Ch{constructor(){this.providerId="phone",this._delegate=new nl(Fu(ae.Z.auth()))}static credential(m,_){return nl.credential(m,_)}verifyPhoneNumber(m,_){return this._delegate.verifyPhoneNumber(m,_)}unwrap(){return this._delegate}}Ch.PHONE_SIGN_IN_METHOD=nl.PHONE_SIGN_IN_METHOD,Ch.PROVIDER_ID=nl.PROVIDER_ID;const wC=Q;class iA{constructor(m,_,x=ae.Z.app()){var F;wC(null===(F=x.options)||void 0===F?void 0:F.apiKey,"invalid-api-key",{appName:x.name}),this._delegate=new ag(m,_,x.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(E){E.INTERNAL.registerComponent(new oe.wA("auth-compat",m=>{const _=m.getProvider("app-compat").getImmediate(),x=m.getProvider("auth");return new Nu(_,x)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:kl,FacebookAuthProvider:Wc,GithubAuthProvider:Zc,GoogleAuthProvider:Ws,OAuthProvider:Ao,PhoneAuthProvider:Ch,PhoneMultiFactorGenerator:Ag,RecaptchaVerifier:iA,TwitterAuthProvider:Kc,Auth:Nu,AuthCredential:Ai,Error:z.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.1.2")}(ae.Z)},3098:(We,Ee,V)=>{"use strict";V.d(Ee,{P:()=>_e});var u=V(9193),ae=V(5917),z=V(205);class _e{constructor(oe,re,X){this.kind=oe,this.value=re,this.error=X,this.hasValue="N"===oe}observe(oe){switch(this.kind){case"N":return oe.next&&oe.next(this.value);case"E":return oe.error&&oe.error(this.error);case"C":return oe.complete&&oe.complete()}}do(oe,re,X){switch(this.kind){case"N":return oe&&oe(this.value);case"E":return re&&re(this.error);case"C":return X&&X()}}accept(oe,re,X){return oe&&"function"==typeof oe.next?this.observe(oe):this.do(oe,re,X)}toObservable(){switch(this.kind){case"N":return(0,ae.of)(this.value);case"E":return(0,z._)(this.error);case"C":return(0,u.c)()}throw new Error("unexpected notification kind value")}static createNext(oe){return void 0!==oe?new _e("N",oe):_e.undefinedValueNotification}static createError(oe){return new _e("E",void 0,oe)}static createComplete(){return _e.completeNotification}}_e.completeNotification=new _e("C"),_e.undefinedValueNotification=new _e("N",void 0)},8891:(We,Ee,V)=>{"use strict";V.d(Ee,{y:()=>X});var u=V(7393),z=V(9181),de=V(6490),ie=V(6554),oe=V(4022),re=V(2494);let X=(()=>{class ne{constructor(J){this._isScalar=!1,J&&(this._subscribe=J)}lift(J){const ue=new ne;return ue.source=this,ue.operator=J,ue}subscribe(J,ue,Ne){const{operator:De}=this,Te=function(ne,j,J){if(ne){if(ne instanceof u.L)return ne;if(ne[z.b])return ne[z.b]()}return ne||j||J?new u.L(ne,j,J):new u.L(de.c)}(J,ue,Ne);if(Te.add(De?De.call(Te,this.source):this.source||re.v.useDeprecatedSynchronousErrorHandling&&!Te.syncErrorThrowable?this._subscribe(Te):this._trySubscribe(Te)),re.v.useDeprecatedSynchronousErrorHandling&&Te.syncErrorThrowable&&(Te.syncErrorThrowable=!1,Te.syncErrorThrown))throw Te.syncErrorValue;return Te}_trySubscribe(J){try{return this._subscribe(J)}catch(ue){re.v.useDeprecatedSynchronousErrorHandling&&(J.syncErrorThrown=!0,J.syncErrorValue=ue),function(ne){for(;ne;){const{closed:j,destination:J,isStopped:ue}=ne;if(j||ue)return!1;ne=J&&J instanceof u.L?J:null}return!0}(J)?J.error(ue):console.warn(ue)}}forEach(J,ue){return new(ue=H(ue))((Ne,De)=>{let Te;Te=this.subscribe(Ce=>{try{J(Ce)}catch(Se){De(Se),Te&&Te.unsubscribe()}},De,Ne)})}_subscribe(J){const{source:ue}=this;return ue&&ue.subscribe(J)}[ie.L](){return this}pipe(...J){return 0===J.length?this:(0,oe.U)(J)(this)}toPromise(J){return new(J=H(J))((ue,Ne)=>{let De;this.subscribe(Te=>De=Te,Te=>Ne(Te),()=>ue(De))})}}return ne.create=j=>new ne(j),ne})();function H(ne){if(ne||(ne=re.v.Promise||Promise),!ne)throw new Error("no Promise impl found");return ne}},6490:(We,Ee,V)=>{"use strict";V.d(Ee,{c:()=>z});var u=V(2494),ae=V(4449);const z={closed:!0,next(de){},error(de){if(u.v.useDeprecatedSynchronousErrorHandling)throw de;(0,ae.z)(de)},complete(){}}},9765:(We,Ee,V)=>{"use strict";V.d(Ee,{Yc:()=>oe,xQ:()=>re});var u=V(8891),ae=V(7393),z=V(5319),de=V(7971),_e=V(8858),ie=V(9181);class oe extends ae.L{constructor(ne){super(ne),this.destination=ne}}let re=(()=>{class H extends u.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new oe(this)}lift(j){const J=new X(this,this);return J.operator=j,J}next(j){if(this.closed)throw new de.N;if(!this.isStopped){const{observers:J}=this,ue=J.length,Ne=J.slice();for(let De=0;De<ue;De++)Ne[De].next(j)}}error(j){if(this.closed)throw new de.N;this.hasError=!0,this.thrownError=j,this.isStopped=!0;const{observers:J}=this,ue=J.length,Ne=J.slice();for(let De=0;De<ue;De++)Ne[De].error(j);this.observers.length=0}complete(){if(this.closed)throw new de.N;this.isStopped=!0;const{observers:j}=this,J=j.length,ue=j.slice();for(let Ne=0;Ne<J;Ne++)ue[Ne].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(j){if(this.closed)throw new de.N;return super._trySubscribe(j)}_subscribe(j){if(this.closed)throw new de.N;return this.hasError?(j.error(this.thrownError),z.w.EMPTY):this.isStopped?(j.complete(),z.w.EMPTY):(this.observers.push(j),new _e.W(this,j))}asObservable(){const j=new u.y;return j.source=this,j}}return H.create=(ne,j)=>new X(ne,j),H})();class X extends re{constructor(ne,j){super(),this.destination=ne,this.source=j}next(ne){const{destination:j}=this;j&&j.next&&j.next(ne)}error(ne){const{destination:j}=this;j&&j.error&&this.destination.error(ne)}complete(){const{destination:ne}=this;ne&&ne.complete&&this.destination.complete()}_subscribe(ne){const{source:j}=this;return j?this.source.subscribe(ne):z.w.EMPTY}}},8858:(We,Ee,V)=>{"use strict";V.d(Ee,{W:()=>ae});var u=V(5319);class ae extends u.w{constructor(de,_e){super(),this.subject=de,this.subscriber=_e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const de=this.subject,_e=de.observers;if(this.subject=null,!_e||0===_e.length||de.isStopped||de.closed)return;const ie=_e.indexOf(this.subscriber);-1!==ie&&_e.splice(ie,1)}}},7393:(We,Ee,V)=>{"use strict";V.d(Ee,{L:()=>oe});var u=V(9105),ae=V(6490),z=V(5319),de=V(9181),_e=V(2494),ie=V(4449);class oe extends z.w{constructor(H,ne,j){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=ae.c;break;case 1:if(!H){this.destination=ae.c;break}if("object"==typeof H){H instanceof oe?(this.syncErrorThrowable=H.syncErrorThrowable,this.destination=H,H.add(this)):(this.syncErrorThrowable=!0,this.destination=new re(this,H));break}default:this.syncErrorThrowable=!0,this.destination=new re(this,H,ne,j)}}[de.b](){return this}static create(H,ne,j){const J=new oe(H,ne,j);return J.syncErrorThrowable=!1,J}next(H){this.isStopped||this._next(H)}error(H){this.isStopped||(this.isStopped=!0,this._error(H))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(H){this.destination.next(H)}_error(H){this.destination.error(H),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:H}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=H,this}}class re extends oe{constructor(H,ne,j,J){super(),this._parentSubscriber=H;let ue,Ne=this;(0,u.m)(ne)?ue=ne:ne&&(ue=ne.next,j=ne.error,J=ne.complete,ne!==ae.c&&(Ne=Object.create(ne),(0,u.m)(Ne.unsubscribe)&&this.add(Ne.unsubscribe.bind(Ne)),Ne.unsubscribe=this.unsubscribe.bind(this))),this._context=Ne,this._next=ue,this._error=j,this._complete=J}next(H){if(!this.isStopped&&this._next){const{_parentSubscriber:ne}=this;_e.v.useDeprecatedSynchronousErrorHandling&&ne.syncErrorThrowable?this.__tryOrSetError(ne,this._next,H)&&this.unsubscribe():this.__tryOrUnsub(this._next,H)}}error(H){if(!this.isStopped){const{_parentSubscriber:ne}=this,{useDeprecatedSynchronousErrorHandling:j}=_e.v;if(this._error)j&&ne.syncErrorThrowable?(this.__tryOrSetError(ne,this._error,H),this.unsubscribe()):(this.__tryOrUnsub(this._error,H),this.unsubscribe());else if(ne.syncErrorThrowable)j?(ne.syncErrorValue=H,ne.syncErrorThrown=!0):(0,ie.z)(H),this.unsubscribe();else{if(this.unsubscribe(),j)throw H;(0,ie.z)(H)}}}complete(){if(!this.isStopped){const{_parentSubscriber:H}=this;if(this._complete){const ne=()=>this._complete.call(this._context);_e.v.useDeprecatedSynchronousErrorHandling&&H.syncErrorThrowable?(this.__tryOrSetError(H,ne),this.unsubscribe()):(this.__tryOrUnsub(ne),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(H,ne){try{H.call(this._context,ne)}catch(j){if(this.unsubscribe(),_e.v.useDeprecatedSynchronousErrorHandling)throw j;(0,ie.z)(j)}}__tryOrSetError(H,ne,j){if(!_e.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{ne.call(this._context,j)}catch(J){return _e.v.useDeprecatedSynchronousErrorHandling?(H.syncErrorValue=J,H.syncErrorThrown=!0,!0):((0,ie.z)(J),!0)}return!1}_unsubscribe(){const{_parentSubscriber:H}=this;this._context=null,this._parentSubscriber=null,H.unsubscribe()}}},5319:(We,Ee,V)=>{"use strict";V.d(Ee,{w:()=>ie});var u=V(9796),ae=V(1555),z=V(9105);const _e=(()=>{function re(X){return Error.call(this),this.message=X?`${X.length} errors occurred during unsubscription:\n${X.map((H,ne)=>`${ne+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=X,this}return re.prototype=Object.create(Error.prototype),re})();class ie{constructor(X){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,X&&(this._ctorUnsubscribe=!0,this._unsubscribe=X)}unsubscribe(){let X;if(this.closed)return;let{_parentOrParents:H,_ctorUnsubscribe:ne,_unsubscribe:j,_subscriptions:J}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,H instanceof ie)H.remove(this);else if(null!==H)for(let ue=0;ue<H.length;++ue)H[ue].remove(this);if((0,z.m)(j)){ne&&(this._unsubscribe=void 0);try{j.call(this)}catch(ue){X=ue instanceof _e?oe(ue.errors):[ue]}}if((0,u.k)(J)){let ue=-1,Ne=J.length;for(;++ue<Ne;){const De=J[ue];if((0,ae.K)(De))try{De.unsubscribe()}catch(Te){X=X||[],Te instanceof _e?X=X.concat(oe(Te.errors)):X.push(Te)}}}if(X)throw new _e(X)}add(X){let H=X;if(!X)return ie.EMPTY;switch(typeof X){case"function":H=new ie(X);case"object":if(H===this||H.closed||"function"!=typeof H.unsubscribe)return H;if(this.closed)return H.unsubscribe(),H;if(!(H instanceof ie)){const J=H;H=new ie,H._subscriptions=[J]}break;default:throw new Error("unrecognized teardown "+X+" added to Subscription.")}let{_parentOrParents:ne}=H;if(null===ne)H._parentOrParents=this;else if(ne instanceof ie){if(ne===this)return H;H._parentOrParents=[ne,this]}else{if(-1!==ne.indexOf(this))return H;ne.push(this)}const j=this._subscriptions;return null===j?this._subscriptions=[H]:j.push(H),H}remove(X){const H=this._subscriptions;if(H){const ne=H.indexOf(X);-1!==ne&&H.splice(ne,1)}}}var re;function oe(re){return re.reduce((X,H)=>X.concat(H instanceof _e?H.errors:H),[])}ie.EMPTY=((re=new ie).closed=!0,re)},2494:(We,Ee,V)=>{"use strict";V.d(Ee,{v:()=>ae});let u=!1;const ae={Promise:void 0,set useDeprecatedSynchronousErrorHandling(z){if(z){const de=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+de.stack)}else u&&console.log("RxJS: Back to a better error behavior. Thank you. <3");u=z},get useDeprecatedSynchronousErrorHandling(){return u}}},5345:(We,Ee,V)=>{"use strict";V.d(Ee,{IY:()=>de,Ds:()=>ie,ft:()=>re});var u=V(7393),ae=V(8891),z=V(7444);class de extends u.L{constructor(H){super(),this.parent=H}_next(H){this.parent.notifyNext(H)}_error(H){this.parent.notifyError(H),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends u.L{notifyNext(H){this.destination.next(H)}notifyError(H){this.destination.error(H)}notifyComplete(){this.destination.complete()}}function re(X,H){if(H.closed)return;if(X instanceof ae.y)return X.subscribe(H);let ne;try{ne=(0,z.s)(X)(H)}catch(j){H.error(j)}return ne}},9193:(We,Ee,V)=>{"use strict";V.d(Ee,{E:()=>ae,c:()=>z});var u=V(8891);const ae=new u.y(_e=>_e.complete());function z(_e){return _e?function(_e){return new u.y(ie=>_e.schedule(()=>ie.complete()))}(_e):ae}},4402:(We,Ee,V)=>{"use strict";V.d(Ee,{D:()=>Ne});var u=V(8891),ae=V(7444),z=V(5319),de=V(6554),oe=V(4087),re=V(377),ne=V(4072),j=V(9489);function Ne(De,Te){return Te?function(De,Te){if(null!=De){if(function(De){return De&&"function"==typeof De[de.L]}(De))return function(De,Te){return new u.y(Ce=>{const Se=new z.w;return Se.add(Te.schedule(()=>{const Ye=De[de.L]();Se.add(Ye.subscribe({next(Qe){Se.add(Te.schedule(()=>Ce.next(Qe)))},error(Qe){Se.add(Te.schedule(()=>Ce.error(Qe)))},complete(){Se.add(Te.schedule(()=>Ce.complete()))}}))})),Se})}(De,Te);if((0,ne.t)(De))return function(De,Te){return new u.y(Ce=>{const Se=new z.w;return Se.add(Te.schedule(()=>De.then(Ye=>{Se.add(Te.schedule(()=>{Ce.next(Ye),Se.add(Te.schedule(()=>Ce.complete()))}))},Ye=>{Se.add(Te.schedule(()=>Ce.error(Ye)))}))),Se})}(De,Te);if((0,j.z)(De))return(0,oe.r)(De,Te);if(function(De){return De&&"function"==typeof De[re.hZ]}(De)||"string"==typeof De)return function(De,Te){if(!De)throw new Error("Iterable cannot be null");return new u.y(Ce=>{const Se=new z.w;let Ye;return Se.add(()=>{Ye&&"function"==typeof Ye.return&&Ye.return()}),Se.add(Te.schedule(()=>{Ye=De[re.hZ](),Se.add(Te.schedule(function(){if(Ce.closed)return;let Qe,mt;try{const Pt=Ye.next();Qe=Pt.value,mt=Pt.done}catch(Pt){return void Ce.error(Pt)}mt?Ce.complete():(Ce.next(Qe),this.schedule())}))})),Se})}(De,Te)}throw new TypeError((null!==De&&typeof De||De)+" is not observable")}(De,Te):De instanceof u.y?De:new u.y((0,ae.s)(De))}},6693:(We,Ee,V)=>{"use strict";V.d(Ee,{n:()=>de});var u=V(8891),ae=V(5015),z=V(4087);function de(_e,ie){return ie?(0,z.r)(_e,ie):new u.y((0,ae.V)(_e))}},6682:(We,Ee,V)=>{"use strict";V.d(Ee,{T:()=>_e});var u=V(8891),ae=V(4869),z=V(3282),de=V(6693);function _e(...ie){let oe=Number.POSITIVE_INFINITY,re=null,X=ie[ie.length-1];return(0,ae.K)(X)?(re=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(oe=ie.pop())):"number"==typeof X&&(oe=ie.pop()),null===re&&1===ie.length&&ie[0]instanceof u.y?ie[0]:(0,z.J)(oe)((0,de.n)(ie,re))}},5917:(We,Ee,V)=>{"use strict";V.d(Ee,{of:()=>de});var u=V(4869),ae=V(6693),z=V(4087);function de(..._e){let ie=_e[_e.length-1];return(0,u.K)(ie)?(_e.pop(),(0,z.r)(_e,ie)):(0,ae.n)(_e)}},205:(We,Ee,V)=>{"use strict";V.d(Ee,{_:()=>ae});var u=V(8891);function ae(de,_e){return new u.y(_e?ie=>_e.schedule(z,0,{error:de,subscriber:ie}):ie=>ie.error(de))}function z({error:de,subscriber:_e}){_e.error(de)}},8002:(We,Ee,V)=>{"use strict";V.d(Ee,{U:()=>ae});var u=V(7393);function ae(_e,ie){return function(re){if("function"!=typeof _e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return re.lift(new z(_e,ie))}}class z{constructor(ie,oe){this.project=ie,this.thisArg=oe}call(ie,oe){return oe.subscribe(new de(ie,this.project,this.thisArg))}}class de extends u.L{constructor(ie,oe,re){super(ie),this.project=oe,this.count=0,this.thisArg=re||this}_next(ie){let oe;try{oe=this.project.call(this.thisArg,ie,this.count++)}catch(re){return void this.destination.error(re)}this.destination.next(oe)}}},3282:(We,Ee,V)=>{"use strict";V.d(Ee,{J:()=>z});var u=V(9773),ae=V(4487);function z(de=Number.POSITIVE_INFINITY){return(0,u.zg)(ae.y,de)}},9773:(We,Ee,V)=>{"use strict";V.d(Ee,{zg:()=>de});var u=V(8002),ae=V(4402),z=V(5345);function de(re,X,H=Number.POSITIVE_INFINITY){return"function"==typeof X?ne=>ne.pipe(de((j,J)=>(0,ae.D)(re(j,J)).pipe((0,u.U)((ue,Ne)=>X(j,ue,J,Ne))),H)):("number"==typeof X&&(H=X),ne=>ne.lift(new _e(re,H)))}class _e{constructor(X,H=Number.POSITIVE_INFINITY){this.project=X,this.concurrent=H}call(X,H){return H.subscribe(new ie(X,this.project,this.concurrent))}}class ie extends z.Ds{constructor(X,H,ne=Number.POSITIVE_INFINITY){super(X),this.project=H,this.concurrent=ne,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(X){this.active<this.concurrent?this._tryNext(X):this.buffer.push(X)}_tryNext(X){let H;const ne=this.index++;try{H=this.project(X,ne)}catch(j){return void this.destination.error(j)}this.active++,this._innerSub(H)}_innerSub(X){const H=new z.IY(this),ne=this.destination;ne.add(H);const j=(0,z.ft)(X,H);j!==H&&ne.add(j)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(X){this.destination.next(X)}notifyComplete(){const X=this.buffer;this.active--,X.length>0?this._next(X.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6328:(We,Ee,V)=>{"use strict";V.d(Ee,{O:()=>H});var u=V(9765),ae=V(8891),z=V(5319),de=V(1307);class _e extends ae.y{constructor(J,ue){super(),this.source=J,this.subjectFactory=ue,this._refCount=0,this._isComplete=!1}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let J=this._connection;return J||(this._isComplete=!1,J=this._connection=new z.w,J.add(this.source.subscribe(new oe(this.getSubject(),this))),J.closed&&(this._connection=null,J=z.w.EMPTY)),J}refCount(){return(0,de.x)()(this)}}const ie=(()=>{const j=_e.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:j._subscribe},_isComplete:{value:j._isComplete,writable:!0},getSubject:{value:j.getSubject},connect:{value:j.connect},refCount:{value:j.refCount}}})();class oe extends u.Yc{constructor(J,ue){super(J),this.connectable=ue}_error(J){this._unsubscribe(),super._error(J)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const J=this.connectable;if(J){this.connectable=null;const ue=J._connection;J._refCount=0,J._subject=null,J._connection=null,ue&&ue.unsubscribe()}}}function H(j,J){return function(Ne){let De;if(De="function"==typeof j?j:function(){return j},"function"==typeof J)return Ne.lift(new ne(De,J));const Te=Object.create(Ne,ie);return Te.source=Ne,Te.subjectFactory=De,Te}}class ne{constructor(J,ue){this.subjectFactory=J,this.selector=ue}call(J,ue){const{selector:Ne}=this,De=this.subjectFactory(),Te=Ne(De).subscribe(J);return Te.add(ue.subscribe(De)),Te}}},9746:(We,Ee,V)=>{"use strict";V.d(Ee,{QV:()=>z,ht:()=>_e});var u=V(7393),ae=V(3098);function z(oe,re=0){return function(H){return H.lift(new de(oe,re))}}class de{constructor(re,X=0){this.scheduler=re,this.delay=X}call(re,X){return X.subscribe(new _e(re,this.scheduler,this.delay))}}class _e extends u.L{constructor(re,X,H=0){super(re),this.scheduler=X,this.delay=H}static dispatch(re){const{notification:X,destination:H}=re;X.observe(H),this.unsubscribe()}scheduleMessage(re){this.destination.add(this.scheduler.schedule(_e.dispatch,this.delay,new ie(re,this.destination)))}_next(re){this.scheduleMessage(ae.P.createNext(re))}_error(re){this.scheduleMessage(ae.P.createError(re)),this.unsubscribe()}_complete(){this.scheduleMessage(ae.P.createComplete()),this.unsubscribe()}}class ie{constructor(re,X){this.notification=re,this.destination=X}}},1307:(We,Ee,V)=>{"use strict";V.d(Ee,{x:()=>ae});var u=V(7393);function ae(){return function(ie){return ie.lift(new z(ie))}}class z{constructor(ie){this.connectable=ie}call(ie,oe){const{connectable:re}=this;re._refCount++;const X=new de(ie,re),H=oe.subscribe(X);return X.closed||(X.connection=re.connect()),H}}class de extends u.L{constructor(ie,oe){super(ie),this.connectable=oe}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const oe=ie._refCount;if(oe<=0)return void(this.connection=null);if(ie._refCount=oe-1,oe>1)return void(this.connection=null);const{connection:re}=this,X=ie._connection;this.connection=null,X&&(!re||X===re)&&X.unsubscribe()}}},8345:(We,Ee,V)=>{"use strict";V.d(Ee,{B:()=>_e});var u=V(6328),ae=V(1307),z=V(9765);function de(){return new z.xQ}function _e(){return ie=>(0,ae.x)()((0,u.O)(de)(ie))}},2639:(We,Ee,V)=>{"use strict";V.d(Ee,{R:()=>De});var u=V(8891);let ae=1;const z=Promise.resolve(),de={};function _e(Ce){return Ce in de&&(delete de[Ce],!0)}const ie={setImmediate(Ce){const Se=ae++;return de[Se]=!0,z.then(()=>_e(Se)&&Ce()),Se},clearImmediate(Ce){_e(Ce)}};var re=V(6465),H=V(6102);const J=new class extends H.v{flush(Se){this.active=!0,this.scheduled=void 0;const{actions:Ye}=this;let Qe,mt=-1,Pt=Ye.length;Se=Se||Ye.shift();do{if(Qe=Se.execute(Se.state,Se.delay))break}while(++mt<Pt&&(Se=Ye.shift()));if(this.active=!1,Qe){for(;++mt<Pt&&(Se=Ye.shift());)Se.unsubscribe();throw Qe}}}(class extends re.o{constructor(Se,Ye){super(Se,Ye),this.scheduler=Se,this.work=Ye}requestAsyncId(Se,Ye,Qe=0){return null!==Qe&&Qe>0?super.requestAsyncId(Se,Ye,Qe):(Se.actions.push(this),Se.scheduled||(Se.scheduled=ie.setImmediate(Se.flush.bind(Se,null))))}recycleAsyncId(Se,Ye,Qe=0){if(null!==Qe&&Qe>0||null===Qe&&this.delay>0)return super.recycleAsyncId(Se,Ye,Qe);0===Se.actions.length&&(ie.clearImmediate(Ye),Se.scheduled=void 0)}});var ue=V(6561);class Ne extends u.y{constructor(Se,Ye=0,Qe=J){super(),this.source=Se,this.delayTime=Ye,this.scheduler=Qe,(!(0,ue.k)(Ye)||Ye<0)&&(this.delayTime=0),(!Qe||"function"!=typeof Qe.schedule)&&(this.scheduler=J)}static create(Se,Ye=0,Qe=J){return new Ne(Se,Ye,Qe)}static dispatch(Se){const{source:Ye,subscriber:Qe}=Se;return this.add(Ye.subscribe(Qe))}_subscribe(Se){return this.scheduler.schedule(Ne.dispatch,this.delayTime,{source:this.source,subscriber:Se})}}function De(Ce,Se=0){return function(Qe){return Qe.lift(new Te(Ce,Se))}}class Te{constructor(Se,Ye){this.scheduler=Se,this.delay=Ye}call(Se,Ye){return new Ne(Ye,this.delay,this.scheduler).subscribe(Se)}}},3342:(We,Ee,V)=>{"use strict";V.d(Ee,{b:()=>de});var u=V(7393);function ae(){}var z=V(9105);function de(oe,re,X){return function(ne){return ne.lift(new _e(oe,re,X))}}class _e{constructor(re,X,H){this.nextOrObserver=re,this.error=X,this.complete=H}call(re,X){return X.subscribe(new ie(re,this.nextOrObserver,this.error,this.complete))}}class ie extends u.L{constructor(re,X,H,ne){super(re),this._tapNext=ae,this._tapError=ae,this._tapComplete=ae,this._tapError=H||ae,this._tapComplete=ne||ae,(0,z.m)(X)?(this._context=this,this._tapNext=X):X&&(this._context=X,this._tapNext=X.next||ae,this._tapError=X.error||ae,this._tapComplete=X.complete||ae)}_next(re){try{this._tapNext.call(this._context,re)}catch(X){return void this.destination.error(X)}this.destination.next(re)}_error(re){try{this._tapError.call(this._context,re)}catch(X){return void this.destination.error(X)}this.destination.error(re)}_complete(){try{this._tapComplete.call(this._context)}catch(re){return void this.destination.error(re)}return this.destination.complete()}}},4087:(We,Ee,V)=>{"use strict";V.d(Ee,{r:()=>z});var u=V(8891),ae=V(5319);function z(de,_e){return new u.y(ie=>{const oe=new ae.w;let re=0;return oe.add(_e.schedule(function(){re!==de.length?(ie.next(de[re++]),ie.closed||oe.add(this.schedule())):ie.complete()})),oe})}},6465:(We,Ee,V)=>{"use strict";V.d(Ee,{o:()=>z});var u=V(5319);class ae extends u.w{constructor(_e,ie){super()}schedule(_e,ie=0){return this}}class z extends ae{constructor(_e,ie){super(_e,ie),this.scheduler=_e,this.work=ie,this.pending=!1}schedule(_e,ie=0){if(this.closed)return this;this.state=_e;const oe=this.id,re=this.scheduler;return null!=oe&&(this.id=this.recycleAsyncId(re,oe,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(re,this.id,ie),this}requestAsyncId(_e,ie,oe=0){return setInterval(_e.flush.bind(_e,this),oe)}recycleAsyncId(_e,ie,oe=0){if(null!==oe&&this.delay===oe&&!1===this.pending)return ie;clearInterval(ie)}execute(_e,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const oe=this._execute(_e,ie);if(oe)return oe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(_e,ie){let re,oe=!1;try{this.work(_e)}catch(X){oe=!0,re=!!X&&X||new Error(X)}if(oe)return this.unsubscribe(),re}_unsubscribe(){const _e=this.id,ie=this.scheduler,oe=ie.actions,re=oe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==re&&oe.splice(re,1),null!=_e&&(this.id=this.recycleAsyncId(ie,_e,null)),this.delay=null}}},6102:(We,Ee,V)=>{"use strict";V.d(Ee,{v:()=>ae});let u=(()=>{class z{constructor(_e,ie=z.now){this.SchedulerAction=_e,this.now=ie}schedule(_e,ie=0,oe){return new this.SchedulerAction(this,_e).schedule(oe,ie)}}return z.now=()=>Date.now(),z})();class ae extends u{constructor(de,_e=u.now){super(de,()=>ae.delegate&&ae.delegate!==this?ae.delegate.now():_e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(de,_e=0,ie){return ae.delegate&&ae.delegate!==this?ae.delegate.schedule(de,_e,ie):super.schedule(de,_e,ie)}flush(de){const{actions:_e}=this;if(this.active)return void _e.push(de);let ie;this.active=!0;do{if(ie=de.execute(de.state,de.delay))break}while(de=_e.shift());if(this.active=!1,ie){for(;de=_e.shift();)de.unsubscribe();throw ie}}}},3637:(We,Ee,V)=>{"use strict";V.d(Ee,{z:()=>z,P:()=>de});var u=V(6465);const z=new(V(6102).v)(u.o),de=z},7771:(We,Ee,V)=>{"use strict";V.d(Ee,{c:()=>ie,N:()=>_e});var u=V(6465),z=V(6102);const _e=new class extends z.v{}(class extends u.o{constructor(re,X){super(re,X),this.scheduler=re,this.work=X}schedule(re,X=0){return X>0?super.schedule(re,X):(this.delay=X,this.state=re,this.scheduler.flush(this),this)}execute(re,X){return X>0||this.closed?super.execute(re,X):this._execute(re,X)}requestAsyncId(re,X,H=0){return null!==H&&H>0||null===H&&this.delay>0?super.requestAsyncId(re,X,H):re.flush(this)}}),ie=_e},377:(We,Ee,V)=>{"use strict";V.d(Ee,{hZ:()=>ae});const ae="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(We,Ee,V)=>{"use strict";V.d(Ee,{L:()=>u});const u="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(We,Ee,V)=>{"use strict";V.d(Ee,{b:()=>u});const u="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(We,Ee,V)=>{"use strict";V.d(Ee,{N:()=>ae});const ae=(()=>{function z(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return z.prototype=Object.create(Error.prototype),z})()},4449:(We,Ee,V)=>{"use strict";function u(ae){setTimeout(()=>{throw ae},0)}V.d(Ee,{z:()=>u})},4487:(We,Ee,V)=>{"use strict";function u(ae){return ae}V.d(Ee,{y:()=>u})},9796:(We,Ee,V)=>{"use strict";V.d(Ee,{k:()=>u});const u=Array.isArray||(ae=>ae&&"number"==typeof ae.length)},9489:(We,Ee,V)=>{"use strict";V.d(Ee,{z:()=>u});const u=ae=>ae&&"number"==typeof ae.length&&"function"!=typeof ae},9105:(We,Ee,V)=>{"use strict";function u(ae){return"function"==typeof ae}V.d(Ee,{m:()=>u})},6561:(We,Ee,V)=>{"use strict";V.d(Ee,{k:()=>ae});var u=V(9796);function ae(z){return!(0,u.k)(z)&&z-parseFloat(z)+1>=0}},1555:(We,Ee,V)=>{"use strict";function u(ae){return null!==ae&&"object"==typeof ae}V.d(Ee,{K:()=>u})},4072:(We,Ee,V)=>{"use strict";function u(ae){return!!ae&&"function"!=typeof ae.subscribe&&"function"==typeof ae.then}V.d(Ee,{t:()=>u})},4869:(We,Ee,V)=>{"use strict";function u(ae){return ae&&"function"==typeof ae.schedule}V.d(Ee,{K:()=>u})},4022:(We,Ee,V)=>{"use strict";V.d(Ee,{z:()=>ae,U:()=>z});var u=V(4487);function ae(...de){return z(de)}function z(de){return 0===de.length?u.y:1===de.length?de[0]:function(ie){return de.reduce((oe,re)=>re(oe),ie)}}},7444:(We,Ee,V)=>{"use strict";V.d(Ee,{s:()=>ne});var u=V(5015),ae=V(4449),de=V(377),ie=V(6554),re=V(9489),X=V(4072),H=V(1555);const ne=j=>{if(j&&"function"==typeof j[ie.L])return(j=>J=>{const ue=j[ie.L]();if("function"!=typeof ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ue.subscribe(J)})(j);if((0,re.z)(j))return(0,u.V)(j);if((0,X.t)(j))return(j=>J=>(j.then(ue=>{J.closed||(J.next(ue),J.complete())},ue=>J.error(ue)).then(null,ae.z),J))(j);if(j&&"function"==typeof j[de.hZ])return(j=>J=>{const ue=j[de.hZ]();for(;;){let Ne;try{Ne=ue.next()}catch(De){return J.error(De),J}if(Ne.done){J.complete();break}if(J.next(Ne.value),J.closed)break}return"function"==typeof ue.return&&J.add(()=>{ue.return&&ue.return()}),J})(j);{const ue=`You provided ${(0,H.K)(j)?"an invalid object":`'${j}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ue)}}},5015:(We,Ee,V)=>{"use strict";V.d(Ee,{V:()=>u});const u=ae=>z=>{for(let de=0,_e=ae.length;de<_e&&!z.closed;de++)z.next(ae[de]);z.complete()}},8259:function(We){We.exports=function(){"use strict";const Ee="SweetAlert2:",u=D=>D.charAt(0).toUpperCase()+D.slice(1),ae=D=>Array.prototype.slice.call(D),z=D=>{console.warn("".concat(Ee," ").concat("object"==typeof D?D.join(" "):D))},de=D=>{console.error("".concat(Ee," ").concat(D))},_e=[],oe=(D,S)=>{(D=>{_e.includes(D)||(_e.push(D),z(D))})('"'.concat(D,'" is deprecated and will be removed in the next major release. Please use "').concat(S,'" instead.'))},re=D=>"function"==typeof D?D():D,X=D=>D&&"function"==typeof D.toPromise,H=D=>X(D)?D.toPromise():Promise.resolve(D),ne=D=>D&&Promise.resolve(D)===D,J={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ue=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Ne={},De=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Te=D=>Object.prototype.hasOwnProperty.call(J,D),Ce=D=>-1!==ue.indexOf(D),Se=D=>Ne[D],Ye=D=>{Te(D)||z('Unknown parameter "'.concat(D,'"'))},Qe=D=>{De.includes(D)&&z('The parameter "'.concat(D,'" is incompatible with toasts'))},mt=D=>{Se(D)&&oe(D,Se(D))},on=D=>{const S={};for(const O in D)S[D[O]]="swal2-"+D[O];return S},Q=on(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","no-war"]),ye=on(["success","warning","info","question","error"]),pe=()=>document.body.querySelector(".".concat(Q.container)),Ie=D=>{const S=pe();return S?S.querySelector(D):null},Ae=D=>Ie(".".concat(D)),me=()=>Ae(Q.popup),le=()=>Ae(Q.icon),He=()=>Ae(Q.title),Xe=()=>Ae(Q["html-container"]),kt=()=>Ae(Q.image),gt=()=>Ae(Q["progress-steps"]),pt=()=>Ae(Q["validation-message"]),et=()=>Ie(".".concat(Q.actions," .").concat(Q.confirm)),Kt=()=>Ie(".".concat(Q.actions," .").concat(Q.deny)),ri=()=>Ie(".".concat(Q.loader)),zt=()=>Ie(".".concat(Q.actions," .").concat(Q.cancel)),dn=()=>Ae(Q.actions),Ut=()=>Ae(Q.footer),Nn=()=>Ae(Q["timer-progress-bar"]),qr=()=>Ae(Q.close),Ii=()=>{const D=ae(me().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((O,G)=>{const Re=parseInt(O.getAttribute("tabindex")),it=parseInt(G.getAttribute("tabindex"));return Re>it?1:Re<it?-1:0}),S=ae(me().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(O=>"-1"!==O.getAttribute("tabindex"));return(D=>{const S=[];for(let O=0;O<D.length;O++)-1===S.indexOf(D[O])&&S.push(D[O]);return S})(D.concat(S)).filter(O=>An(O))},ls=()=>Ke(document.body,Q.shown)&&!Ke(document.body,Q["toast-shown"])&&!Ke(document.body,Q["no-backdrop"]),Cr=()=>me()&&Ke(me(),Q.toast),rr={previousBodyPadding:null},mn=(D,S)=>{if(D.textContent="",S){const G=(new DOMParser).parseFromString(S,"text/html");ae(G.querySelector("head").childNodes).forEach(Re=>{D.appendChild(Re)}),ae(G.querySelector("body").childNodes).forEach(Re=>{D.appendChild(Re)})}},Ke=(D,S)=>{if(!S)return!1;const O=S.split(/\s+/);for(let G=0;G<O.length;G++)if(!D.classList.contains(O[G]))return!1;return!0},Pn=(D,S,O)=>{if(((D,S)=>{ae(D.classList).forEach(O=>{!Object.values(Q).includes(O)&&!Object.values(ye).includes(O)&&!Object.values(S.showClass).includes(O)&&D.classList.remove(O)})})(D,S),S.customClass&&S.customClass[O]){if("string"!=typeof S.customClass[O]&&!S.customClass[O].forEach)return z("Invalid type of customClass.".concat(O,'! Expected string or iterable object, got "').concat(typeof S.customClass[O],'"'));Je(D,S.customClass[O])}},pi=(D,S)=>{if(!S)return null;switch(S){case"select":case"textarea":case"file":return D.querySelector(".".concat(Q.popup," > .").concat(Q[S]));case"checkbox":return D.querySelector(".".concat(Q.popup," > .").concat(Q.checkbox," input"));case"radio":return D.querySelector(".".concat(Q.popup," > .").concat(Q.radio," input:checked"))||D.querySelector(".".concat(Q.popup," > .").concat(Q.radio," input:first-child"));case"range":return D.querySelector(".".concat(Q.popup," > .").concat(Q.range," input"));default:return D.querySelector(".".concat(Q.popup," > .").concat(Q.input))}},bt=D=>{if(D.focus(),"file"!==D.type){const S=D.value;D.value="",D.value=S}},ut=(D,S,O)=>{!D||!S||("string"==typeof S&&(S=S.split(/\s+/).filter(Boolean)),S.forEach(G=>{Array.isArray(D)?D.forEach(Re=>{O?Re.classList.add(G):Re.classList.remove(G)}):O?D.classList.add(G):D.classList.remove(G)}))},Je=(D,S)=>{ut(D,S,!0)},Dt=(D,S)=>{ut(D,S,!1)},vn=(D,S)=>{const O=ae(D.childNodes);for(let G=0;G<O.length;G++)if(Ke(O[G],S))return O[G]},jt=(D,S,O)=>{O==="".concat(parseInt(O))&&(O=parseInt(O)),O||0===parseInt(O)?D.style[S]="number"==typeof O?"".concat(O,"px"):O:D.style.removeProperty(S)},Ve=function(D){D.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},Ze=D=>{D.style.display="none"},xr=(D,S,O,G)=>{const Re=D.querySelector(S);Re&&(Re.style[O]=G)},Yr=(D,S,O)=>{S?Ve(D,O):Ze(D)},An=D=>!(!D||!(D.offsetWidth||D.offsetHeight||D.getClientRects().length)),sr=D=>D.scrollHeight>D.clientHeight,po=D=>{const S=window.getComputedStyle(D),O=parseFloat(S.getPropertyValue("animation-duration")||"0"),G=parseFloat(S.getPropertyValue("transition-duration")||"0");return O>0||G>0},Yt=function(D){let S=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const O=Nn();An(O)&&(S&&(O.style.transition="none",O.style.width="100%"),setTimeout(()=>{O.style.transition="width ".concat(D/1e3,"s linear"),O.style.width="0%"},10))},Y=()=>"undefined"==typeof window||"undefined"==typeof document,se={},je=D=>new Promise(S=>{if(!D)return S();const O=window.scrollX,G=window.scrollY;se.restoreFocusTimeout=setTimeout(()=>{se.previousActiveElement&&se.previousActiveElement.focus?(se.previousActiveElement.focus(),se.previousActiveElement=null):document.body&&document.body.focus(),S()},100),window.scrollTo(O,G)}),rt='\n <div aria-labelledby="'.concat(Q.title,'" aria-describedby="').concat(Q["html-container"],'" class="').concat(Q.popup,'" tabindex="-1">\n   <button type="button" class="').concat(Q.close,'"></button>\n   <ul class="').concat(Q["progress-steps"],'"></ul>\n   <div class="').concat(Q.icon,'"></div>\n   <img class="').concat(Q.image,'" />\n   <h2 class="').concat(Q.title,'" id="').concat(Q.title,'"></h2>\n   <div class="').concat(Q["html-container"],'" id="').concat(Q["html-container"],'"></div>\n   <input class="').concat(Q.input,'" />\n   <input type="file" class="').concat(Q.file,'" />\n   <div class="').concat(Q.range,'">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="').concat(Q.select,'"></select>\n   <div class="').concat(Q.radio,'"></div>\n   <label for="').concat(Q.checkbox,'" class="').concat(Q.checkbox,'">\n     <input type="checkbox" />\n     <span class="').concat(Q.label,'"></span>\n   </label>\n   <textarea class="').concat(Q.textarea,'"></textarea>\n   <div class="').concat(Q["validation-message"],'" id="').concat(Q["validation-message"],'"></div>\n   <div class="').concat(Q.actions,'">\n     <div class="').concat(Q.loader,'"></div>\n     <button type="button" class="').concat(Q.confirm,'"></button>\n     <button type="button" class="').concat(Q.deny,'"></button>\n     <button type="button" class="').concat(Q.cancel,'"></button>\n   </div>\n   <div class="').concat(Q.footer,'"></div>\n   <div class="').concat(Q["timer-progress-bar-container"],'">\n     <div class="').concat(Q["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),Rt=()=>{se.currentInstance.resetValidationMessage()},zs=D=>{const S=(()=>{const D=pe();return!!D&&(D.remove(),Dt([document.documentElement,document.body],[Q["no-backdrop"],Q["toast-shown"],Q["has-column"]]),!0)})();if(Y())return void de("SweetAlert2 requires document to initialize");const O=document.createElement("div");O.className=Q.container,S&&Je(O,Q["no-transition"]),mn(O,rt);const G=(D=>"string"==typeof D?document.querySelector(D):D)(D.target);G.appendChild(O),(D=>{const S=me();S.setAttribute("role",D.toast?"alert":"dialog"),S.setAttribute("aria-live",D.toast?"polite":"assertive"),D.toast||S.setAttribute("aria-modal","true")})(D),(D=>{"rtl"===window.getComputedStyle(D).direction&&Je(pe(),Q.rtl)})(G),(()=>{const D=me(),S=vn(D,Q.input),O=vn(D,Q.file),G=D.querySelector(".".concat(Q.range," input")),Re=D.querySelector(".".concat(Q.range," output")),it=vn(D,Q.select),ln=D.querySelector(".".concat(Q.checkbox," input")),cr=vn(D,Q.textarea);S.oninput=Rt,O.onchange=Rt,it.onchange=Rt,ln.onchange=Rt,cr.oninput=Rt,G.oninput=()=>{Rt(),Re.value=G.value},G.onchange=()=>{Rt(),G.nextSibling.value=G.value}})(),Ko(O,D)},Ko=(D,S)=>{if(S.toast)return;const O=(D=>D[Math.floor(Math.random()*D.length)])([{text:"\u0428\u0412\u0410\u0420\u0426\u0415\u041d\u0415\u0413\u0413\u0415\u0420 \u043e\u0431\u0440\u0430\u0442\u0438\u043b\u0441\u044f <br> \u043a \u0420\u0423\u0421\u0421\u041a\u041e\u041c\u0423 \u041d\u0410\u0420\u041e\u0414\u0423 \u043e \u0432\u043e\u0439\u043d\u0435",youtubeId:"fWClXZd9c78"},{text:"\u0420\u0423\u0421\u0421\u041a\u0418\u0419 \u041f\u0410\u0422\u0420\u0418\u041e\u0422 <br> \u043e\u0442\u043a\u0440\u044b\u043b \u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0442\u0430\u0439\u043d\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"_RjBNkn88yA"},{text:"\u0413\u0415\u0420\u041e\u0419 \u041d\u041e\u0412\u041e\u0420\u041e\u0421\u0421\u0418\u0418 \u0421\u0422\u0420\u0415\u041b\u041a\u041e\u0412 <br> \u0434\u0430\u043b \u043e\u0446\u0435\u043d\u043a\u0443 \u0445\u043e\u0434\u0443 \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"yUmzQT4C8JY"},{text:"\u0424\u0418\u041d\u0421\u041a\u0418\u0419 \u0414\u0420\u0423\u0413 \u0420\u041e\u0421\u0421\u0418\u0418 <br> \u0433\u043e\u0432\u043e\u0440\u0438\u0442 \u041f\u041e-\u0420\u0423\u0421\u0421\u041a\u0418 \u043e \u0441\u043f\u0435\u0446\u043e\u043f\u0435\u0440\u0430\u0446\u0438\u0438",youtubeId:"hkCYb6edUrQ"}]);if("ru"===navigator.language&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const G=document.createElement("div");G.className=Q["no-war"],mn(G,'<a href="https://www.youtube.com/watch?v='.concat(O.youtubeId,'" target="_blank">').concat(O.text,"</a>")),D.appendChild(G),D.style.paddingTop="4em"}},Jo=(D,S)=>{D instanceof HTMLElement?S.appendChild(D):"object"==typeof D?jc(D,S):D&&mn(S,D)},jc=(D,S)=>{D.jquery?Ml(S,D):mn(S,D.toString())},Ml=(D,S)=>{if(D.textContent="",0 in S)for(let O=0;O in S;O++)D.appendChild(S[O].cloneNode(!0));else D.appendChild(S.cloneNode(!0))},cs=(()=>{if(Y())return!1;const D=document.createElement("div"),S={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const O in S)if(Object.prototype.hasOwnProperty.call(S,O)&&void 0!==D.style[O])return S[O];return!1})(),Ir=(D,S)=>{const O=dn(),G=ri();S.showConfirmButton||S.showDenyButton||S.showCancelButton?Ve(O):Ze(O),Pn(O,S,"actions"),function(D,S,O){const G=et(),Re=Kt(),it=zt();Qc(G,"confirm",O),Qc(Re,"deny",O),Qc(it,"cancel",O),function(D,S,O,G){if(!G.buttonsStyling)return Dt([D,S,O],Q.styled);Je([D,S,O],Q.styled),G.confirmButtonColor&&(D.style.backgroundColor=G.confirmButtonColor,Je(D,Q["default-outline"])),G.denyButtonColor&&(S.style.backgroundColor=G.denyButtonColor,Je(S,Q["default-outline"])),G.cancelButtonColor&&(O.style.backgroundColor=G.cancelButtonColor,Je(O,Q["default-outline"]))}(G,Re,it,O),O.reverseButtons&&(O.toast?(D.insertBefore(it,G),D.insertBefore(Re,G)):(D.insertBefore(it,S),D.insertBefore(Re,S),D.insertBefore(G,S)))}(O,G,S),mn(G,S.loaderHtml),Pn(G,S,"loader")};function Qc(D,S,O){Yr(D,O["show".concat(u(S),"Button")],"inline-block"),mn(D,O["".concat(S,"ButtonText")]),D.setAttribute("aria-label",O["".concat(S,"ButtonAriaLabel")]),D.className=Q[S],Pn(D,O,"".concat(S,"Button")),Je(D,O["".concat(S,"ButtonClass")])}const Xt=(D,S)=>{const O=pe();!O||(function(D,S){"string"==typeof S?D.style.background=S:S||Je([document.documentElement,document.body],Q["no-backdrop"])}(O,S.backdrop),function(D,S){S in Q?Je(D,Q[S]):(z('The "position" parameter is not valid, defaulting to "center"'),Je(D,Q.center))}(O,S.position),function(D,S){if(S&&"string"==typeof S){const O="grow-".concat(S);O in Q&&Je(D,Q[O])}}(O,S.grow),Pn(O,S,"container"))};var At={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const hn=["input","file","range","select","radio","checkbox","textarea"],vs=D=>{if(!Qn[D.input])return de('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(D.input,'"'));const S=ws(D.input),O=Qn[D.input](S,D);Ve(S),setTimeout(()=>{bt(O)})},Va=(D,S)=>{const O=pi(me(),D);if(O){(D=>{for(let S=0;S<D.attributes.length;S++){const O=D.attributes[S].name;["type","value","style"].includes(O)||D.removeAttribute(O)}})(O);for(const G in S)O.setAttribute(G,S[G])}},mo=D=>{const S=ws(D.input);"object"==typeof D.customClass&&Je(S,D.customClass.input)},Et=(D,S)=>{(!D.placeholder||S.inputPlaceholder)&&(D.placeholder=S.inputPlaceholder)},Ai=(D,S,O)=>{if(O.inputLabel){D.id=Q.input;const G=document.createElement("label"),Re=Q["input-label"];G.setAttribute("for",D.id),G.className=Re,"object"==typeof O.customClass&&Je(G,O.customClass.inputLabel),G.innerText=O.inputLabel,S.insertAdjacentElement("beforebegin",G)}},ws=D=>vn(me(),Q[D]||Q.input),qs=(D,S)=>{["string","number"].includes(typeof S)?D.value="".concat(S):ne(S)||z('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(typeof S,'"'))},Qn={};Qn.text=Qn.email=Qn.password=Qn.number=Qn.tel=Qn.url=(D,S)=>(qs(D,S.inputValue),Ai(D,D,S),Et(D,S),D.type=S.input,D),Qn.file=(D,S)=>(Ai(D,D,S),Et(D,S),D),Qn.range=(D,S)=>{const O=D.querySelector("input"),G=D.querySelector("output");return qs(O,S.inputValue),O.type=S.input,qs(G,S.inputValue),Ai(O,D,S),D},Qn.select=(D,S)=>{if(D.textContent="",S.inputPlaceholder){const O=document.createElement("option");mn(O,S.inputPlaceholder),O.value="",O.disabled=!0,O.selected=!0,D.appendChild(O)}return Ai(D,D,S),D},Qn.radio=D=>(D.textContent="",D),Qn.checkbox=(D,S)=>{const O=pi(me(),"checkbox");O.value="1",O.id=Q.checkbox,O.checked=Boolean(S.inputValue);const G=D.querySelector("span");return mn(G,S.inputPlaceholder),O},Qn.textarea=(D,S)=>{qs(D,S.inputValue),Et(D,S),Ai(D,D,S);return setTimeout(()=>{if("MutationObserver"in window){const G=parseInt(window.getComputedStyle(me()).width);new MutationObserver(()=>{const it=D.offsetWidth+(G=>parseInt(window.getComputedStyle(G).marginLeft)+parseInt(window.getComputedStyle(G).marginRight))(D);me().style.width=it>G?"".concat(it,"px"):null}).observe(D,{attributes:!0,attributeFilter:["style"]})}}),D};const ai=(D,S)=>{const O=Xe();Pn(O,S,"htmlContainer"),S.html?(Jo(S.html,O),Ve(O,"block")):S.text?(O.textContent=S.text,Ve(O,"block")):Ze(O),((D,S)=>{const O=me(),G=At.innerParams.get(D),Re=!G||S.input!==G.input;hn.forEach(it=>{const ln=vn(O,Q[it]);Va(it,S.inputAttributes),ln.className=Q[it],Re&&Ze(ln)}),S.input&&(Re&&vs(S),mo(S))})(D,S)},Bt=(D,S)=>{for(const O in ye)S.icon!==O&&Dt(D,ye[O]);Je(D,ye[S.icon]),Xo(D,S),Ua(),Pn(D,S,"icon")},Ua=()=>{const D=me(),S=window.getComputedStyle(D).getPropertyValue("background-color"),O=D.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let G=0;G<O.length;G++)O[G].style.backgroundColor=S},$o=(D,S)=>{D.textContent="",mn(D,S.iconHtml?bs(S.iconHtml):"success"===S.icon?'\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n':"error"===S.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':bs({question:"?",warning:"!",info:"i"}[S.icon]))},Xo=(D,S)=>{if(S.iconColor){D.style.color=S.iconColor,D.style.borderColor=S.iconColor;for(const O of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])xr(D,O,"backgroundColor",S.iconColor);xr(D,".swal2-success-ring","borderColor",S.iconColor)}},bs=D=>'<div class="'.concat(Q["icon-content"],'">').concat(D,"</div>"),Bd=D=>{const S=document.createElement("li");return Je(S,Q["progress-step"]),mn(S,D),S},Zr=D=>{const S=document.createElement("li");return Je(S,Q["progress-step-line"]),D.progressStepsDistance&&jt(S,"width",D.progressStepsDistance),S},or=(D,S)=>{D.className="".concat(Q.popup," ").concat(An(D)?S.showClass.popup:""),S.toast?(Je([document.documentElement,document.body],Q["toast-shown"]),Je(D,Q.toast)):Je(D,Q.modal),Pn(D,S,"popup"),"string"==typeof S.customClass&&Je(D,S.customClass),S.icon&&Je(D,Q["icon-".concat(S.icon)])},Es=(D,S)=>{((D,S)=>{const O=pe(),G=me();S.toast?(jt(O,"width",S.width),G.style.width="100%",G.insertBefore(ri(),le())):jt(G,"width",S.width),jt(G,"padding",S.padding),S.color&&(G.style.color=S.color),S.background&&(G.style.background=S.background),Ze(pt()),or(G,S)})(0,S),Xt(0,S),((D,S)=>{const O=gt();if(!S.progressSteps||0===S.progressSteps.length)return Ze(O);Ve(O),O.textContent="",S.currentProgressStep>=S.progressSteps.length&&z("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),S.progressSteps.forEach((G,Re)=>{const it=Bd(G);if(O.appendChild(it),Re===S.currentProgressStep&&Je(it,Q["active-progress-step"]),Re!==S.progressSteps.length-1){const ln=Zr(S);O.appendChild(ln)}})})(0,S),((D,S)=>{const O=At.innerParams.get(D),G=le();O&&S.icon===O.icon?($o(G,S),Bt(G,S)):S.icon||S.iconHtml?S.icon&&-1===Object.keys(ye).indexOf(S.icon)?(de('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(S.icon,'"')),Ze(G)):(Ve(G),$o(G,S),Bt(G,S),Je(G,S.showClass.icon)):Ze(G)})(D,S),((D,S)=>{const O=kt();if(!S.imageUrl)return Ze(O);Ve(O,""),O.setAttribute("src",S.imageUrl),O.setAttribute("alt",S.imageAlt),jt(O,"width",S.imageWidth),jt(O,"height",S.imageHeight),O.className=Q.image,Pn(O,S,"image")})(0,S),((D,S)=>{const O=He();Yr(O,S.title||S.titleText,"block"),S.title&&Jo(S.title,O),S.titleText&&(O.innerText=S.titleText),Pn(O,S,"title")})(0,S),((D,S)=>{const O=qr();mn(O,S.closeButtonHtml),Pn(O,S,"closeButton"),Yr(O,S.showCloseButton),O.setAttribute("aria-label",S.closeButtonAriaLabel)})(0,S),ai(D,S),Ir(0,S),((D,S)=>{const O=Ut();Yr(O,S.footer),S.footer&&Jo(S.footer,O),Pn(O,S,"footer")})(0,S),"function"==typeof S.didRender&&S.didRender(me())},qn=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),qc=()=>{ae(document.body.children).forEach(S=>{S.hasAttribute("data-previous-aria-hidden")?(S.setAttribute("aria-hidden",S.getAttribute("data-previous-aria-hidden")),S.removeAttribute("data-previous-aria-hidden")):S.removeAttribute("aria-hidden")})},Vd=["swal-title","swal-html","swal-footer"],Em=D=>{const S={};return ae(D.querySelectorAll("swal-param")).forEach(O=>{ta(O,["name","value"]);const G=O.getAttribute("name"),Re=O.getAttribute("value");"boolean"==typeof J[G]&&"false"===Re&&(S[G]=!1),"object"==typeof J[G]&&(S[G]=JSON.parse(Re))}),S},ea=D=>{const S={};return ae(D.querySelectorAll("swal-button")).forEach(O=>{ta(O,["type","color","aria-label"]);const G=O.getAttribute("type");S["".concat(G,"ButtonText")]=O.innerHTML,S["show".concat(u(G),"Button")]=!0,O.hasAttribute("color")&&(S["".concat(G,"ButtonColor")]=O.getAttribute("color")),O.hasAttribute("aria-label")&&(S["".concat(G,"ButtonAriaLabel")]=O.getAttribute("aria-label"))}),S},Cm=D=>{const S={},O=D.querySelector("swal-image");return O&&(ta(O,["src","width","height","alt"]),O.hasAttribute("src")&&(S.imageUrl=O.getAttribute("src")),O.hasAttribute("width")&&(S.imageWidth=O.getAttribute("width")),O.hasAttribute("height")&&(S.imageHeight=O.getAttribute("height")),O.hasAttribute("alt")&&(S.imageAlt=O.getAttribute("alt"))),S},Ud=D=>{const S={},O=D.querySelector("swal-icon");return O&&(ta(O,["type","color"]),O.hasAttribute("type")&&(S.icon=O.getAttribute("type")),O.hasAttribute("color")&&(S.iconColor=O.getAttribute("color")),S.iconHtml=O.innerHTML),S},xm=D=>{const S={},O=D.querySelector("swal-input");O&&(ta(O,["type","label","placeholder","value"]),S.input=O.getAttribute("type")||"text",O.hasAttribute("label")&&(S.inputLabel=O.getAttribute("label")),O.hasAttribute("placeholder")&&(S.inputPlaceholder=O.getAttribute("placeholder")),O.hasAttribute("value")&&(S.inputValue=O.getAttribute("value")));const G=D.querySelectorAll("swal-input-option");return G.length&&(S.inputOptions={},ae(G).forEach(Re=>{ta(Re,["value"]);const it=Re.getAttribute("value");S.inputOptions[it]=Re.innerHTML})),S},Gd=(D,S)=>{const O={};for(const G in S){const Re=S[G],it=D.querySelector(Re);it&&(ta(it,[]),O[Re.replace(/^swal-/,"")]=it.innerHTML.trim())}return O},Im=D=>{const S=Vd.concat(["swal-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);ae(D.children).forEach(O=>{const G=O.tagName.toLowerCase();-1===S.indexOf(G)&&z("Unrecognized element <".concat(G,">"))})},ta=(D,S)=>{ae(D.attributes).forEach(O=>{-1===S.indexOf(O.name)&&z(['Unrecognized attribute "'.concat(O.name,'" on <').concat(D.tagName.toLowerCase(),">."),"".concat(S.length?"Allowed attributes are: ".concat(S.join(", ")):"To set the value, use HTML within the element.")])})};var Yc={email:(D,S)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(D)?Promise.resolve():Promise.resolve(S||"Invalid email address"),url:(D,S)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(D)?Promise.resolve():Promise.resolve(S||"Invalid URL")};function Sm(D){(function(D){D.inputValidator||Object.keys(Yc).forEach(S=>{D.input===S&&(D.inputValidator=Yc[S])})})(D),D.showLoaderOnConfirm&&!D.preConfirm&&z("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function(D){(!D.target||"string"==typeof D.target&&!document.querySelector(D.target)||"string"!=typeof D.target&&!D.target.appendChild)&&(z('Target parameter is not valid, defaulting to "body"'),D.target="body")}(D),"string"==typeof D.title&&(D.title=D.title.split("\n").join("<br />")),zs(D)}class Rl{constructor(S,O){this.callback=S,this.remaining=O,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(S){const O=this.running;return O&&this.stop(),this.remaining+=S,O&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Tm=()=>{null===rr.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(rr.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(rr.previousBodyPadding+(()=>{const D=document.createElement("div");D.className=Q["scrollbar-measure"],document.body.appendChild(D);const S=D.getBoundingClientRect().width-D.clientWidth;return document.body.removeChild(D),S})(),"px"))},Ha=()=>{const D=navigator.userAgent,S=!!D.match(/iPad/i)||!!D.match(/iPhone/i),O=!!D.match(/WebKit/i);if(S&&O&&!D.match(/CriOS/i)){const Re=44;me().scrollHeight>window.innerHeight-Re&&(pe().style.paddingBottom="".concat(Re,"px"))}},Ao=()=>{const D=pe();let S;D.ontouchstart=O=>{S=Wc(O)},D.ontouchmove=O=>{S&&(O.preventDefault(),O.stopPropagation())}},Wc=D=>{const S=D.target,O=pe();return!(Ws(D)||Zc(D)||S!==O&&(sr(O)||"INPUT"===S.tagName||"TEXTAREA"===S.tagName||sr(Xe())&&Xe().contains(S)))},Ws=D=>D.touches&&D.touches.length&&"stylus"===D.touches[0].touchType,Zc=D=>D.touches&&D.touches.length>1,Wf=D=>{const S=pe(),O=me();"function"==typeof D.willOpen&&D.willOpen(O);const Re=window.getComputedStyle(document.body).overflowY;hs(S,O,D),setTimeout(()=>{Kc(S,O)},10),ls()&&(Rr(S,D.scrollbarPadding,Re),ae(document.body.children).forEach(S=>{S===pe()||S.contains(pe())||(S.hasAttribute("aria-hidden")&&S.setAttribute("data-previous-aria-hidden",S.getAttribute("aria-hidden")),S.setAttribute("aria-hidden","true"))})),!Cr()&&!se.previousActiveElement&&(se.previousActiveElement=document.activeElement),"function"==typeof D.didOpen&&setTimeout(()=>D.didOpen(O)),Dt(S,Q["no-transition"])},Fl=D=>{const S=me();if(D.target!==S)return;const O=pe();S.removeEventListener(cs,Fl),O.style.overflowY="auto"},Kc=(D,S)=>{cs&&po(S)?(D.style.overflowY="hidden",S.addEventListener(cs,Fl)):D.style.overflowY="auto"},Rr=(D,S,O)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Ke(document.body,Q.iosfix)){const S=document.body.scrollTop;document.body.style.top="".concat(-1*S,"px"),Je(document.body,Q.iosfix),Ao(),Ha()}})(),S&&"hidden"!==O&&Tm(),setTimeout(()=>{D.scrollTop=0})},hs=(D,S,O)=>{Je(D,O.showClass.backdrop),S.style.setProperty("opacity","0","important"),Ve(S,"grid"),setTimeout(()=>{Je(S,O.showClass.popup),S.style.removeProperty("opacity")},10),Je([document.documentElement,document.body],Q.shown),O.heightAuto&&O.backdrop&&!O.toast&&Je([document.documentElement,document.body],Q["height-auto"])},ei=D=>{let S=me();S||new Xa,S=me();const O=ri();Cr()?Ze(le()):Zf(S,D),Ve(O),S.setAttribute("data-loading",!0),S.setAttribute("aria-busy",!0),S.focus()},Zf=(D,S)=>{const O=dn(),G=ri();!S&&An(et())&&(S=et()),Ve(O),S&&(Ze(S),G.setAttribute("data-button-to-replace",S.className)),G.parentNode.insertBefore(G,S),Je([D,O],Q.loading)},Ol=D=>D.checked?1:0,ja=D=>D.checked?D.value:null,Hd=D=>D.files.length?null!==D.getAttribute("multiple")?D.files:D.files[0]:null,jd=(D,S)=>{const O=me(),G=Re=>fn[S.input](O,ia(Re),S);X(S.inputOptions)||ne(S.inputOptions)?(ei(et()),H(S.inputOptions).then(Re=>{D.hideLoading(),G(Re)})):"object"==typeof S.inputOptions?G(S.inputOptions):de("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(typeof S.inputOptions))},$c=(D,S)=>{const O=D.getInput();Ze(O),H(S.inputValue).then(G=>{O.value="number"===S.input?parseFloat(G)||0:"".concat(G),Ve(O),O.focus(),D.hideLoading()}).catch(G=>{de("Error in inputValue promise: ".concat(G)),O.value="",Ve(O),O.focus(),D.hideLoading()})},fn={select:(D,S,O)=>{const G=vn(D,Q.select),Re=(it,ln,cr)=>{const ti=document.createElement("option");ti.value=cr,mn(ti,ln),ti.selected=fs(cr,O.inputValue),it.appendChild(ti)};S.forEach(it=>{const ln=it[0],cr=it[1];if(Array.isArray(cr)){const ti=document.createElement("optgroup");ti.label=ln,ti.disabled=!1,G.appendChild(ti),cr.forEach(Wl=>Re(ti,Wl[1],Wl[0]))}else Re(G,cr,ln)}),G.focus()},radio:(D,S,O)=>{const G=vn(D,Q.radio);S.forEach(it=>{const ln=it[0],cr=it[1],ti=document.createElement("input"),Wl=document.createElement("label");ti.type="radio",ti.name=Q.radio,ti.value=ln,fs(ln,O.inputValue)&&(ti.checked=!0);const el=document.createElement("span");mn(el,cr),el.className=Q.label,Wl.appendChild(ti),Wl.appendChild(el),G.appendChild(Wl)});const Re=G.querySelectorAll("input");Re.length&&Re[0].focus()}},ia=D=>{const S=[];return"undefined"!=typeof Map&&D instanceof Map?D.forEach((O,G)=>{let Re=O;"object"==typeof Re&&(Re=ia(Re)),S.push([G,Re])}):Object.keys(D).forEach(O=>{let G=D[O];"object"==typeof G&&(G=ia(G)),S.push([O,G])}),S},fs=(D,S)=>S&&S.toString()===D.toString();function Nl(){const D=At.innerParams.get(this);if(!D)return;const S=At.domCache.get(this);Ze(S.loader),Cr()?D.icon&&Ve(le()):gn(S),Dt([S.popup,S.actions],Q.loading),S.popup.removeAttribute("aria-busy"),S.popup.removeAttribute("data-loading"),S.confirmButton.disabled=!1,S.denyButton.disabled=!1,S.cancelButton.disabled=!1}const gn=D=>{const S=D.popup.getElementsByClassName(D.loader.getAttribute("data-button-to-replace"));S.length?Ve(S[0],"inline-block"):!An(et())&&!An(Kt())&&!An(zt())&&Ze(D.actions)};var ra={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const yi=()=>et()&&et().click(),Is=D=>{D.keydownTarget&&D.keydownHandlerAdded&&(D.keydownTarget.removeEventListener("keydown",D.keydownHandler,{capture:D.keydownListenerCapture}),D.keydownHandlerAdded=!1)},za=(D,S,O)=>{const G=Ii();if(G.length)return(S+=O)===G.length?S=0:-1===S&&(S=G.length-1),G[S].focus();me().focus()},eu=["ArrowRight","ArrowDown"],oa=["ArrowLeft","ArrowUp"],yo=(D,S,O)=>{const G=At.innerParams.get(D);!G||S.isComposing||229===S.keyCode||(G.stopKeydownPropagation&&S.stopPropagation(),"Enter"===S.key?Ll(D,S,G):"Tab"===S.key?aa(S,G):[...eu,...oa].includes(S.key)?vt(S.key):"Escape"===S.key&&Bl(S,G,O))},Ll=(D,S,O)=>{if(re(O.allowEnterKey)&&S.target&&D.getInput()&&S.target.outerHTML===D.getInput().outerHTML){if(["textarea","file"].includes(O.input))return;yi(),S.preventDefault()}},aa=(D,S)=>{const O=D.target,G=Ii();let Re=-1;for(let it=0;it<G.length;it++)if(O===G[it]){Re=it;break}za(0,Re,D.shiftKey?-1:1),D.stopPropagation(),D.preventDefault()},vt=D=>{if(![et(),Kt(),zt()].includes(document.activeElement))return;const Re=eu.includes(D)?"nextElementSibling":"previousElementSibling";let it=document.activeElement;for(let ln=0;ln<dn().children.length;ln++){if(it=it[Re],!it)return;if(An(it)&&it instanceof HTMLButtonElement)break}it instanceof HTMLButtonElement&&it.focus()},Bl=(D,S,O)=>{re(S.allowEscapeKey)&&(D.preventDefault(),O(qn.esc))};function Qd(D,S,O,G){Cr()?Ul(D,G):(je(O).then(()=>Ul(D,G)),Is(se)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(S.setAttribute("style","display:none !important"),S.removeAttribute("class"),S.innerHTML=""):S.remove(),ls()&&(null!==rr.previousBodyPadding&&(document.body.style.paddingRight="".concat(rr.previousBodyPadding,"px"),rr.previousBodyPadding=null),(()=>{if(Ke(document.body,Q.iosfix)){const D=parseInt(document.body.style.top,10);Dt(document.body,Q.iosfix),document.body.style.top="",document.body.scrollTop=-1*D}})(),qc()),Dt([document.documentElement,document.body],[Q.shown,Q["height-auto"],Q["no-backdrop"],Q["toast-shown"]])}function Vl(D){D=Vt(D);const S=ra.swalPromiseResolve.get(this),O=Kf(this);this.isAwaitingPromise()?D.isDismissed||(Fe(this),S(D)):O&&S(D)}const Kf=D=>{const S=me();if(!S)return!1;const O=At.innerParams.get(D);if(!O||Ke(S,O.hideClass.popup))return!1;Dt(S,O.showClass.popup),Je(S,O.hideClass.popup);const G=pe();return Dt(G,O.showClass.backdrop),Je(G,O.hideClass.backdrop),iu(D,S,O),!0};const Fe=D=>{D.isAwaitingPromise()&&(At.awaitingPromise.delete(D),At.innerParams.get(D)||D._destroy())},Vt=D=>void 0===D?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},D),iu=(D,S,O)=>{const G=pe(),Re=cs&&po(S);"function"==typeof O.willClose&&O.willClose(S),Re?an(D,S,G,O.returnFocus,O.didClose):Qd(D,G,O.returnFocus,O.didClose)},an=(D,S,O,G,Re)=>{se.swalCloseEventFinishedCallback=Qd.bind(null,D,O,G,Re),S.addEventListener(cs,function(it){it.target===S&&(se.swalCloseEventFinishedCallback(),delete se.swalCloseEventFinishedCallback)})},Ul=(D,S)=>{setTimeout(()=>{"function"==typeof S&&S.bind(D.params)(),D._destroy()})};function gs(D,S,O){const G=At.domCache.get(D);S.forEach(Re=>{G[Re].disabled=O})}function ar(D,S){if(!D)return!1;if("radio"===D.type){const G=D.parentNode.parentNode.querySelectorAll("input");for(let Re=0;Re<G.length;Re++)G[Re].disabled=S}else D.disabled=S}const ru=D=>{const S={};return Object.keys(D).forEach(O=>{Ce(O)?S[O]=D[O]:z("Invalid parameter to update: ".concat(O))}),S};const lr=D=>{$f(D),delete D.params,delete se.keydownHandler,delete se.keydownTarget,delete se.currentInstance},$f=D=>{D.isAwaitingPromise()?(ua(At,D),At.awaitingPromise.set(D,!0)):(ua(ra,D),ua(At,D))},ua=(D,S)=>{for(const O in D)D[O].delete(S)};var su=Object.freeze({hideLoading:Nl,disableLoading:Nl,getInput:function(D){const S=At.innerParams.get(D||this),O=At.domCache.get(D||this);return O?pi(O.popup,S.input):null},close:Vl,isAwaitingPromise:function(){return!!At.awaitingPromise.get(this)},rejectPromise:function(D){const S=ra.swalPromiseReject.get(this);Fe(this),S&&S(D)},handleAwaitingPromise:Fe,closePopup:Vl,closeModal:Vl,closeToast:Vl,enableButtons:function(){gs(this,["confirmButton","denyButton","cancelButton"],!1)},disableButtons:function(){gs(this,["confirmButton","denyButton","cancelButton"],!0)},enableInput:function(){return ar(this.getInput(),!1)},disableInput:function(){return ar(this.getInput(),!0)},showValidationMessage:function(D){const S=At.domCache.get(this),O=At.innerParams.get(this);mn(S.validationMessage,D),S.validationMessage.className=Q["validation-message"],O.customClass&&O.customClass.validationMessage&&Je(S.validationMessage,O.customClass.validationMessage),Ve(S.validationMessage);const G=this.getInput();G&&(G.setAttribute("aria-invalid",!0),G.setAttribute("aria-describedby",Q["validation-message"]),bt(G),Je(G,Q.inputerror))},resetValidationMessage:function(){const D=At.domCache.get(this);D.validationMessage&&Ze(D.validationMessage);const S=this.getInput();S&&(S.removeAttribute("aria-invalid"),S.removeAttribute("aria-describedby"),Dt(S,Q.inputerror))},getProgressSteps:function(){return At.domCache.get(this).progressSteps},update:function(D){const S=me(),O=At.innerParams.get(this);if(!S||Ke(S,O.hideClass.popup))return z("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const G=ru(D),Re=Object.assign({},O,G);Es(this,Re),At.innerParams.set(this,Re),Object.defineProperties(this,{params:{value:Object.assign({},this.params,D),writable:!1,enumerable:!0}})},_destroy:function(){const D=At.domCache.get(this),S=At.innerParams.get(this);S?(D.popup&&se.swalCloseEventFinishedCallback&&(se.swalCloseEventFinishedCallback(),delete se.swalCloseEventFinishedCallback),se.deferDisposalTimer&&(clearTimeout(se.deferDisposalTimer),delete se.deferDisposalTimer),"function"==typeof S.didDestroy&&S.didDestroy(),lr(this)):$f(this)}});const lu=(D,S)=>{const O=At.innerParams.get(D);if(!O.input)return de('The "input" parameter is needed to be set when using returnInputValueOn'.concat(u(S)));const G=((D,S)=>{const O=D.getInput();if(!O)return null;switch(S.input){case"checkbox":return Ol(O);case"radio":return ja(O);case"file":return Hd(O);default:return S.inputAutoTrim?O.value.trim():O.value}})(D,O);O.inputValidator?Ya(D,G,S):D.getInput().checkValidity()?"deny"===S?Wa(D,G):Ss(D,G):(D.enableButtons(),D.showValidationMessage(O.validationMessage))},Ya=(D,S,O)=>{const G=At.innerParams.get(D);D.disableInput(),Promise.resolve().then(()=>H(G.inputValidator(S,G.validationMessage))).then(it=>{D.enableButtons(),D.enableInput(),it?D.showValidationMessage(it):"deny"===O?Wa(D,S):Ss(D,S)})},Wa=(D,S)=>{const O=At.innerParams.get(D||void 0);O.showLoaderOnDeny&&ei(Kt()),O.preDeny?(At.awaitingPromise.set(D||void 0,!0),Promise.resolve().then(()=>H(O.preDeny(S,O.validationMessage))).then(Re=>{!1===Re?(D.hideLoading(),Fe(D)):D.closePopup({isDenied:!0,value:void 0===Re?S:Re})}).catch(Re=>Ka(D||void 0,Re))):D.closePopup({isDenied:!0,value:S})},Za=(D,S)=>{D.closePopup({isConfirmed:!0,value:S})},Ka=(D,S)=>{D.rejectPromise(S)},Ss=(D,S)=>{const O=At.innerParams.get(D||void 0);O.showLoaderOnConfirm&&ei(),O.preConfirm?(D.resetValidationMessage(),At.awaitingPromise.set(D||void 0,!0),Promise.resolve().then(()=>H(O.preConfirm(S,O.validationMessage))).then(Re=>{An(pt())||!1===Re?(D.hideLoading(),Fe(D)):Za(D,void 0===Re?S:Re)}).catch(Re=>Ka(D||void 0,Re))):Za(D,S)},qd=(D,S,O)=>{S.popup.onclick=()=>{const G=At.innerParams.get(D);G&&(Xf(G)||G.timer||G.input)||O(qn.close)}},Xf=D=>D.showConfirmButton||D.showDenyButton||D.showCancelButton||D.showCloseButton;let Zs=!1;const eg=D=>{D.popup.onmousedown=()=>{D.container.onmouseup=function(S){D.container.onmouseup=void 0,S.target===D.container&&(Zs=!0)}}},tg=D=>{D.container.onmousedown=()=>{D.popup.onmouseup=function(S){D.popup.onmouseup=void 0,(S.target===D.popup||D.popup.contains(S.target))&&(Zs=!0)}}},Di=(D,S,O)=>{S.container.onclick=G=>{const Re=At.innerParams.get(D);Zs?Zs=!1:G.target===S.container&&re(Re.allowOutsideClick)&&O(qn.backdrop)}},Dn=D=>D instanceof Element||(D=>"object"==typeof D&&D.jquery)(D);const jl=()=>{if(se.timeout)return(()=>{const D=Nn(),S=parseInt(window.getComputedStyle(D).width);D.style.removeProperty("transition"),D.style.width="100%";const G=S/parseInt(window.getComputedStyle(D).width)*100;D.style.removeProperty("transition"),D.style.width="".concat(G,"%")})(),se.timeout.stop()},yn=()=>{if(se.timeout){const D=se.timeout.start();return Yt(D),D}};let zl=!1;const ql={};const ps=D=>{for(let S=D.target;S&&S!==document;S=S.parentNode)for(const O in ql){const G=S.getAttribute(O);if(G)return void ql[O].fire({template:G})}};var Yl=Object.freeze({isValidParameter:Te,isUpdatableParameter:Ce,isDeprecatedParameter:Se,argsToParams:D=>{const S={};return"object"!=typeof D[0]||Dn(D[0])?["title","html","icon"].forEach((O,G)=>{const Re=D[G];"string"==typeof Re||Dn(Re)?S[O]=Re:void 0!==Re&&de("Unexpected type of ".concat(O,'! Expected "string" or "Element", got ').concat(typeof Re))}):Object.assign(S,D[0]),S},isVisible:()=>An(me()),clickConfirm:yi,clickDeny:()=>Kt()&&Kt().click(),clickCancel:()=>zt()&&zt().click(),getContainer:pe,getPopup:me,getTitle:He,getHtmlContainer:Xe,getImage:kt,getIcon:le,getInputLabel:()=>Ae(Q["input-label"]),getCloseButton:qr,getActions:dn,getConfirmButton:et,getDenyButton:Kt,getCancelButton:zt,getLoader:ri,getFooter:Ut,getTimerProgressBar:Nn,getFocusableElements:Ii,getValidationMessage:pt,isLoading:()=>me().hasAttribute("data-loading"),fire:function(){const D=this;for(var S=arguments.length,O=new Array(S),G=0;G<S;G++)O[G]=arguments[G];return new D(...O)},mixin:function(D){return class extends(this){_main(G,Re){return super._main(G,Object.assign({},D,Re))}}},showLoading:ei,enableLoading:ei,getTimerLeft:()=>se.timeout&&se.timeout.getTimerLeft(),stopTimer:jl,resumeTimer:yn,toggleTimer:()=>{const D=se.timeout;return D&&(D.running?jl():yn())},increaseTimer:D=>{if(se.timeout){const S=se.timeout.increase(D);return Yt(S,!0),S}},isTimerRunning:()=>se.timeout&&se.timeout.isRunning(),bindClickHandler:function(){ql[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,zl||(document.body.addEventListener("click",ps),zl=!0)}});let Ja;class vo{constructor(){if("undefined"==typeof window)return;Ja=this;for(var S=arguments.length,O=new Array(S),G=0;G<S;G++)O[G]=arguments[G];const Re=Object.freeze(this.constructor.argsToParams(O));Object.defineProperties(this,{params:{value:Re,writable:!1,enumerable:!0,configurable:!0}});const it=this._main(this.params);At.promise.set(this,it)}_main(S){let O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(D=>{!D.backdrop&&D.allowOutsideClick&&z('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const S in D)Ye(S),D.toast&&Qe(S),mt(S)})(Object.assign({},O,S)),se.currentInstance&&(se.currentInstance._destroy(),ls()&&qc()),se.currentInstance=this;const G=uu(S,O);Sm(G),Object.freeze(G),se.timeout&&(se.timeout.stop(),delete se.timeout),clearTimeout(se.restoreFocusTimeout);const Re=du(this);return Es(this,G),At.innerParams.set(this,G),$a(this,Re,G)}then(S){return At.promise.get(this).then(S)}finally(S){return At.promise.get(this).finally(S)}}const $a=(D,S,O)=>new Promise((G,Re)=>{const it=ln=>{D.closePopup({isDismissed:!0,dismiss:ln})};ra.swalPromiseResolve.set(D,G),ra.swalPromiseReject.set(D,Re),S.confirmButton.onclick=()=>(D=>{const S=At.innerParams.get(D);D.disableButtons(),S.input?lu(D,"confirm"):Ss(D,!0)})(D),S.denyButton.onclick=()=>(D=>{const S=At.innerParams.get(D);D.disableButtons(),S.returnInputValueOnDeny?lu(D,"deny"):Wa(D,!1)})(D),S.cancelButton.onclick=()=>((D,S)=>{D.disableButtons(),S(qn.cancel)})(D,it),S.closeButton.onclick=()=>it(qn.close),((D,S,O)=>{At.innerParams.get(D).toast?qd(D,S,O):(eg(S),tg(S),Di(D,S,O))})(D,S,it),((D,S,O,G)=>{Is(S),O.toast||(S.keydownHandler=Re=>yo(D,Re,G),S.keydownTarget=O.keydownListenerCapture?window:me(),S.keydownListenerCapture=O.keydownListenerCapture,S.keydownTarget.addEventListener("keydown",S.keydownHandler,{capture:S.keydownListenerCapture}),S.keydownHandlerAdded=!0)})(D,se,O,it),((D,S)=>{"select"===S.input||"radio"===S.input?jd(D,S):["text","email","number","tel","textarea"].includes(S.input)&&(X(S.inputValue)||ne(S.inputValue))&&(ei(et()),$c(D,S))})(D,O),Wf(O),V_(se,O,it),hu(S,O),setTimeout(()=>{S.container.scrollTop=0})}),uu=(D,S)=>{const O=(D=>{const S="string"==typeof D.template?document.querySelector(D.template):D.template;if(!S)return{};const O=S.content;return Im(O),Object.assign(Em(O),ea(O),Cm(O),Ud(O),xm(O),Gd(O,Vd))})(D),G=Object.assign({},J,S,O,D);return G.showClass=Object.assign({},J.showClass,G.showClass),G.hideClass=Object.assign({},J.hideClass,G.hideClass),G},du=D=>{const S={popup:me(),container:pe(),actions:dn(),confirmButton:et(),denyButton:Kt(),cancelButton:zt(),loader:ri(),closeButton:qr(),validationMessage:pt(),progressSteps:gt()};return At.domCache.set(D,S),S},V_=(D,S,O)=>{const G=Nn();Ze(G),S.timer&&(D.timeout=new Rl(()=>{O("timer"),delete D.timeout},S.timer),S.timerProgressBar&&(Ve(G),Pn(G,S,"timerProgressBar"),setTimeout(()=>{D.timeout&&D.timeout.running&&Yt(S.timer)})))},hu=(D,S)=>{if(!S.toast){if(!re(S.allowEnterKey))return ms();aC(D,S)||za(0,-1,1)}},aC=(D,S)=>S.focusDeny&&An(D.denyButton)?(D.denyButton.focus(),!0):S.focusCancel&&An(D.cancelButton)?(D.cancelButton.focus(),!0):!(!S.focusConfirm||!An(D.confirmButton)||(D.confirmButton.focus(),0)),ms=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};Object.assign(vo.prototype,su),Object.assign(vo,Yl),Object.keys(su).forEach(D=>{vo[D]=function(){if(Ja)return Ja[D](...arguments)}}),vo.DismissReason=qn,vo.version="11.4.14";const Xa=vo;return Xa.default=Xa,Xa}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(Ee,V){var u=Ee.createElement("style");if(Ee.getElementsByTagName("head")[0].appendChild(u),u.styleSheet)u.styleSheet.disabled||(u.styleSheet.cssText=V);else try{u.innerHTML=V}catch(ae){u.innerText=V}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4!important;grid-row:1/4!important;grid-template-columns:1fr 99fr 1fr;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px hsla(0deg,0%,0%,.075),0 1px 2px hsla(0deg,0%,0%,.075),1px 2px 4px hsla(0deg,0%,0%,.075),1px 3px 8px hsla(0deg,0%,0%,.075),2px 4px 16px hsla(0deg,0%,0%,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto) minmax(-webkit-min-content,auto);grid-template-rows:minmax(min-content,auto) minmax(min-content,auto) minmax(min-content,auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-bottom-start,.swal2-container.swal2-center-start,.swal2-container.swal2-top-start{grid-template-columns:minmax(0,1fr) auto auto}.swal2-container.swal2-bottom,.swal2-container.swal2-center,.swal2-container.swal2-top{grid-template-columns:auto minmax(0,1fr) auto}.swal2-container.swal2-bottom-end,.swal2-container.swal2-center-end,.swal2-container.swal2-top-end{grid-template-columns:auto auto minmax(0,1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-left>.swal2-popup,.swal2-container.swal2-center-start>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-left>.swal2-popup,.swal2-container.swal2-bottom-start>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-fullscreen>.swal2-popup,.swal2-container.swal2-grow-row>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none!important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0,100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 transparent #2778c4 transparent}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px transparent;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:0}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto!important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:0 0;color:#ccc;font-family:serif;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close:focus{outline:0;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em 2em 3px}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:0 0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px transparent;color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:0 0;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:0 0;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:.25em solid transparent;border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .5s;animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-i-mark .8s;animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{-webkit-animation:swal2-animate-question-mark .8s;animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:0 0;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-no-war{display:flex;position:fixed;z-index:1061;top:0;left:0;align-items:center;justify-content:center;width:100%;height:3.375em;background:#20232a;color:#fff;text-align:center}.swal2-no-war a{color:#61dafb;text-decoration:none}.swal2-no-war a:hover{text-decoration:underline}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@-webkit-keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@-webkit-keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{background-color:transparent!important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:transparent;pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}')},7983:()=>{},8709:(We,Ee,V)=>{"use strict";var u=V(7716);let ae=null;function z(){return ae}const oe=new u.OlP("DocumentToken");var pe=(()=>((pe=pe||{})[pe.Zero=0]="Zero",pe[pe.One=1]="One",pe[pe.Two=2]="Two",pe[pe.Few=3]="Few",pe[pe.Many=4]="Many",pe[pe.Other=5]="Other",pe))();const Cr=u.kL8;class Ai{}let qs=(()=>{class r extends Ai{constructor(n){super(),this.locale=n}getPluralCategory(n,s){switch(Cr(s||this.locale)(n)){case pe.Zero:return"zero";case pe.One:return"one";case pe.Two:return"two";case pe.Few:return"few";case pe.Many:return"many";default:return"other"}}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(u.soG))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();function ai(r,i){i=encodeURIComponent(i);for(const n of r.split(";")){const s=n.indexOf("="),[l,d]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(l.trim()===i)return decodeURIComponent(d)}return null}class Wr{constructor(i,n,s,l){this.$implicit=i,this.ngForOf=n,this.index=s,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Bt=(()=>{class r{constructor(n,s,l){this._viewContainer=n,this._template=s,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(s){throw new Error(`Cannot find a differ supporting object '${n}' of type '${function(r){return r.name||typeof r}(n)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const s=[];n.forEachOperation((l,d,g)=>{if(null==l.previousIndex){const v=this._viewContainer.createEmbeddedView(this._template,new Wr(null,this._ngForOf,-1,-1),null===g?void 0:g),C=new Ua(l,v);s.push(C)}else if(null==g)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const v=this._viewContainer.get(d);this._viewContainer.move(v,g);const C=new Ua(l,v);s.push(C)}});for(let l=0;l<s.length;l++)this._perViewChange(s[l].view,s[l].record);for(let l=0,d=this._viewContainer.length;l<d;l++){const g=this._viewContainer.get(l);g.context.index=l,g.context.count=d,g.context.ngForOf=this._ngForOf}n.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(n,s){n.context.$implicit=s.item}static ngTemplateContextGuard(n,s){return!0}}return r.\u0275fac=function(n){return new(n||r)(u.Y36(u.s_b),u.Y36(u.Rgc),u.Y36(u.ZZ4))},r.\u0275dir=u.lG2({type:r,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),r})();class Ua{constructor(i,n){this.record=i,this.view=n}}let Cs=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[{provide:Ai,useClass:qs}]}),r})();function Rr(r){return"browser"===r}function hs(r){return"server"===r}class $c{}class ia extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var r;r=new ia,ae||(ae=r)}onAndCancel(i,n,s){return i.addEventListener(n,s,!1),()=>{i.removeEventListener(n,s,!1)}}dispatchEvent(i,n){i.dispatchEvent(n)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,n){return(n=n||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,n){return"window"===n?window:"document"===n?i:"body"===n?i.body:null}getBaseHref(i){const n=(fs=fs||document.querySelector("base"),fs?fs.getAttribute("href"):null);return null==n?null:function(r){gn=gn||document.createElement("a"),gn.setAttribute("href",r);const i=gn.pathname;return"/"===i.charAt(0)?i:`/${i}`}(n)}resetBaseElement(){fs=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return ai(document.cookie,i)}}let gn,fs=null;const ra=new u.OlP("TRANSITION_ID"),yi=[{provide:u.ip1,useFactory:function(r,i,n){return()=>{n.get(u.CZH).donePromise.then(()=>{const s=z(),l=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let d=0;d<l.length;d++)s.remove(l[d])})}},deps:[ra,oe,u.zs3],multi:!0}];class Qa{static init(){(0,u.VLi)(new Qa)}addToWindow(i){u.dqk.getAngularTestability=(s,l=!0)=>{const d=i.findTestabilityInTree(s,l);if(null==d)throw new Error("Could not find testability for element.");return d},u.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),u.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),u.dqk.frameworkStabilizers||(u.dqk.frameworkStabilizers=[]),u.dqk.frameworkStabilizers.push(s=>{const l=u.dqk.getAllAngularTestabilities();let d=l.length,g=!1;const v=function(C){g=g||C,d--,0==d&&s(g)};l.forEach(function(C){C.whenStable(v)})})}findTestabilityInTree(i,n,s){if(null==n)return null;const l=i.getTestability(n);return null!=l?l:s?z().isShadowRoot(n)?this.findTestabilityInTree(i,n.host,!0):this.findTestabilityInTree(i,n.parentElement,!0):null}}let Pl=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();const _o=new u.OlP("EventManagerPlugins");let Fe=(()=>{class r{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(l=>l.manager=this),this._plugins=n.slice().reverse()}addEventListener(n,s,l){return this._findPluginFor(s).addEventListener(n,s,l)}addGlobalEventListener(n,s,l){return this._findPluginFor(s).addGlobalEventListener(n,s,l)}getZone(){return this._zone}_findPluginFor(n){const s=this._eventNameToPlugin.get(n);if(s)return s;const l=this._plugins;for(let d=0;d<l.length;d++){const g=l[d];if(g.supports(n))return this._eventNameToPlugin.set(n,g),g}throw new Error(`No event manager plugin found for event ${n}`)}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(_o),u.LFG(u.R0b))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();class Vt{constructor(i){this._doc=i}addGlobalEventListener(i,n,s){const l=z().getGlobalEventTarget(this._doc,i);if(!l)throw new Error(`Unsupported event target ${l} for event ${n}`);return this.addEventListener(l,n,s)}}let iu=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(n){const s=new Set;n.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),s.add(l))}),this.onStylesAdded(s)}onStylesAdded(n){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})(),an=(()=>{class r extends iu{constructor(n){super(),this._doc=n,this._hostNodes=new Map,this._hostNodes.set(n.head,[])}_addStylesToHost(n,s,l){n.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,l.push(s.appendChild(g))})}addHost(n){const s=[];this._addStylesToHost(this._stylesSet,n,s),this._hostNodes.set(n,s)}removeHost(n){const s=this._hostNodes.get(n);s&&s.forEach(Ul),this._hostNodes.delete(n)}onStylesAdded(n){this._hostNodes.forEach((s,l)=>{this._addStylesToHost(n,l,s)})}ngOnDestroy(){this._hostNodes.forEach(n=>n.forEach(Ul))}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(oe))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();function Ul(r){z().remove(r)}const gs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ar=/%COMP%/g;function Vn(r,i,n){for(let s=0;s<i.length;s++){let l=i[s];Array.isArray(l)?Vn(r,l,n):(l=l.replace(ar,r),n.push(l))}return n}function Jr(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let Ds=(()=>{class r{constructor(n,s,l){this.eventManager=n,this.sharedStylesHost=s,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new lr(n)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;switch(s.encapsulation){case u.ifc.Emulated:{let l=this.rendererByCompId.get(s.id);return l||(l=new ou(this.eventManager,this.sharedStylesHost,s,this.appId),this.rendererByCompId.set(s.id,l)),l.applyToHost(n),l}case 1:case u.ifc.ShadowDom:return new au(this.eventManager,this.sharedStylesHost,n,s);default:if(!this.rendererByCompId.has(s.id)){const l=Vn(s.id,s.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(s.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(Fe),u.LFG(an),u.LFG(u.AFp))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();class lr{constructor(i){this.eventManager=i,this.data=Object.create(null)}destroy(){}createElement(i,n){return n?document.createElementNS(gs[n]||n,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,n){i.appendChild(n)}insertBefore(i,n,s){i&&i.insertBefore(n,s)}removeChild(i,n){i&&i.removeChild(n)}selectRootElement(i,n){let s="string"==typeof i?document.querySelector(i):i;if(!s)throw new Error(`The selector "${i}" did not match any elements`);return n||(s.textContent=""),s}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,n,s,l){if(l){n=l+":"+n;const d=gs[l];d?i.setAttributeNS(d,n,s):i.setAttribute(n,s)}else i.setAttribute(n,s)}removeAttribute(i,n,s){if(s){const l=gs[s];l?i.removeAttributeNS(l,n):i.removeAttribute(`${s}:${n}`)}else i.removeAttribute(n)}addClass(i,n){i.classList.add(n)}removeClass(i,n){i.classList.remove(n)}setStyle(i,n,s,l){l&(u.JOm.DashCase|u.JOm.Important)?i.style.setProperty(n,s,l&u.JOm.Important?"important":""):i.style[n]=s}removeStyle(i,n,s){s&u.JOm.DashCase?i.style.removeProperty(n):i.style[n]=""}setProperty(i,n,s){i[n]=s}setValue(i,n){i.nodeValue=n}listen(i,n,s){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,n,Jr(s)):this.eventManager.addEventListener(i,n,Jr(s))}}class ou extends lr{constructor(i,n,s,l){super(i),this.component=s;const d=Vn(l+"-"+s.id,s.styles,[]);n.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(ar,l+"-"+s.id),this.hostAttr=function(r){return"_nghost-%COMP%".replace(ar,r)}(l+"-"+s.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,n){const s=super.createElement(i,n);return super.setAttribute(s,this.contentAttr,""),s}}class au extends lr{constructor(i,n,s,l){super(i),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Vn(l.id,l.styles,[]);for(let g=0;g<d.length;g++){const v=document.createElement("style");v.textContent=d[g],this.shadowRoot.appendChild(v)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,n){return super.appendChild(this.nodeOrShadowRoot(i),n)}insertBefore(i,n,s){return super.insertBefore(this.nodeOrShadowRoot(i),n,s)}removeChild(i,n){return super.removeChild(this.nodeOrShadowRoot(i),n)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let qa=(()=>{class r extends Vt{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,l){return n.addEventListener(s,l,!1),()=>this.removeEventListener(n,s,l)}removeEventListener(n,s,l){return n.removeEventListener(s,l)}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(oe))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();const Zs=["alt","control","meta","shift"],tg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Di={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Rm={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let km=(()=>{class r extends Vt{constructor(n){super(n)}supports(n){return null!=r.parseEventName(n)}addEventListener(n,s,l){const d=r.parseEventName(s),g=r.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>z().onAndCancel(n,d.domEventName,g))}static parseEventName(n){const s=n.toLowerCase().split("."),l=s.shift();if(0===s.length||"keydown"!==l&&"keyup"!==l)return null;const d=r._normalizeKey(s.pop());let g="";if(Zs.forEach(C=>{const T=s.indexOf(C);T>-1&&(s.splice(T,1),g+=C+".")}),g+=d,0!=s.length||0===d.length)return null;const v={};return v.domEventName=l,v.fullKey=g,v}static getEventFullKey(n){let s="",l=function(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&Di.hasOwnProperty(i)&&(i=Di[i]))}return tg[i]||i}(n);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),Zs.forEach(d=>{d!=l&&Rm[d](n)&&(s+=d+".")}),s+=l,s}static eventCallback(n,s,l){return d=>{r.getEventFullKey(d)===n&&l.runGuarded(()=>s(d))}}static _normalizeKey(n){switch(n){case"esc":return"escape";default:return n}}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(oe))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();const $a=(0,u.eFA)(u._c5,"browser",[{provide:u.Lbi,useValue:"browser"},{provide:u.g9A,useValue:function(){ia.makeCurrent(),Qa.init()},multi:!0},{provide:oe,useFactory:function(){return(0,u.RDi)(document),document},deps:[]}]),uu=[[],{provide:u.zSh,useValue:"root"},{provide:u.qLn,useFactory:function(){return new u.qLn},deps:[]},{provide:_o,useClass:qa,multi:!0,deps:[oe,u.R0b,u.Lbi]},{provide:_o,useClass:km,multi:!0,deps:[oe]},[],{provide:Ds,useClass:Ds,deps:[Fe,an,u.AFp]},{provide:u.FYo,useExisting:Ds},{provide:iu,useExisting:an},{provide:an,useClass:an,deps:[oe]},{provide:u.dDg,useClass:u.dDg,deps:[u.R0b]},{provide:Fe,useClass:Fe,deps:[_o,u.R0b]},{provide:$c,useClass:Pl,deps:[]},[]];let du=(()=>{class r{constructor(n){if(n)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(n){return{ngModule:r,providers:[{provide:u.AFp,useValue:n.appId},{provide:ra,useExisting:u.AFp},yi]}}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(r,12))},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:uu,imports:[Cs,u.hGG]}),r})();"undefined"!=typeof window&&window;var cn=V(9765),Zl=V(7771),ur=V(5319),bo=V(9746),ig=V(7971),Yd=V(8858);class Wd extends cn.xQ{constructor(i=Number.POSITIVE_INFINITY,n=Number.POSITIVE_INFINITY,s){super(),this.scheduler=s,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=i<1?1:i,this._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(i){if(!this.isStopped){const n=this._events;n.push(i),n.length>this._bufferSize&&n.shift()}super.next(i)}nextTimeWindow(i){this.isStopped||(this._events.push(new Fm(this._getNow(),i)),this._trimBufferThenGetEvents()),super.next(i)}_subscribe(i){const n=this._infiniteTimeWindow,s=n?this._events:this._trimBufferThenGetEvents(),l=this.scheduler,d=s.length;let g;if(this.closed)throw new ig.N;if(this.isStopped||this.hasError?g=ur.w.EMPTY:(this.observers.push(i),g=new Yd.W(this,i)),l&&i.add(i=new bo.ht(i,l)),n)for(let v=0;v<d&&!i.closed;v++)i.next(s[v]);else for(let v=0;v<d&&!i.closed;v++)i.next(s[v].value);return this.hasError?i.error(this.thrownError):this.isStopped&&i.complete(),g}_getNow(){return(this.scheduler||Zl.c).now()}_trimBufferThenGetEvents(){const i=this._getNow(),n=this._bufferSize,s=this._windowTime,l=this._events,d=l.length;let g=0;for(;g<d&&!(i-l[g].time<s);)g++;return d>n&&(g=Math.max(g,d-n)),g>0&&l.splice(0,g),l}}class Fm{constructor(i,n){this.time=i,this.value=n}}var Kl=V(6682),Gt=V(8002),Wn=V(4402),li=V(5345);function Si(r,i){return"function"==typeof i?n=>n.pipe(Si((s,l)=>(0,Wn.D)(r(s,l)).pipe((0,Gt.U)((d,g)=>i(s,d,l,g))))):n=>n.lift(new Om(r))}class Om{constructor(i){this.project=i}call(i,n){return n.subscribe(new Zd(i,this.project))}}class Zd extends li.Ds{constructor(i,n){super(i),this.project=n,this.index=0}_next(i){let n;const s=this.index++;try{n=this.project(i,s)}catch(l){return void this.destination.error(l)}this._innerSub(n)}_innerSub(i){const n=this.innerSubscription;n&&n.unsubscribe();const s=new li.IY(this),l=this.destination;l.add(s),this.innerSubscription=(0,li.ft)(i,s),this.innerSubscription!==s&&l.add(this.innerSubscription)}_complete(){const{innerSubscription:i}=this;(!i||i.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(i){this.destination.next(i)}}const Eo={schedule(r,i){const n=setTimeout(r,i);return()=>clearTimeout(n)},scheduleBeforeRender(r){if("undefined"==typeof window)return Eo.schedule(r,0);if(void 0===window.requestAnimationFrame)return Eo.schedule(r,16);const i=window.requestAnimationFrame(r);return()=>window.cancelAnimationFrame(i)}};let pa;function H_(r,i,n){let s=n;return function(r){return!!r&&r.nodeType===Node.ELEMENT_NODE}(r)&&i.some((l,d)=>!("*"===l||!function(r,i){if(!pa){const n=Element.prototype;pa=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}return r.nodeType===Node.ELEMENT_NODE&&pa.call(r,i)}(r,l)||(s=d,0))),s}class j_{constructor(i,n){this.componentFactory=n.get(u._Vd).resolveComponentFactory(i)}create(i){return new Sn(this.componentFactory,i)}}class Sn{constructor(i,n){this.componentFactory=i,this.injector=n,this.eventEmitters=new Wd(1),this.events=this.eventEmitters.pipe(Si(s=>(0,Kl.T)(...s))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:s})=>s)),this.ngZone=this.injector.get(u.R0b),this.elementZone="undefined"==typeof Zone?null:this.ngZone.run(()=>Zone.current)}connect(i){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(i)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=Eo.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(i){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(i):this.componentRef.instance[i])}setInputValue(i,n){this.runInZone(()=>{null!==this.componentRef?function(r,i){return r===i||r!=r&&i!=i}(n,this.getInputValue(i))&&(void 0!==n||!this.unchangedInputs.has(i))||(this.recordInputChange(i,n),this.unchangedInputs.delete(i),this.hasInputChanges=!0,this.componentRef.instance[i]=n,this.scheduleDetectChanges()):this.initialInputValues.set(i,n)})}initializeComponent(i){const n=u.zs3.create({providers:[],parent:this.injector}),s=function(r,i){const n=r.childNodes,s=i.map(()=>[]);let l=-1;i.some((d,g)=>"*"===d&&(l=g,!0));for(let d=0,g=n.length;d<g;++d){const v=n[d],C=H_(v,i,l);-1!==C&&s[C].push(v)}return s}(i,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(n,s,i),this.viewChangeDetectorRef=this.componentRef.injector.get(u.sBO),this.implementsOnChanges="function"==typeof this.componentRef.instance.ngOnChanges,this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(u.z2F).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:i})=>{this.initialInputValues.has(i)&&this.setInputValue(i,this.initialInputValues.get(i))}),this.initialInputValues.clear()}initializeOutputs(i){const n=this.componentFactory.outputs.map(({propName:s,templateName:l})=>i.instance[s].pipe((0,Gt.U)(g=>({name:l,value:g}))));this.eventEmitters.next(n)}callNgOnChanges(i){if(!this.implementsOnChanges||null===this.inputChanges)return;const n=this.inputChanges;this.inputChanges=null,i.instance.ngOnChanges(n)}markViewForCheck(i){this.hasInputChanges&&(this.hasInputChanges=!1,i.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Eo.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(i,n){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const s=this.inputChanges[i];if(s)return void(s.currentValue=n);const l=this.unchangedInputs.has(i),d=l?void 0:this.getInputValue(i);this.inputChanges[i]=new u.WD2(d,n,l)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(i){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(i):i()}}class uC extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}function ag(r,i){const n=function(r,i){return i.get(u._Vd).resolveComponentFactory(r).inputs}(r,i.injector),s=i.strategyFactory||new j_(r,i.injector),l=function(r){const i={};return r.forEach(({propName:n,templateName:s})=>{i[function(r){return r.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)}(s)]=n}),i}(n);class d extends uC{constructor(v){super(),this.injector=v}get ngElementStrategy(){if(!this._ngElementStrategy){const v=this._ngElementStrategy=s.create(this.injector||i.injector);n.forEach(({propName:C})=>{if(!this.hasOwnProperty(C))return;const T=this[C];delete this[C],v.setInputValue(C,T)})}return this._ngElementStrategy}attributeChangedCallback(v,C,T,R){this.ngElementStrategy.setInputValue(l[v],T)}connectedCallback(){let v=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),v=!0),this.ngElementStrategy.connect(this),v||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(v=>{const C=function(r,i,n){if("function"!=typeof CustomEvent){const d=r.createEvent("CustomEvent");return d.initCustomEvent(i,!1,!1,n),d}return new CustomEvent(i,{bubbles:!1,cancelable:!1,detail:n})}(this.ownerDocument,v.name,v.value);this.dispatchEvent(C)})}}return d.observedAttributes=Object.keys(l),n.forEach(({propName:g})=>{Object.defineProperty(d.prototype,g,{get(){return this.ngElementStrategy.getInputValue(g)},set(v){this.ngElementStrategy.setInputValue(g,v)},configurable:!0,enumerable:!0})}),d}var dr=V(8891),$l=V(9796),Nm=V(1555);function pu(r,i){return new dr.y(n=>{const s=r.length;if(0===s)return void n.complete();const l=new Array(s);let d=0,g=0;for(let v=0;v<s;v++){const C=(0,Wn.D)(r[v]);let T=!1;n.add(C.subscribe({next:R=>{T||(T=!0,g++),l[v]=R},error:R=>n.error(R),complete:()=>{d++,(d===s||!T)&&(g===s&&n.next(i?i.reduce((R,N,U)=>(R[N]=l[U],R),{}):l),n.complete())}}))}})}let z_=(()=>{class r{constructor(n,s){this._renderer=n,this._elementRef=s,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(n,s){this._renderer.setProperty(this._elementRef.nativeElement,n,s)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return r.\u0275fac=function(n){return new(n||r)(u.Y36(u.Qsj),u.Y36(u.SBq))},r.\u0275dir=u.lG2({type:r}),r})(),ma=(()=>{class r extends z_{}return r.\u0275fac=function(){let i;return function(s){return(i||(i=u.n5z(r)))(s||r)}}(),r.\u0275dir=u.lG2({type:r,features:[u.qOj]}),r})();const $r=new u.OlP("NgValueAccessor"),tl={provide:$r,useExisting:(0,u.Gpc)(()=>Pm),multi:!0};let Pm=(()=>{class r extends ma{writeValue(n){this.setProperty("checked",n)}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=u.n5z(r)))(s||r)}}(),r.\u0275dir=u.lG2({type:r,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,s){1&n&&u.NdJ("change",function(d){return s.onChange(d.target.checked)})("blur",function(){return s.onTouched()})},features:[u._Bn([tl]),u.qOj]}),r})();const Zn={provide:$r,useExisting:(0,u.Gpc)(()=>mu),multi:!0},Ks=new u.OlP("CompositionEventMode");let mu=(()=>{class r extends z_{constructor(n,s,l){super(n,s),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const r=z()?z().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return r.\u0275fac=function(n){return new(n||r)(u.Y36(u.Qsj),u.Y36(u.SBq),u.Y36(Ks,8))},r.\u0275dir=u.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,s){1&n&&u.NdJ("input",function(d){return s._handleInput(d.target.value)})("blur",function(){return s.onTouched()})("compositionstart",function(){return s._compositionStart()})("compositionend",function(d){return s._compositionEnd(d.target.value)})},features:[u._Bn([Zn]),u.qOj]}),r})();function Aa(r){return null==r||0===r.length}function Xr(r){return null!=r&&"number"==typeof r.length}const _n=new u.OlP("NgValidators"),es=new u.OlP("NgAsyncValidators"),ya=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ti{static min(i){return function(r){return i=>{if(Aa(i.value)||Aa(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n<r?{min:{min:r,actual:i.value}}:null}}(i)}static max(i){return function(r){return i=>{if(Aa(i.value)||Aa(r))return null;const n=parseFloat(i.value);return!isNaN(n)&&n>r?{max:{max:r,actual:i.value}}:null}}(i)}static required(i){return Lm(i)}static requiredTrue(i){return function(r){return!0===r.value?null:{required:!0}}(i)}static email(i){return function(r){return Aa(r.value)||ya.test(r.value)?null:{email:!0}}(i)}static minLength(i){return function(r){return i=>Aa(i.value)||!Xr(i.value)?null:i.value.length<r?{minlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static maxLength(i){return function(r){return i=>Xr(i.value)&&i.value.length>r?{maxlength:{requiredLength:r,actualLength:i.value.length}}:null}(i)}static pattern(i){return function(r){if(!r)return hr;let i,n;return"string"==typeof r?(n="","^"!==r.charAt(0)&&(n+="^"),n+=r,"$"!==r.charAt(r.length-1)&&(n+="$"),i=new RegExp(n)):(n=r.toString(),i=r),s=>{if(Aa(s.value))return null;const l=s.value;return i.test(l)?null:{pattern:{requiredPattern:n,actualValue:l}}}}(i)}static nullValidator(i){return null}static compose(i){return nh(i)}static composeAsync(i){return ih(i)}}function Lm(r){return Aa(r.value)?{required:!0}:null}function hr(r){return null}function Y_(r){return null!=r}function ug(r){const i=(0,u.QGY)(r)?(0,Wn.D)(r):r;return(0,u.CqO)(i),i}function eh(r){let i={};return r.forEach(n=>{i=null!=n?Object.assign(Object.assign({},i),n):i}),0===Object.keys(i).length?null:i}function th(r,i){return i.map(n=>n(r))}function Bm(r){return r.map(i=>function(r){return!r.validate}(i)?i:n=>i.validate(n))}function nh(r){if(!r)return null;const i=r.filter(Y_);return 0==i.length?null:function(n){return eh(th(n,i))}}function _a(r){return null!=r?nh(Bm(r)):null}function ih(r){if(!r)return null;const i=r.filter(Y_);return 0==i.length?null:function(n){return function(...r){if(1===r.length){const i=r[0];if((0,$l.k)(i))return pu(i,null);if((0,Nm.K)(i)&&Object.getPrototypeOf(i)===Object.prototype){const n=Object.keys(i);return pu(n.map(s=>i[s]),n)}}if("function"==typeof r[r.length-1]){const i=r.pop();return pu(r=1===r.length&&(0,$l.k)(r[0])?r[0]:r,null).pipe((0,Gt.U)(n=>i(...n)))}return pu(r,null)}(th(n,i).map(ug)).pipe((0,Gt.U)(eh))}}function Xl(r){return null!=r?ih(Bm(r)):null}function hg(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function ec(r){return r._rawValidators}function rh(r){return r._rawAsyncValidators}function Js(r){return r?Array.isArray(r)?r:[r]:[]}function sh(r,i){return Array.isArray(r)?r.includes(i):r===i}function Vm(r,i){const n=Js(i);return Js(r).forEach(l=>{sh(n,l)||n.push(l)}),n}function oh(r,i){return Js(i).filter(n=>!sh(r,n))}let ah=(()=>{class r{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=_a(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=Xl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n){this.control&&this.control.reset(n)}hasError(n,s){return!!this.control&&this.control.hasError(n,s)}getError(n,s){return this.control?this.control.getError(n,s):null}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=u.lG2({type:r}),r})(),zi=(()=>{class r extends ah{get formDirective(){return null}get path(){return null}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=u.n5z(r)))(s||r)}}(),r.\u0275dir=u.lG2({type:r,features:[u.qOj]}),r})();class kr extends ah{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class va{constructor(i){this._cd=i}is(i){var n,s,l;return"submitted"===i?!!(null===(n=this._cd)||void 0===n?void 0:n.submitted):!!(null===(l=null===(s=this._cd)||void 0===s?void 0:s.control)||void 0===l?void 0:l[i])}}let Un=(()=>{class r extends va{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(u.Y36(kr,2))},r.\u0275dir=u.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,s){2&n&&u.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))},features:[u.qOj]}),r})(),lh=(()=>{class r extends va{constructor(n){super(n)}}return r.\u0275fac=function(n){return new(n||r)(u.Y36(zi,10))},r.\u0275dir=u.lG2({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,s){2&n&&u.ekj("ng-untouched",s.is("untouched"))("ng-touched",s.is("touched"))("ng-pristine",s.is("pristine"))("ng-dirty",s.is("dirty"))("ng-valid",s.is("valid"))("ng-invalid",s.is("invalid"))("ng-pending",s.is("pending"))("ng-submitted",s.is("submitted"))},features:[u.qOj]}),r})();function Xs(r,i){gg(r,i),i.valueAccessor.writeValue(r.value),function(r,i){i.valueAccessor.registerOnChange(n=>{r._pendingValue=n,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&J_(r,i)})}(r,i),function(r,i){const n=(s,l)=>{i.valueAccessor.writeValue(s),l&&i.viewToModelUpdate(s)};r.registerOnChange(n),i._registerOnDestroy(()=>{r._unregisterOnChange(n)})}(r,i),function(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&J_(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function(r,i){if(i.valueAccessor.setDisabledState){const n=s=>{i.valueAccessor.setDisabledState(s)};r.registerOnDisabledChange(n),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(n)})}}(r,i)}function rl(r,i,n=!0){const s=()=>{};i.valueAccessor&&(i.valueAccessor.registerOnChange(s),i.valueAccessor.registerOnTouched(s)),xo(r,i),r&&(i._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function wu(r,i){r.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(i)})}function gg(r,i){const n=ec(r);null!==i.validator?r.setValidators(hg(n,i.validator)):"function"==typeof n&&r.setValidators([n]);const s=rh(r);null!==i.asyncValidator?r.setAsyncValidators(hg(s,i.asyncValidator)):"function"==typeof s&&r.setAsyncValidators([s]);const l=()=>r.updateValueAndValidity();wu(i._rawValidators,l),wu(i._rawAsyncValidators,l)}function xo(r,i){let n=!1;if(null!==r){if(null!==i.validator){const l=ec(r);if(Array.isArray(l)&&l.length>0){const d=l.filter(g=>g!==i.validator);d.length!==l.length&&(n=!0,r.setValidators(d))}}if(null!==i.asyncValidator){const l=rh(r);if(Array.isArray(l)&&l.length>0){const d=l.filter(g=>g!==i.asyncValidator);d.length!==l.length&&(n=!0,r.setAsyncValidators(d))}}}const s=()=>{};return wu(i._rawValidators,s),wu(i._rawAsyncValidators,s),n}function J_(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function gh(r,i){const n=r.indexOf(i);n>-1&&r.splice(n,1)}const nc="VALID",sl="INVALID",eo="PENDING",ic="DISABLED";function ph(r){return(yg(r)?r.validators:r)||null}function to(r){return Array.isArray(r)?_a(r):r||null}function Ag(r,i){return(yg(i)?i.asyncValidators:r)||null}function jm(r){return Array.isArray(r)?Xl(r):r||null}function yg(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}class _g{constructor(i,n){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=n,this._composedValidatorFn=to(this._rawValidators),this._composedAsyncValidatorFn=jm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===nc}get invalid(){return this.status===sl}get pending(){return this.status==eo}get disabled(){return this.status===ic}get enabled(){return this.status!==ic}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=to(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=jm(i)}addValidators(i){this.setValidators(Vm(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Vm(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(oh(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(oh(i,this._rawAsyncValidators))}hasValidator(i){return sh(this._rawValidators,i)}hasAsyncValidator(i){return sh(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=eo,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=ic,this.errors=null,this._forEachChild(s=>{s.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!0))}enable(i={}){const n=this._parentMarkedDirty(i.onlySelf);this.status=nc,this._forEachChild(s=>{s.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:n})),this._onDisabledChange.forEach(s=>s(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===nc||this.status===eo)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ic:nc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=eo,this._hasOwnPendingAsyncValidator=!0;const n=ug(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(s=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(s,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,n={}){this.errors=i,this._updateControlsErrors(!1!==n.emitEvent)}get(i){return function(r,i,n){if(null==i||(Array.isArray(i)||(i=i.split(".")),Array.isArray(i)&&0===i.length))return null;let s=r;return i.forEach(l=>{s=s instanceof ts?s.controls.hasOwnProperty(l)?s.controls[l]:null:s instanceof ol&&s.at(l)||null}),s}(this,i)}getError(i,n){const s=n?this.get(n):this;return s&&s.errors?s.errors[i]:null}hasError(i,n){return!!this.getError(i,n)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new u.vpe,this.statusChanges=new u.vpe}_calculateStatus(){return this._allControlsDisabled()?ic:this.errors?sl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(eo)?eo:this._anyControlsHaveStatus(sl)?sl:nc}_anyControlsHaveStatus(i){return this._anyControls(n=>n.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){yg(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class rc extends _g{constructor(i=null,n,s){super(ph(n),Ag(s,n)),this._onChange=[],this._applyFormState(i),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(i,n={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(s=>s(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(i,n={}){this.setValue(i,n)}reset(i=null,n={}){this._applyFormState(i),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){gh(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){gh(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class ts extends _g{constructor(i,n,s){super(ph(n),Ag(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,n){return this.controls[i]?this.controls[i]:(this.controls[i]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(i,n,s={}){this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}removeControl(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],n&&this.registerControl(i,n),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,n={}){this._checkAllValuesPresent(i),Object.keys(i).forEach(s=>{this._throwIfControlMissing(s),this.controls[s].setValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(Object.keys(i).forEach(s=>{this.controls[s]&&this.controls[s].patchValue(i[s],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i={},n={}){this._forEachChild((s,l)=>{s.reset(i[l],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(i,n,s)=>(i[s]=n instanceof rc?n.value:n.getRawValue(),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(n,s)=>!!s._syncPendingControls()||n);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[i])throw new Error(`Cannot find form control with name: ${i}.`)}_forEachChild(i){Object.keys(this.controls).forEach(n=>{const s=this.controls[n];s&&i(s,n)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const n of Object.keys(this.controls)){const s=this.controls[n];if(this.contains(n)&&i(s))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,n,s)=>((n.enabled||this.disabled)&&(i[s]=n.value),i))}_reduceChildren(i,n){let s=i;return this._forEachChild((l,d)=>{s=n(s,l,d)}),s}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control with name: '${s}'.`)})}}class ol extends _g{constructor(i,n,s){super(ph(n),Ag(s,n)),this.controls=i,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,n={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(i,n,s={}){this.controls.splice(i,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:s.emitEvent})}removeAt(i,n={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(i,n,s={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:s.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,n={}){this._checkAllValuesPresent(i),i.forEach((s,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(i,n={}){null!=i&&(i.forEach((s,l)=>{this.at(l)&&this.at(l).patchValue(s,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(i=[],n={}){this._forEachChild((s,l)=>{s.reset(i[l],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(i=>i instanceof rc?i.value:i.getRawValue())}clear(i={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((n,s)=>!!s._syncPendingControls()||n,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_throwIfControlMissing(i){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(i))throw new Error(`Cannot find form control at index ${i}`)}_forEachChild(i){this.controls.forEach((n,s)=>{i(n,s)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(n=>n.enabled&&i(n))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_checkAllValuesPresent(i){this._forEachChild((n,s)=>{if(void 0===i[s])throw new Error(`Must supply a value for form control at index: ${s}.`)})}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}let Ms=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=u.lG2({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),r})();const xu={provide:$r,useExisting:(0,u.Gpc)(()=>Iu),multi:!0};let Iu=(()=>{class r extends ma{writeValue(n){this.setProperty("value",null==n?"":n)}registerOnChange(n){this.onChange=s=>{n(""==s?null:parseFloat(s))}}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=u.n5z(r)))(s||r)}}(),r.\u0275dir=u.lG2({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,s){1&n&&u.NdJ("input",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},features:[u._Bn([xu]),u.qOj]}),r})(),nv=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({}),r})();const Ea=new u.OlP("NgModelWithFormControlWarning"),Km={provide:zi,useExisting:(0,u.Gpc)(()=>ac)};let ac=(()=>{class r extends zi{constructor(n,s){super(),this.validators=n,this.asyncValidators=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new u.vpe,this._setValidators(n),this._setAsyncValidators(s)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(xo(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){const s=this.form.get(n.path);return Xs(s,n),s.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),s}getControl(n){return this.form.get(n.path)}removeControl(n){rl(n.control||null,n,!1),gh(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,s){this.form.get(n.path).setValue(s)}onSubmit(n){return this.submitted=!0,function(r,i){r._syncPendingControls(),i.forEach(n=>{const s=n.control;"submit"===s.updateOn&&s._pendingChange&&(n.viewToModelUpdate(s._pendingValue),s._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(n),!1}onReset(){this.resetForm()}resetForm(n){this.form.reset(n),this.submitted=!1}_updateDomValue(){this.directives.forEach(n=>{const s=n.control,l=this.form.get(n.path);s!==l&&(rl(s||null,n),l instanceof rc&&(Xs(l,n),n.control=l))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){const s=this.form.get(n.path);(function(r,i){gg(r,i)})(s,n),s.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){const s=this.form.get(n.path);s&&function(r,i){return xo(r,i)}(s,n)&&s.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gg(this.form,this),this._oldForm&&xo(this._oldForm,this)}_checkFormPresent(){}}return r.\u0275fac=function(n){return new(n||r)(u.Y36(_n,10),u.Y36(es,10))},r.\u0275dir=u.lG2({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,s){1&n&&u.NdJ("submit",function(d){return s.onSubmit(d)})("reset",function(){return s.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[u._Bn([Km]),u.qOj,u.TTD]}),r})();const Jm={provide:kr,useExisting:(0,u.Gpc)(()=>lc)};let lc=(()=>{class r extends kr{constructor(n,s,l,d,g){super(),this._ngModelWarningConfig=g,this._added=!1,this.update=new u.vpe,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(s),this._setAsyncValidators(l),this.valueAccessor=function(r,i){if(!i)return null;let n,s,l;return Array.isArray(i),i.forEach(d=>{d.constructor===mu?n=d:function(r){return Object.getPrototypeOf(r.constructor)===ma}(d)?s=d:l=d}),l||s||n||null}(0,d)}set isDisabled(n){}ngOnChanges(n){this._added||this._setUpControl(),function(r,i){if(!r.hasOwnProperty("model"))return!1;const n=r.model;return!!n.isFirstChange()||!Object.is(i,n.currentValue)}(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return function(r,i){return[...i.path,r]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return r.\u0275fac=function(n){return new(n||r)(u.Y36(zi,13),u.Y36(_n,10),u.Y36(es,10),u.Y36($r,10),u.Y36(Ea,8))},r.\u0275dir=u.lG2({type:r,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[u._Bn([Jm]),u.qOj,u.TTD]}),r._ngModelWarningSentOnce=!1,r})();const ov={provide:$r,useExisting:(0,u.Gpc)(()=>_h),multi:!0};function Tn(r,i){return null==r?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${r}: ${i}`.slice(0,50))}let _h=(()=>{class r extends ma{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;const s=this._getOptionId(n);null==s&&this.setProperty("selectedIndex",-1);const l=Tn(s,n);this.setProperty("value",l)}registerOnChange(n){this.onChange=s=>{this.value=this._getOptionValue(s),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s),n))return s;return null}_getOptionValue(n){const s=function(r){return r.split(":")[0]}(n);return this._optionMap.has(s)?this._optionMap.get(s):n}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=u.n5z(r)))(s||r)}}(),r.\u0275dir=u.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(n,s){1&n&&u.NdJ("change",function(d){return s.onChange(d.target.value)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([ov]),u.qOj]}),r})(),Du=(()=>{class r{constructor(n,s,l){this._element=n,this._renderer=s,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(n){null!=this._select&&(this._select._optionMap.set(this.id,n),this._setElementValue(Tn(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(n){return new(n||r)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(_h,9))},r.\u0275dir=u.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const Su={provide:$r,useExisting:(0,u.Gpc)(()=>Tu),multi:!0};function vh(r,i){return null==r?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${r}: ${i}`.slice(0,50))}let Tu=(()=>{class r extends ma{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){let s;if(this.value=n,Array.isArray(n)){const l=n.map(d=>this._getOptionId(d));s=(d,g)=>{d._setSelected(l.indexOf(g.toString())>-1)}}else s=(l,d)=>{l._setSelected(!1)};this._optionMap.forEach(s)}registerOnChange(n){this.onChange=s=>{const l=[];if(void 0!==s.selectedOptions){const d=s.selectedOptions;for(let g=0;g<d.length;g++){const v=d.item(g),C=this._getOptionValue(v.value);l.push(C)}}else{const d=s.options;for(let g=0;g<d.length;g++){const v=d.item(g);if(v.selected){const C=this._getOptionValue(v.value);l.push(C)}}}this.value=l,n(l)}}_registerOption(n){const s=(this._idCounter++).toString();return this._optionMap.set(s,n),s}_getOptionId(n){for(const s of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(s)._value,n))return s;return null}_getOptionValue(n){const s=function(r){return r.split(":")[0]}(n);return this._optionMap.has(s)?this._optionMap.get(s)._value:n}}return r.\u0275fac=function(){let i;return function(s){return(i||(i=u.n5z(r)))(s||r)}}(),r.\u0275dir=u.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(n,s){1&n&&u.NdJ("change",function(d){return s.onChange(d.target)})("blur",function(){return s.onTouched()})},inputs:{compareWith:"compareWith"},features:[u._Bn([Su]),u.qOj]}),r})(),Fr=(()=>{class r{constructor(n,s,l){this._element=n,this._renderer=s,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){null!=this._select&&(this._value=n,this._setElementValue(vh(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(vh(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(n){return new(n||r)(u.Y36(u.SBq),u.Y36(u.Qsj),u.Y36(Tu,9))},r.\u0275dir=u.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const xg={provide:_n,useExisting:(0,u.Gpc)(()=>fr),multi:!0};let fr=(()=>{class r{constructor(){this._required=!1}get required(){return this._required}set required(n){this._required=null!=n&&!1!==n&&"false"!=`${n}`,this._onChange&&this._onChange()}validate(n){return this.required?Lm(n):null}registerOnValidatorChange(n){this._onChange=n}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275dir=u.lG2({type:r,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(n,s){2&n&&u.uIk("required",s.required?"":null)},inputs:{required:"required"},features:[u._Bn([xg])]}),r})(),Nu=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[nv]]}),r})(),Dg=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[Nu]}),r})(),Ch=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:Ea,useValue:n.warnOnNgModelWithFormControl}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[Nu]}),r})(),iA=(()=>{class r{group(n,s=null){const l=this._reduceControls(n);let v,d=null,g=null;return null!=s&&(function(r){return void 0!==r.asyncValidators||void 0!==r.validators||void 0!==r.updateOn}(s)?(d=null!=s.validators?s.validators:null,g=null!=s.asyncValidators?s.asyncValidators:null,v=null!=s.updateOn?s.updateOn:void 0):(d=null!=s.validator?s.validator:null,g=null!=s.asyncValidator?s.asyncValidator:null)),new ts(l,{asyncValidators:g,updateOn:v,validators:d})}control(n,s,l){return new rc(n,s,l)}array(n,s,l){const d=n.map(g=>this._createControl(g));return new ol(d,s,l)}_reduceControls(n){const s={};return Object.keys(n).forEach(l=>{s[l]=this._createControl(n[l])}),s}_createControl(n){return n instanceof rc||n instanceof ts||n instanceof ol?n:Array.isArray(n)?this.control(n[0],n.length>1?n[1]:null,n.length>2?n[2]:null):this.control(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=(0,u.Yz7)({factory:function(){return new r},token:r,providedIn:Ch}),r})();var Mi=V(8939);const E_firebase={apiKey:"AIzaSyDLiOmR0QbNQNURZ5sOF9x1Yz63vYyuWhQ",authDomain:"paginas-clientes-4fe76.firebaseapp.com",projectId:"paginas-clientes-4fe76",storageBucket:"paginas-clientes-4fe76.appspot.com",messagingSenderId:"1081540743431",appId:"1:1081540743431:web:dfca2827b84c7bd8c2b5a2",measurementId:"G-MQ6QHZXQDR"};var m=V(5917),_=V(7393),x=V(3637);class L{constructor(i,n){this.dueTime=i,this.scheduler=n}call(i,n){return n.subscribe(new te(i,this.dueTime,this.scheduler))}}class te extends _.L{constructor(i,n,s){super(i),this.dueTime=n,this.scheduler=s,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(i){this.clearDebounce(),this.lastValue=i,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(xe,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:i}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(i)}}clearDebounce(){const i=this.debouncedSubscription;null!==i&&(this.remove(i),i.unsubscribe(),this.debouncedSubscription=null)}}function xe(r){r.debouncedNext()}var ke=V(9126),nt=V(4486),ce=V(8239),dt=V(5452),st=V(4685),ns=V(6034),As=(()=>{return(r=As||(As={}))[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT",As;var r})();const xh="firebasestorage.googleapis.com",Pu="storageBucket";class Wt extends st.ZR{constructor(i,n){super(Tg(i),`Firebase Storage: ${n} (${Tg(i)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Wt.prototype)}_codeEquals(i){return Tg(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Tg(r){return"storage/"+r}function Mg(){return new Wt("unknown","An unknown error occurred, please check the error payload for server response.")}function cv(){return new Wt("canceled","User canceled the upload/download.")}function sA(){return new Wt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function CC(){return new Wt("no-download-url","The given file does not have any download URLs.")}function Fg(r){return new Wt("invalid-argument",r)}function Bu(){return new Wt("app-deleted","The Firebase app was deleted.")}function oA(r){return new Wt("invalid-root-operation","The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Dh(r,i){return new Wt("invalid-format","String does not match format '"+r+"': "+i)}function aA(r){throw new Wt("internal-error","Internal error: "+r)}class dv{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=As.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=As.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=As.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,n,s,l){if(this.sent_)throw aA("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,i,!0),void 0!==l)for(const d in l)l.hasOwnProperty(d)&&this.xhr_.setRequestHeader(d,l[d].toString());return void 0!==s?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw aA("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw aA("cannot .getStatus() before sending");try{return this.xhr_.status}catch(i){return-1}}getResponseText(){if(!this.sent_)throw aA("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",i)}}class cS{createConnection(){return new dv}}class Or{constructor(i,n){this.bucket=i,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,n){let s;try{s=Or.makeFromUrl(i,n)}catch(l){return new Or(i,"")}if(""===s.path)return s;throw new Wt("invalid-default-bucket","Invalid default bucket '"+i+"'.")}static makeFromUrl(i,n){let s=null;const l="([A-Za-z0-9.\\-_]+)",v=new RegExp("^gs://"+l+"(/(.*))?$","i");function T(at){at.path_=decodeURIComponent(at.path)}const N=n.replace(/[.]/g,"\\."),ot=[{regex:v,indices:{bucket:1,path:3},postModify:function(at){"/"===at.path.charAt(at.path.length-1)&&(at.path_=at.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${N}/v[A-Za-z0-9_]+/b/${l}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:T},{regex:new RegExp(`^https?://${n===xh?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${l}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:T}];for(let at=0;at<ot.length;at++){const pn=ot[at],Ci=pn.regex.exec(i);if(Ci){let js=Ci[pn.indices.path];js||(js=""),s=new Or(Ci[pn.indices.bucket],js),pn.postModify(s);break}}if(null==s)throw new Wt("invalid-url","Invalid URL '"+i+"'.");return s}}class uS{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}function Sh(r){return"string"==typeof r||r instanceof String}function DC(r){return fv()&&r instanceof Blob}function fv(){return"undefined"!=typeof Blob}function lA(r,i,n,s){if(s<i)throw Fg(`Invalid value for '${r}'. Expected ${i} or greater.`);if(s>n)throw Fg(`Invalid value for '${r}'. Expected ${n} or less.`)}function ll(r,i,n){let s=i;return null==n&&(s=`https://${i}`),`${n}://${s}/v0${r}`}function cc(r){const i=encodeURIComponent;let n="?";for(const s in r)r.hasOwnProperty(s)&&(n=n+(i(s)+"=")+i(r[s])+"&");return n=n.slice(0,-1),n}class SC{constructor(i,n,s,l,d,g,v,C,T,R,N){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=i,this.method_=n,this.headers_=s,this.body_=l,this.successCodes_=d.slice(),this.additionalRetryCodes_=g.slice(),this.callback_=v,this.errorCallback_=C,this.progressCallback_=R,this.timeout_=T,this.pool_=N,this.promise_=new Promise((U,q)=>{this.resolve_=U,this.reject_=q,this.start_()})}start_(){const i=this;function s(l,d){const g=i.resolve_,v=i.reject_,C=d.connection;if(d.wasSuccessCode)try{const T=i.callback_(C,C.getResponseText());void 0!==T?g(T):g()}catch(T){v(T)}else if(null!==C){const T=Mg();T.serverResponse=C.getResponseText(),v(i.errorCallback_?i.errorCallback_(C,T):T)}else v(d.canceled?i.appDelete_?Bu():cv():new Wt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?s(0,new Og(!1,null,!0)):this.backoffId_=function(r,i,n){let s=1,l=null,d=!1,g=0;function v(){return 2===g}let C=!1;function T(...$){C||(C=!0,i.apply(null,$))}function R($){l=setTimeout(()=>{l=null,r(N,v())},$)}function N($,...we){if(C)return;if($)return void T.call(null,$,...we);if(v()||d)return void T.call(null,$,...we);let Be;s<64&&(s*=2),1===g?(g=2,Be=0):Be=1e3*(s+Math.random()),R(Be)}let U=!1;function q($){U||(U=!0,!C&&(null!==l?($||(g=2),clearTimeout(l),R(0)):$||(g=1)))}return R(0),setTimeout(()=>{d=!0,q(!0)},n),q}(function(l,d){if(d)return void l(!1,new Og(!1,null,!0));const g=i.pool_.createConnection();function v(C){null!==i.progressCallback_&&i.progressCallback_(C.loaded,C.lengthComputable?C.total:-1)}i.pendingConnection_=g,null!==i.progressCallback_&&g.addUploadProgressListener(v),g.send(i.url_,i.method_,i.body_,i.headers_).then(()=>{null!==i.progressCallback_&&g.removeUploadProgressListener(v),i.pendingConnection_=null;const C=g.getErrorCode()===As.NO_ERROR,T=g.getStatus();if(!C||i.isRetryStatusCode_(T)){const N=g.getErrorCode()===As.ABORT;return void l(!1,new Og(!1,null,N))}const R=-1!==i.successCodes_.indexOf(T);l(!0,new Og(R,g))})},s,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(i){const n=i>=500&&i<600,l=-1!==[408,429].indexOf(i),d=-1!==this.additionalRetryCodes_.indexOf(i);return n||l||d}}class Og{constructor(i,n,s){this.wasSuccessCode=i,this.connection=n,this.canceled=!!s}}function gv(...r){const i="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==i){const n=new i;for(let s=0;s<r.length;s++)n.append(r[s]);return n.getBlob()}if(fv())return new Blob(r);throw new Wt("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dA{constructor(i,n){this.data=i,this.contentType=n||null}}function Ng(r,i){switch(r){case Nr.RAW:return new dA(pv(i));case Nr.BASE64:case Nr.BASE64URL:return new dA(Th(r,i));case Nr.DATA_URL:return new dA(function(r){const i=new FC(r);return i.base64?Th(Nr.BASE64,i.rest):function(r){let i;try{i=decodeURIComponent(r)}catch(n){throw Dh(Nr.DATA_URL,"Malformed data URL.")}return pv(i)}(i.rest)}(i),function(r){return new FC(r).contentType}(i))}throw Mg()}function pv(r){const i=[];for(let n=0;n<r.length;n++){let s=r.charCodeAt(n);s<=127?i.push(s):s<=2047?i.push(192|s>>6,128|63&s):55296==(64512&s)?n<r.length-1&&56320==(64512&r.charCodeAt(n+1))?(s=65536|(1023&s)<<10|1023&r.charCodeAt(++n),i.push(240|s>>18,128|s>>12&63,128|s>>6&63,128|63&s)):i.push(239,191,189):56320==(64512&s)?i.push(239,191,189):i.push(224|s>>12,128|s>>6&63,128|63&s)}return new Uint8Array(i)}function Th(r,i){switch(r){case Nr.BASE64:{const l=-1!==i.indexOf("-"),d=-1!==i.indexOf("_");if(l||d)throw Dh(r,"Invalid character '"+(l?"-":"_")+"' found: is it base64url encoded?");break}case Nr.BASE64URL:{const l=-1!==i.indexOf("+"),d=-1!==i.indexOf("/");if(l||d)throw Dh(r,"Invalid character '"+(l?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=function(r){return atob(r)}(i)}catch(l){throw Dh(r,"Invalid character found")}const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s}class FC{constructor(i){this.base64=!1,this.contentType=null;const n=i.match(/^data:([^,]+)?,/);if(null===n)throw Dh(Nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const s=n[1]||null;null!=s&&(this.base64=function(r,i){return r.length>=i.length&&r.substring(r.length-i.length)===i}(s,";base64"),this.contentType=this.base64?s.substring(0,s.length-";base64".length):s),this.rest=i.substring(i.indexOf(",")+1)}}class Io{constructor(i,n){let s=0,l="";DC(i)?(this.data_=i,s=i.size,l=i.type):i instanceof ArrayBuffer?(n?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),s=this.data_.length):i instanceof Uint8Array&&(n?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),s=i.length),this.size_=s,this.type_=l}size(){return this.size_}type(){return this.type_}slice(i,n){if(DC(this.data_)){const l=function(r,i,n){return r.webkitSlice?r.webkitSlice(i,n):r.mozSlice?r.mozSlice(i,n):r.slice?r.slice(i,n):null}(this.data_,i,n);return null===l?null:new Io(l)}{const s=new Uint8Array(this.data_.buffer,i,n-i);return new Io(s,!0)}}static getBlob(...i){if(fv()){const n=i.map(s=>s instanceof Io?s.data_:s);return new Io(gv.apply(null,n))}{const n=i.map(g=>Sh(g)?Ng(Nr.RAW,g).data:g.data_);let s=0;n.forEach(g=>{s+=g.byteLength});const l=new Uint8Array(s);let d=0;return n.forEach(g=>{for(let v=0;v<g.length;v++)l[d++]=g[v]}),new Io(l,!0)}}uploadData(){return this.data_}}function Pg(r){let i;try{i=JSON.parse(r)}catch(n){return null}return function(r){return"object"==typeof r&&!Array.isArray(r)}(i)?i:null}function Av(r){const i=r.lastIndexOf("/",r.length-2);return-1===i?r:r.slice(i+1)}function AS(r,i){return i}class Pr{constructor(i,n,s,l){this.server=i,this.local=n||i,this.writable=!!s,this.xform=l||AS}}let hA=null;function is(){if(hA)return hA;const r=[];r.push(new Pr("bucket")),r.push(new Pr("generation")),r.push(new Pr("metageneration")),r.push(new Pr("name","fullPath",!0));const n=new Pr("name");n.xform=function(d,g){return function(r){return!Sh(r)||r.length<2?r:Av(r)}(g)},r.push(n);const l=new Pr("size");return l.xform=function(d,g){return void 0!==g?Number(g):g},r.push(l),r.push(new Pr("timeCreated")),r.push(new Pr("updated")),r.push(new Pr("md5Hash",null,!0)),r.push(new Pr("cacheControl",null,!0)),r.push(new Pr("contentDisposition",null,!0)),r.push(new Pr("contentEncoding",null,!0)),r.push(new Pr("contentLanguage",null,!0)),r.push(new Pr("contentType",null,!0)),r.push(new Pr("metadata","customMetadata",!0)),hA=r,hA}function LC(r,i,n){const s=Pg(i);return null===s?null:function(r,i,n){const s={type:"file"},l=n.length;for(let d=0;d<l;d++){const g=n[d];s[g.local]=g.xform(s,i[g.server])}return function(r,i){Object.defineProperty(r,"ref",{get:function(){const d=new Or(r.bucket,r.fullPath);return i._makeStorageReference(d)}})}(s,r),s}(r,s,n)}function yv(r,i){const n={},s=i.length;for(let l=0;l<s;l++){const d=i[l];d.writable&&(n[d.server]=r[d.local])}return JSON.stringify(n)}const BC="prefixes";class cl{constructor(i,n,s,l){this.url=i,this.method=n,this.handler=s,this.timeout=l,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function _t(r){if(!r)throw Mg()}function Lg(r,i){return function(s,l){const d=LC(r,l,i);return _t(null!==d),d}}function Lr(r){return function(n,s){let l;return l=401===n.getStatus()?n.getResponseText().includes("Firebase App Check token is invalid")?new Wt("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Wt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===n.getStatus()?function(r){return new Wt("quota-exceeded","Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(r.bucket):403===n.getStatus()?function(r){return new Wt("unauthorized","User does not have permission to access '"+r+"'.")}(r.path):s,l.serverResponse=s.serverResponse,l}}function Bg(r){const i=Lr(r);return function(s,l){let d=i(s,l);return 404===s.getStatus()&&(d=function(r){return new Wt("object-not-found","Object '"+r+"' does not exist.")}(r.path)),d.serverResponse=l.serverResponse,d}}function UC(r,i,n){const l=ll(i.fullServerUrl(),r.host,r._protocol),g=r.maxOperationRetryTime,v=new cl(l,"GET",Lg(r,n),g);return v.errorHandler=Bg(i),v}function vv(r,i,n,s,l){const d={};d.prefix=i.isRoot?"":i.path+"/",n&&n.length>0&&(d.delimiter=n),s&&(d.pageToken=s),l&&(d.maxResults=l);const v=ll(i.bucketOnlyServerUrl(),r.host,r._protocol),T=r.maxOperationRetryTime,R=new cl(v,"GET",function(r,i){return function(s,l){const d=function(r,i,n){const s=Pg(n);return null===s?null:function(r,i,n){const s={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[BC])for(const l of n[BC]){const d=l.replace(/\/$/,""),g=r._makeStorageReference(new Or(i,d));s.prefixes.push(g)}if(n.items)for(const l of n.items){const d=r._makeStorageReference(new Or(i,l.name));s.items.push(d)}return s}(r,i,s)}(r,i,l);return _t(null!==d),d}}(r,i.bucket),T);return R.urlParams=d,R.errorHandler=Lr(i),R}function ul(r,i,n){const l=ll(i.fullServerUrl(),r.host,r._protocol),g=r.maxOperationRetryTime,v=new cl(l,"GET",function(r,i){return function(s,l){const d=LC(r,l,i);return _t(null!==d),function(r,i,n,s){const l=Pg(i);if(null===l||!Sh(l.downloadTokens))return null;const d=l.downloadTokens;if(0===d.length)return null;const g=encodeURIComponent;return d.split(",").map(T=>{const N=r.fullPath;return ll("/b/"+g(r.bucket)+"/o/"+g(N),n,s)+cc({alt:"media",token:T})})[0]}(d,l,r.host,r._protocol)}}(r,n),g);return v.errorHandler=Bg(i),v}function wv(r,i,n,s){const d=ll(i.fullServerUrl(),r.host,r._protocol),v=yv(n,s),T=r.maxOperationRetryTime,R=new cl(d,"PATCH",Lg(r,s),T);return R.headers={"Content-Type":"application/json; charset=utf-8"},R.body=v,R.errorHandler=Bg(i),R}function GC(r,i){const s=ll(i.fullServerUrl(),r.host,r._protocol),v=new cl(s,"DELETE",function(C,T){},r.maxOperationRetryTime);return v.successCodes=[200,204],v.errorHandler=Bg(i),v}function ES(r,i,n){const s=Object.assign({},n);return s.fullPath=r.path,s.size=i.size(),s.contentType||(s.contentType=function(r,i){return i&&i.type()||"application/octet-stream"}(0,i)),s}class Cv{constructor(i,n,s,l){this.current=i,this.total=n,this.finalized=!!s,this.metadata=l||null}}function Do(r,i){let n=null;try{n=r.getResponseHeader("X-Goog-Upload-Status")}catch(l){_t(!1)}return _t(!!n&&-1!==(i||["active"]).indexOf(n)),n}const CS={STATE_CHANGED:"state_changed"},Br={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function HC(r){switch(r){case"running":case"pausing":case"canceling":return Br.RUNNING;case"paused":return Br.PAUSED;case"success":return Br.SUCCESS;case"canceled":return Br.CANCELED;case"error":default:return Br.ERROR}}class xS{constructor(i,n,s){if("function"==typeof i||null!=n||null!=s)this.next=i,this.error=null!=n?n:void 0,this.complete=null!=s?s:void 0;else{const d=i;this.next=d.next,this.error=d.error,this.complete=d.complete}}}function Vg(r){return(...i)=>{Promise.resolve().then(()=>r(...i))}}class xv{constructor(i,n,s=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=i,this._blob=n,this._metadata=s,this._mappings=is(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=l=>{this._request=void 0,this._chunkMultiplier=1,l._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=l,this._transition("error"))},this._metadataErrorHandler=l=>{this._request=void 0,l._codeEquals("canceled")?this.completeTransitions_():(this._error=l,this._transition("error"))},this._promise=new Promise((l,d)=>{this._resolve=l,this._reject=d,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const i=this._transferred;return n=>this._updateProgress(i+n)}_shouldDoResumable(i){return i.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(i){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,s])=>{switch(this._state){case"running":i(n,s);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,l){const d=i.bucketOnlyServerUrl(),g=ES(i,s,l),v={name:g.fullPath},C=ll(d,r.host,r._protocol),R={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${s.size()}`,"X-Goog-Upload-Header-Content-Type":g.contentType,"Content-Type":"application/json; charset=utf-8"},N=yv(g,n),$=new cl(C,"POST",function(we){let Oe;Do(we);try{Oe=we.getResponseHeader("X-Goog-Upload-URL")}catch(Be){_t(!1)}return _t(Sh(Oe)),Oe},r.maxUploadRetryTime);return $.urlParams=v,$.headers=R,$.body=N,$.errorHandler=Lr(i),$}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(s,i,n);this._request=l,l.getPromise().then(d=>{this._request=void 0,this._uploadUrl=d,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const i=this._uploadUrl;this._resolveToken((n,s)=>{const l=function(r,i,n,s){const C=new cl(n,"POST",function(T){const R=Do(T,["active","final"]);let N=null;try{N=T.getResponseHeader("X-Goog-Upload-Size-Received")}catch(q){_t(!1)}N||_t(!1);const U=Number(N);return _t(!isNaN(U)),new Cv(U,s.size(),"final"===R)},r.maxUploadRetryTime);return C.headers={"X-Goog-Upload-Command":"query"},C.errorHandler=Lr(i),C}(this._ref.storage,this._ref._location,i,this._blob),d=this._ref.storage._makeRequest(l,n,s);this._request=d,d.getPromise().then(g=>{g=g,this._request=void 0,this._updateProgress(g.current),this._needToFetchStatus=!1,g.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const i=262144*this._chunkMultiplier,n=new Cv(this._transferred,this._blob.size()),s=this._uploadUrl;this._resolveToken((l,d)=>{let g;try{g=function(r,i,n,s,l,d,g,v){const C=new Cv(0,0);if(g?(C.current=g.current,C.total=g.total):(C.current=0,C.total=s.size()),s.size()!==C.total)throw new Wt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const T=C.total-C.current;let R=T;l>0&&(R=Math.min(R,l));const N=C.current,$={"X-Goog-Upload-Command":R===T?"upload, finalize":"upload","X-Goog-Upload-Offset":`${C.current}`},we=s.slice(N,N+R);if(null===we)throw sA();const ot=new cl(n,"POST",function(at,pn){const Ci=Do(at,["active","final"]),Er=C.current+R,js=s.size();let Wo;return Wo="final"===Ci?Lg(i,d)(at,pn):null,new Cv(Er,js,"final"===Ci,Wo)},i.maxUploadRetryTime);return ot.headers=$,ot.body=we.uploadData(),ot.progressCallback=v||null,ot.errorHandler=Lr(r),ot}(this._ref._location,this._ref.storage,s,this._blob,i,this._mappings,n,this._makeProgressCallback())}catch(C){return this._error=C,void this._transition("error")}const v=this._ref.storage._makeRequest(g,l,d);this._request=v,v.getPromise().then(C=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(C.current),C.finalized?(this._metadata=C.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((i,n)=>{const s=UC(this._ref.storage,this._ref._location,this._mappings),l=this._ref.storage._makeRequest(s,i,n);this._request=l,l.getPromise().then(d=>{this._request=void 0,this._metadata=d,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((i,n)=>{const s=function(r,i,n,s,l){const d=i.bucketOnlyServerUrl(),g={"X-Goog-Upload-Protocol":"multipart"},C=function(){let ot="";for(let at=0;at<2;at++)ot+=Math.random().toString().slice(2);return ot}();g["Content-Type"]="multipart/related; boundary="+C;const T=ES(i,s,l),R=yv(T,n),q=Io.getBlob("--"+C+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+R+"\r\n--"+C+"\r\nContent-Type: "+T.contentType+"\r\n\r\n",s,"\r\n--"+C+"--");if(null===q)throw sA();const $={name:T.fullPath},we=ll(d,r.host,r._protocol),Be=r.maxUploadRetryTime,tt=new cl(we,"POST",Lg(r,n),Be);return tt.urlParams=$,tt.headers=g,tt.body=q.uploadData(),tt.errorHandler=Lr(i),tt}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),l=this._ref.storage._makeRequest(s,i,n);this._request=l,l.getPromise().then(d=>{this._request=void 0,this._metadata=d,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(i){const n=this._transferred;this._transferred=i,this._transferred!==n&&this._notifyObservers()}_transition(i){if(this._state!==i)switch(i){case"canceling":case"pausing":this._state=i,void 0!==this._request&&this._request.cancel();break;case"running":const n="paused"===this._state;this._state=i,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=i,this._notifyObservers();break;case"canceled":this._error=cv(),this._state=i,this._notifyObservers();break;case"error":case"success":this._state=i,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const i=HC(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:i,metadata:this._metadata,task:this,ref:this._ref}}on(i,n,s,l){const d=new xS(n||void 0,s||void 0,l||void 0);return this._addObserver(d),()=>{this._removeObserver(d)}}then(i,n){return this._promise.then(i,n)}catch(i){return this.then(null,i)}_addObserver(i){this._observers.push(i),this._notifyObserver(i)}_removeObserver(i){const n=this._observers.indexOf(i);-1!==n&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(void 0!==this._resolve){let i=!0;switch(HC(this._state)){case Br.SUCCESS:Vg(this._resolve.bind(null,this.snapshot))();break;case Br.CANCELED:case Br.ERROR:Vg(this._reject.bind(null,this._error))();break;default:i=!1}i&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(i){switch(HC(this._state)){case Br.RUNNING:case Br.PAUSED:i.next&&Vg(i.next.bind(i,this.snapshot))();break;case Br.SUCCESS:i.complete&&Vg(i.complete.bind(i))();break;case Br.CANCELED:case Br.ERROR:i.error&&Vg(i.error.bind(i,this._error))();break;default:i.error&&Vg(i.error.bind(i,this._error))()}}resume(){const i="paused"===this._state||"pausing"===this._state;return i&&this._transition("running"),i}pause(){const i="running"===this._state;return i&&this._transition("pausing"),i}cancel(){const i="running"===this._state||"pausing"===this._state;return i&&this._transition("canceling"),i}}class uc{constructor(i,n){this._service=i,this._location=n instanceof Or?n:Or.makeFromUrl(n,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,n){return new uc(i,n)}get root(){const i=new Or(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Av(this._location.path)}get storage(){return this._service}get parent(){const i=function(r){if(0===r.length)return null;const i=r.lastIndexOf("/");return-1===i?"":r.slice(0,i)}(this._location.path);if(null===i)return null;const n=new Or(this._location.bucket,i);return new uc(this._service,n)}_throwIfRoot(i){if(""===this._location.path)throw oA(i)}}function IS(r,i,n){return QC.apply(this,arguments)}function QC(){return(QC=(0,ce.Z)(function*(r,i,n){const l=yield DS(r,{pageToken:n});i.prefixes.push(...l.prefixes),i.items.push(...l.items),null!=l.nextPageToken&&(yield IS(r,i,l.nextPageToken))})).apply(this,arguments)}function DS(r,i){return zC.apply(this,arguments)}function zC(){return(zC=(0,ce.Z)(function*(r,i){null!=i&&"number"==typeof i.maxResults&&lA("options.maxResults",1,1e3,i.maxResults);const n=i||{},s=vv(r.storage,r._location,"/",n.pageToken,n.maxResults);return(yield r.storage.makeRequestWithTokens(s)).getPromise()})).apply(this,arguments)}function qC(){return(qC=(0,ce.Z)(function*(r){r._throwIfRoot("getMetadata");const i=UC(r.storage,r._location,is());return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function YC(){return(YC=(0,ce.Z)(function*(r,i){r._throwIfRoot("updateMetadata");const n=wv(r.storage,r._location,i,is());return(yield r.storage.makeRequestWithTokens(n)).getPromise()})).apply(this,arguments)}function Ia(){return(Ia=(0,ce.Z)(function*(r){r._throwIfRoot("getDownloadURL");const i=ul(r.storage,r._location,is());return(yield r.storage.makeRequestWithTokens(i)).getPromise().then(n=>{if(null===n)throw CC();return n})})).apply(this,arguments)}function Sv(){return(Sv=(0,ce.Z)(function*(r){r._throwIfRoot("deleteObject");const i=GC(r.storage,r._location);return(yield r.storage.makeRequestWithTokens(i)).getPromise()})).apply(this,arguments)}function Tv(r,i){const n=function(r,i){const n=i.split("/").filter(s=>s.length>0).join("/");return 0===r.length?n:r+"/"+n}(r._location.path,i),s=new Or(r._location.bucket,n);return new uc(r.storage,s)}function AA(r,i){if(r instanceof Rv){const n=r;if(null==n._bucket)throw new Wt("no-default-bucket","No default bucket found. Did you set the '"+Pu+"' property when initializing the app?");const s=new uc(n,n._bucket);return null!=i?AA(s,i):s}return void 0!==i?Tv(r,i):r}function SS(r,i){if(i&&function(r){return/^[A-Za-z]+:\/\//.test(r)}(i)){if(r instanceof Rv)return function(r,i){return new uc(r,i)}(r,i);throw Fg("To use ref(service, url), the first argument must be a Storage instance.")}return AA(r,i)}function dl(r,i){const n=null==i?void 0:i[Pu];return null==n?null:Or.makeFromBucketSpec(n,r)}class Rv{constructor(i,n,s,l,d,g){this.app=i,this._authProvider=n,this._appCheckProvider=s,this._pool=l,this._url=d,this._firebaseVersion=g,this._bucket=null,this._host=xh,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=d?Or.makeFromBucketSpec(d,this._host):dl(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._bucket=null!=this._url?Or.makeFromBucketSpec(this._url,i):dl(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){lA("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){lA("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}_getAuthToken(){var i=this;return(0,ce.Z)(function*(){if(i._overrideAuthToken)return i._overrideAuthToken;const n=i._authProvider.getImmediate({optional:!0});if(n){const s=yield n.getToken();if(null!==s)return s.accessToken}return null})()}_getAppCheckToken(){var i=this;return(0,ce.Z)(function*(){const n=i._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new uc(this,i)}_makeRequest(i,n,s){if(this._deleted)return new uS(Bu());{const l=function(r,i,n,s,l,d){const g=cc(r.urlParams),v=r.url+g,C=Object.assign({},r.headers);return function(r,i){i&&(r["X-Firebase-GMPID"]=i)}(C,i),function(r,i){null!==i&&i.length>0&&(r.Authorization="Firebase "+i)}(C,n),function(r,i){r["X-Firebase-Storage-Version"]="webjs/"+(null!=i?i:"AppManager")}(C,d),function(r,i){null!==i&&(r["X-Firebase-AppCheck"]=i)}(C,s),new SC(v,r.method,C,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,l)}(i,this._appId,n,s,this._pool,this._firebaseVersion);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}makeRequestWithTokens(i){var n=this;return(0,ce.Z)(function*(){const[s,l]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(i,s,l)})()}}function JC(r,i){return SS(r=(0,st.m9)(r),i)}(0,dt._registerComponent)(new ns.wA("storage",function(r,{instanceIdentifier:i}){const n=r.getProvider("app").getImmediate(),s=r.getProvider("auth-internal"),l=r.getProvider("app-check-internal");return new Rv(n,s,l,new cS,i,dt.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,dt.registerVersion)("@firebase/storage","0.8.2");class Vu{constructor(i,n,s){this._delegate=i,this.task=n,this.ref=s}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class e0{constructor(i,n){this._delegate=i,this._ref=n,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Vu(this._delegate.snapshot,this,this._ref)}then(i,n){return this._delegate.then(s=>{if(i)return i(new Vu(s,this,this._ref))},n)}on(i,n,s,l){let d;return n&&(d="function"==typeof n?g=>n(new Vu(g,this,this._ref)):{next:n.next?g=>n.next(new Vu(g,this,this._ref)):void 0,complete:n.complete||void 0,error:n.error||void 0}),this._delegate.on(i,d,s||void 0,l||void 0)}}class Pv{constructor(i,n){this._delegate=i,this._service=n}get prefixes(){return this._delegate.prefixes.map(i=>new dc(i,this._service))}get items(){return this._delegate.items.map(i=>new dc(i,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class dc{constructor(i,n){this._delegate=i,this.storage=n}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(i){const n=function(r,i){return Tv(r,i)}(this._delegate,i);return new dc(n,this.storage)}get root(){return new dc(this._delegate.root,this.storage)}get parent(){const i=this._delegate.parent;return null==i?null:new dc(i,this.storage)}put(i,n){return this._throwIfRoot("put"),new e0(function(r,i,n){return function(r,i,n){return r._throwIfRoot("uploadBytesResumable"),new xv(r,new Io(i),n)}(r=(0,st.m9)(r),i,n)}(this._delegate,i,n),this)}putString(i,n=Nr.RAW,s){this._throwIfRoot("putString");const l=Ng(n,i),d=Object.assign({},s);return null==d.contentType&&null!=l.contentType&&(d.contentType=l.contentType),new e0(new xv(this._delegate,new Io(l.data,!0),d),this)}listAll(){return function(r){return function(r){const i={prefixes:[],items:[]};return IS(r,i).then(()=>i)}(r=(0,st.m9)(r))}(this._delegate).then(i=>new Pv(i,this.storage))}list(i){return function(r,i){return DS(r=(0,st.m9)(r),i)}(this._delegate,i||void 0).then(n=>new Pv(n,this.storage))}getMetadata(){return function(r){return function(r){return qC.apply(this,arguments)}(r=(0,st.m9)(r))}(this._delegate)}updateMetadata(i){return function(r,i){return function(r,i){return YC.apply(this,arguments)}(r=(0,st.m9)(r),i)}(this._delegate,i)}getDownloadURL(){return function(r){return function(r){return Ia.apply(this,arguments)}(r=(0,st.m9)(r))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(r){return function(r){return Sv.apply(this,arguments)}(r=(0,st.m9)(r))}(this._delegate)}_throwIfRoot(i){if(""===this._delegate._location.path)throw oA(i)}}class Lv{constructor(i,n){this.app=i,this._delegate=n}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(i){if(Bv(i))throw Fg("ref() expected a child path but got a URL, use refFromURL instead.");return new dc(JC(this._delegate,i),this)}refFromURL(i){if(!Bv(i))throw Fg("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Or.makeFromUrl(i,this._delegate.host)}catch(n){throw Fg("refFromUrl() expected a valid full URL but got an invalid one.")}return new dc(JC(this._delegate,i),this)}setMaxUploadRetryTime(i){this._delegate.maxUploadRetryTime=i}setMaxOperationRetryTime(i){this._delegate.maxOperationRetryTime=i}useEmulator(i,n,s={}){!function(r,i,n,s={}){!function(r,i,n,s={}){r.host=`${i}:${n}`,r._protocol="http";const{mockUserToken:l}=s;l&&(r._overrideAuthToken="string"==typeof l?l:(0,st.Sg)(l,r.app.options.projectId))}(r,i,n,s)}(this._delegate,i,n,s)}}function Bv(r){return/^[A-Za-z]+:\/\//.test(r)}function OS(r,{instanceIdentifier:i}){const n=r.getProvider("app-compat").getImmediate(),s=r.getProvider("storage").getImmediate({identifier:i});return new Lv(n,s)}!function(r){const i={TaskState:Br,TaskEvent:CS,StringFormat:Nr,Storage:Lv,Reference:dc};r.INTERNAL.registerComponent(new ns.wA("storage-compat",OS,"PUBLIC").setServiceProps(i).setMultipleInstances(!0)),r.registerVersion("@firebase/storage-compat","0.1.2")}(nt.Z);var Vv=V(7841);function NS(r){return new dr.y(i=>{const n=g=>i.next(g);n(r.snapshot);const d=r.on("state_changed",n);return r.then(g=>{n(g),i.complete()},g=>{n(r.snapshot),(g=>{i.error(g)})(g)}),function(){d()}}).pipe(function(r,i=x.P){return n=>n.lift(new L(r,i))}(0))}function PS(r){const i=NS(r);return{task:r,then:r.then.bind(r),catch:r.catch.bind(r),pause:r.pause.bind(r),cancel:r.cancel.bind(r),resume:r.resume.bind(r),snapshotChanges:()=>i,percentageChanges:()=>i.pipe((0,Gt.U)(n=>n.bytesTransferred/n.totalBytes*100))}}function Uv(r){return{getDownloadURL:()=>(0,m.of)(void 0).pipe(ke.fc,Si(()=>r.getDownloadURL()),ke.iC),getMetadata:()=>(0,m.of)(void 0).pipe(ke.fc,Si(()=>r.getMetadata()),ke.iC),delete:()=>(0,Wn.D)(r.delete()),child:i=>Uv(r.child(i)),updateMetadata:i=>(0,Wn.D)(r.updateMetadata(i)),put:(i,n)=>PS(r.put(i,n)),putString:(i,n,s)=>PS(r.putString(i,n,s)),listAll:()=>(0,Wn.D)(r.listAll())}}const n0=new u.OlP("angularfire2.storageBucket"),Zk=new u.OlP("angularfire2.storage.maxUploadRetryTime"),LS=new u.OlP("angularfire2.storage.maxOperationRetryTime"),Gv=new u.OlP("angularfire2.storage.use-emulator");let r0=(()=>{class r{constructor(n,s,l,d,g,v,C,T,R){const N=(0,Mi.on)(n,g,s);this.storage=(0,ke.cc)(`${N.name}.storage.${l}`,"AngularFireStorage",N.name,()=>{const U=g.runOutsideAngular(()=>N.storage(l||void 0)),q=R;return q&&U.useEmulator(...q),C&&U.setMaxUploadRetryTime(C),T&&U.setMaxOperationRetryTime(T),U},[C,T])}ref(n){return Uv(this.storage.ref(n))}refFromURL(n){return Uv(this.storage.refFromURL(n))}upload(n,s,l){return Uv(this.storage.ref(n)).put(s,l)}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(Mi.Dh),u.LFG(Mi.xv,8),u.LFG(n0,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ke.HU),u.LFG(Zk,8),u.LFG(LS,8),u.LFG(Gv,8))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),BS=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({}),r})(),VS=(()=>{class r{constructor(){Vv.Z.registerVersion("angularfire",ke.q4.full,"gcs-compat")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[r0],imports:[BS]}),r})();var s0=V(3282);function Hv(...r){return(0,s0.J)(1)((0,m.of)(...r))}var yA=V(4869);function hl(...r){const i=r[r.length-1];return(0,yA.K)(i)?(r.pop(),n=>Hv(r,n,i)):n=>Hv(r,n)}function _A(){return r=>r.lift(new o0)}class o0{call(i,n){return n.subscribe(new GS(i))}}class GS extends _.L{constructor(i){super(i),this.hasPrev=!1}_next(i){let n;this.hasPrev?n=[this.prev,i]:this.hasPrev=!0,this.prev=i,n&&this.destination.next(n)}}function ks(r,i){let n=!1;return arguments.length>=2&&(n=!0),function(l){return l.lift(new jv(r,i,n))}}class jv{constructor(i,n,s=!1){this.accumulator=i,this.seed=n,this.hasSeed=s}call(i,n){return n.subscribe(new HS(i,this.accumulator,this.seed,this.hasSeed))}}class HS extends _.L{constructor(i,n,s,l){super(i),this.accumulator=n,this._seed=s,this.hasSeed=l,this.index=0}get seed(){return this._seed}set seed(i){this.hasSeed=!0,this._seed=i}_next(i){if(this.hasSeed)return this._tryNext(i);this.seed=i,this.destination.next(i)}_tryNext(i){const n=this.index++;let s;try{s=this.accumulator(this.seed,i,n)}catch(l){this.destination.error(l)}this.seed=s,this.destination.next(s)}}class Jk{constructor(i,n){this.compare=i,this.keySelector=n}call(i,n){return n.subscribe(new a0(i,this.compare,this.keySelector))}}class a0 extends _.L{constructor(i,n,s){super(i),this.keySelector=s,this.hasKey=!1,"function"==typeof n&&(this.compare=n)}compare(i,n){return i===n}_next(i){let n;try{const{keySelector:l}=this;n=l?l(i):i}catch(l){return this.destination.error(l)}let s=!1;if(this.hasKey)try{const{compare:l}=this;s=l(this.key,n)}catch(l){return this.destination.error(l)}else this.hasKey=!0;s||(this.key=n,this.destination.next(i))}}function So(r,i){return function(s){return s.lift(new jS(r,i))}}class jS{constructor(i,n){this.predicate=i,this.thisArg=n}call(i,n){return n.subscribe(new QS(i,this.predicate,this.thisArg))}}class QS extends _.L{constructor(i,n,s){super(i),this.predicate=n,this.thisArg=s,this.count=0}_next(i){let n;try{n=this.predicate.call(this.thisArg,i,this.count++)}catch(s){return void this.destination.error(s)}n&&this.destination.next(i)}}V(6780);var Uu=V(300),zv=function(r,i){return(zv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l])})(r,i)};function wA(r){var i="function"==typeof Symbol&&Symbol.iterator,n=i&&r[i],s=0;if(n)return n.call(r);if(r&&"number"==typeof r.length)return{next:function(){return r&&s>=r.length&&(r=void 0),{value:r&&r[s++],done:!r}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}var $e,zS="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Hg=Hg||{},Mt=zS||self;function bA(){}function qv(r){var i=typeof r;return"array"==(i="object"!=i?i:r?Array.isArray(r)?"array":i:"null")||"object"==i&&"number"==typeof r.length}function Gu(r){var i=typeof r;return"object"==i&&null!=r||"function"==i}var Yv="closure_uid_"+(1e9*Math.random()>>>0),c0=0;function u0(r,i,n){return r.call.apply(r.bind,arguments)}function d0(r,i,n){if(!r)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),r.apply(i,l)}}return function(){return r.apply(i,arguments)}}function Yi(r,i,n){return(Yi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?u0:d0).apply(null,arguments)}function jg(r,i){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),r.apply(this,s)}}function Mn(r,i){function n(){}n.prototype=i.prototype,r.Z=i.prototype,r.prototype=new n,r.prototype.constructor=r,r.Vb=function(s,l,d){for(var g=Array(arguments.length-2),v=2;v<arguments.length;v++)g[v-2]=arguments[v];return i.prototype[l].apply(s,g)}}function To(){this.s=this.s,this.o=this.o}var YS={};To.prototype.s=!1,To.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var r=function(r){return Object.prototype.hasOwnProperty.call(r,Yv)&&r[Yv]||(r[Yv]=++c0)}(this);delete YS[r]}},To.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var WS=Array.prototype.indexOf?function(r,i){return Array.prototype.indexOf.call(r,i,void 0)}:function(r,i){if("string"==typeof r)return"string"!=typeof i||1!=i.length?-1:r.indexOf(i,0);for(var n=0;n<r.length;n++)if(n in r&&r[n]===i)return n;return-1},Hu=Array.prototype.forEach?function(r,i,n){Array.prototype.forEach.call(r,i,n)}:function(r,i,n){for(var s=r.length,l="string"==typeof r?r.split(""):r,d=0;d<s;d++)d in l&&i.call(n,l[d],d,r)};function Fh(r){return Array.prototype.concat.apply([],arguments)}function ju(r){var i=r.length;if(0<i){for(var n=Array(i),s=0;s<i;s++)n[s]=r[s];return n}return[]}function EA(r){return/^[\s\xa0]*$/.test(r)}var Ur,CA=String.prototype.trim?function(r){return r.trim()}:function(r){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(r)[1]};function Vr(r,i){return-1!=r.indexOf(i)}function Wv(r,i){return r<i?-1:r>i?1:0}e:{var f0=Mt.navigator;if(f0){var xA=f0.userAgent;if(xA){Ur=xA;break e}}Ur=""}function Zv(r,i,n){for(var s in r)i.call(n,r[s],s,r)}function g0(r){var i={};for(var n in r)i[n]=r[n];return i}var Kv="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Qu(r,i){for(var n,s,l=1;l<arguments.length;l++){for(n in s=arguments[l])r[n]=s[n];for(var d=0;d<Kv.length;d++)n=Kv[d],Object.prototype.hasOwnProperty.call(s,n)&&(r[n]=s[n])}}function IA(r){return IA[" "](r),r}IA[" "]=bA;var DA,r,KS=Vr(Ur,"Opera"),Mo=Vr(Ur,"Trident")||Vr(Ur,"MSIE"),p0=Vr(Ur,"Edge"),Jv=p0||Mo,m0=Vr(Ur,"Gecko")&&!(Vr(Ur.toLowerCase(),"webkit")&&!Vr(Ur,"Edge"))&&!(Vr(Ur,"Trident")||Vr(Ur,"MSIE"))&&!Vr(Ur,"Edge"),JS=Vr(Ur.toLowerCase(),"webkit")&&!Vr(Ur,"Edge");function $S(){var r=Mt.document;return r?r.documentMode:void 0}e:{var SA="",bn=(r=Ur,m0?/rv:([^\);]+)(\)|;)/.exec(r):p0?/Edge\/([\d\.]+)/.exec(r):Mo?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(r):JS?/WebKit\/(\S+)/.exec(r):KS?/(?:Version)[ \/]?(\S+)/.exec(r):void 0);if(bn&&(SA=bn?bn[1]:""),Mo){var Qg=$S();if(null!=Qg&&Qg>parseFloat(SA)){DA=String(Qg);break e}}DA=SA}var Xk={};function fl(){return i=Xk,Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=function(){for(var r=0,i=CA(String(DA)).split("."),n=CA("9").split("."),s=Math.max(i.length,n.length),l=0;0==r&&l<s;l++){var d=i[l]||"",g=n[l]||"";do{if(d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],0==d[0].length&&0==g[0].length)break;r=Wv(0==d[1].length?0:parseInt(d[1],10),0==g[1].length?0:parseInt(g[1],10))||Wv(0==d[2].length,0==g[2].length)||Wv(d[2],g[2]),d=d[3],g=g[3]}while(0==r)}return 0<=r}();var i}var e1=Mt.document&&Mo&&($S()||parseInt(DA,10))||void 0,XS=function(){if(!Mt.addEventListener||!Object.defineProperty)return!1;var r=!1,i=Object.defineProperty({},"passive",{get:function(){r=!0}});try{Mt.addEventListener("test",bA,i),Mt.removeEventListener("test",bA,i)}catch(n){}return r}();function Gr(r,i){this.type=r,this.g=this.target=i,this.defaultPrevented=!1}function Oh(r,i){if(Gr.call(this,r?r.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,r){var n=this.type=r.type,s=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:null;if(this.target=r.target||r.srcElement,this.g=i,i=r.relatedTarget){if(m0){e:{try{IA(i.nodeName);var l=!0;break e}catch(d){}l=!1}l||(i=null)}}else"mouseover"==n?i=r.fromElement:"mouseout"==n&&(i=r.toElement);this.relatedTarget=i,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0),this.button=r.button,this.key=r.key||"",this.ctrlKey=r.ctrlKey,this.altKey=r.altKey,this.shiftKey=r.shiftKey,this.metaKey=r.metaKey,this.pointerId=r.pointerId||0,this.pointerType="string"==typeof r.pointerType?r.pointerType:A0[r.pointerType]||"",this.state=r.state,this.i=r,r.defaultPrevented&&Oh.Z.h.call(this)}}Gr.prototype.h=function(){this.defaultPrevented=!0},Mn(Oh,Gr);var A0={2:"touch",3:"pen",4:"mouse"};Oh.prototype.h=function(){Oh.Z.h.call(this);var r=this.i;r.preventDefault?r.preventDefault():r.returnValue=!1};var Nh="closure_listenable_"+(1e6*Math.random()|0),y0=0;function eT(r,i,n,s,l){this.listener=r,this.proxy=null,this.src=i,this.type=n,this.capture=!!s,this.ia=l,this.key=++y0,this.ca=this.fa=!1}function MA(r){r.ca=!0,r.listener=null,r.proxy=null,r.src=null,r.ia=null}function hc(r){this.src=r,this.g={},this.h=0}function qg(r,i){var n=i.type;if(n in r.g){var d,s=r.g[n],l=WS(s,i);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(MA(i),0==r.g[n].length&&(delete r.g[n],r.h--))}}function RA(r,i,n,s){for(var l=0;l<r.length;++l){var d=r[l];if(!d.ca&&d.listener==i&&d.capture==!!n&&d.ia==s)return l}return-1}hc.prototype.add=function(r,i,n,s,l){var d=r.toString();(r=this.g[d])||(r=this.g[d]=[],this.h++);var g=RA(r,i,s,l);return-1<g?(i=r[g],n||(i.fa=!1)):((i=new eT(i,this.src,d,!!s,l)).fa=n,r.push(i)),i};var kA="closure_lm_"+(1e6*Math.random()|0),FA={};function $v(r,i,n,s,l){if(s&&s.once)return v0(r,i,n,s,l);if(Array.isArray(i)){for(var d=0;d<i.length;d++)$v(r,i[d],n,s,l);return null}return n=E0(n),r&&r[Nh]?r.N(i,n,Gu(s)?!!s.capture:!!s,l):_0(r,i,n,!1,s,l)}function _0(r,i,n,s,l,d){if(!i)throw Error("Invalid event type");var g=Gu(l)?!!l.capture:!!l,v=Xv(r);if(v||(r[kA]=v=new hc(r)),(n=v.add(i,n,s,g,d)).proxy)return n;if(s=function(){var i=b0;return function r(n){return i.call(r.src,r.listener,n)}}(),n.proxy=s,s.src=r,s.listener=n,r.addEventListener)XS||(l=g),void 0===l&&(l=!1),r.addEventListener(i.toString(),s,l);else if(r.attachEvent)r.attachEvent(nT(i.toString()),s);else{if(!r.addListener||!r.removeListener)throw Error("addEventListener and attachEvent are unavailable.");r.addListener(s)}return n}function v0(r,i,n,s,l){if(Array.isArray(i)){for(var d=0;d<i.length;d++)v0(r,i[d],n,s,l);return null}return n=E0(n),r&&r[Nh]?r.O(i,n,Gu(s)?!!s.capture:!!s,l):_0(r,i,n,!0,s,l)}function w0(r,i,n,s,l){if(Array.isArray(i))for(var d=0;d<i.length;d++)w0(r,i[d],n,s,l);else s=Gu(s)?!!s.capture:!!s,n=E0(n),r&&r[Nh]?(r=r.i,(i=String(i).toString())in r.g&&-1<(n=RA(d=r.g[i],n,s,l))&&(MA(d[n]),Array.prototype.splice.call(d,n,1),0==d.length&&(delete r.g[i],r.h--))):r&&(r=Xv(r))&&(i=r.g[i.toString()],r=-1,i&&(r=RA(i,n,s,l)),(n=-1<r?i[r]:null)&&OA(n))}function OA(r){if("number"!=typeof r&&r&&!r.ca){var i=r.src;if(i&&i[Nh])qg(i.i,r);else{var n=r.type,s=r.proxy;i.removeEventListener?i.removeEventListener(n,s,r.capture):i.detachEvent?i.detachEvent(nT(n),s):i.addListener&&i.removeListener&&i.removeListener(s),(n=Xv(i))?(qg(n,r),0==n.h&&(n.src=null,i[kA]=null)):MA(r)}}}function nT(r){return r in FA?FA[r]:FA[r]="on"+r}function b0(r,i){if(r.ca)r=!0;else{i=new Oh(i,this);var n=r.listener,s=r.ia||r.src;r.fa&&OA(r),r=n.call(s,i)}return r}function Xv(r){return(r=r[kA])instanceof hc?r:null}var ew="__closure_events_fn_"+(1e9*Math.random()>>>0);function E0(r){return"function"==typeof r?r:(r[ew]||(r[ew]=function(i){return r.handleEvent(i)}),r[ew])}function pr(){To.call(this),this.i=new hc(this),this.P=this,this.I=null}function Ri(r,i){var n,s=r.I;if(s)for(n=[];s;s=s.I)n.push(s);if(r=r.P,s=i.type||i,"string"==typeof i)i=new Gr(i,r);else if(i instanceof Gr)i.target=i.target||r;else{var l=i;Qu(i=new Gr(s,r),l)}if(l=!0,n)for(var d=n.length-1;0<=d;d--){var g=i.g=n[d];l=NA(g,s,!0,i)&&l}if(l=NA(g=i.g=r,s,!0,i)&&l,l=NA(g,s,!1,i)&&l,n)for(d=0;d<n.length;d++)l=NA(g=i.g=n[d],s,!1,i)&&l}function NA(r,i,n,s){if(!(i=r.i.g[String(i)]))return!0;i=i.concat();for(var l=!0,d=0;d<i.length;++d){var g=i[d];if(g&&!g.ca&&g.capture==n){var v=g.listener,C=g.ia||g.src;g.fa&&qg(r.i,g),l=!1!==v.call(C,s)&&l}}return l&&!s.defaultPrevented}Mn(pr,To),pr.prototype[Nh]=!0,pr.prototype.removeEventListener=function(r,i,n,s){w0(this,r,i,n,s)},pr.prototype.M=function(){if(pr.Z.M.call(this),this.i){var i,r=this.i;for(i in r.g){for(var n=r.g[i],s=0;s<n.length;s++)MA(n[s]);delete r.g[i],r.h--}}this.I=null},pr.prototype.N=function(r,i,n,s){return this.i.add(String(r),i,!1,n,s)},pr.prototype.O=function(r,i,n,s){return this.i.add(String(r),i,!0,n,s)};var PA=Mt.JSON.stringify;function C0(){var r=D0,i=null;return r.g&&(i=r.g,r.g=r.g.next,r.g||(r.h=null),i.next=null),i}var LA,t1=function(){function r(){this.h=this.g=null}return r.prototype.add=function(i,n){var s=io.get();s.set(i,n),this.h?this.h.next=s:this.g=s,this.h=s},r}(),io=new(function(){function r(i,n){this.i=i,this.j=n,this.h=0,this.g=null}return r.prototype.get=function(){var i;return 0<this.h?(this.h--,this.g=(i=this.g).next,i.next=null):i=this.i(),i},r}())(function(){return new n1},function(r){return r.reset()}),n1=function(){function r(){this.next=this.g=this.h=null}return r.prototype.set=function(i,n){this.h=i,this.g=n,this.next=null},r.prototype.reset=function(){this.next=this.g=this.h=null},r}();function i1(r){Mt.setTimeout(function(){throw r},0)}function x0(r,i){LA||function(){var r=Mt.Promise.resolve(void 0);LA=function(){r.then(r1)}}(),BA||(LA(),BA=!0),D0.add(r,i)}var BA=!1,D0=new t1;function r1(){for(var r;r=C0();){try{r.h.call(r.g)}catch(n){i1(n)}var i=io;i.j(r),100>i.h&&(i.h++,r.next=i.g,i.g=r)}BA=!1}function Yg(r,i){pr.call(this),this.h=r||1,this.g=i||Mt,this.j=Yi(this.kb,this),this.l=Date.now()}function Wg(r){r.da=!1,r.S&&(r.g.clearTimeout(r.S),r.S=null)}function tw(r,i,n){if("function"==typeof r)n&&(r=Yi(r,n));else{if(!r||"function"!=typeof r.handleEvent)throw Error("Invalid listener argument");r=Yi(r.handleEvent,r)}return 2147483647<Number(i)?-1:Mt.setTimeout(r,i||0)}function VA(r){r.g=tw(function(){r.g=null,r.i&&(r.i=!1,VA(r))},r.j);var i=r.h;r.h=null,r.m.apply(null,i)}Mn(Yg,pr),($e=Yg.prototype).da=!1,$e.S=null,$e.kb=function(){if(this.da){var r=Date.now()-this.l;0<r&&r<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-r):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ri(this,"tick"),this.da&&(Wg(this),this.start()))}},$e.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$e.M=function(){Yg.Z.M.call(this),Wg(this),delete this.g};var iT=function(r){function i(n,s){var l=r.call(this)||this;return l.m=n,l.j=s,l.h=null,l.i=!1,l.g=null,l}return function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function n(){this.constructor=r}zv(r,i),r.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}(i,r),i.prototype.l=function(n){this.h=arguments,this.g?this.i=!0:VA(this)},i.prototype.M=function(){r.prototype.M.call(this),this.g&&(Mt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},i}(To);function Zg(r){To.call(this),this.h=r,this.g={}}Mn(Zg,To);var S0=[];function T0(r,i,n,s){Array.isArray(n)||(n&&(S0[0]=n.toString()),n=S0);for(var l=0;l<n.length;l++){var d=$v(i,n[l],s||r.handleEvent,!1,r.h||r);if(!d)break;r.g[d.key]=d}}function M0(r){Zv(r.g,function(i,n){this.g.hasOwnProperty(n)&&OA(i)},r),r.g={}}function UA(){this.g=!0}function zu(r,i,n,s){r.info(function(){return"XMLHTTP TEXT ("+i+"): "+function(r,i){if(!r.g)return i;if(!i)return null;try{var n=JSON.parse(i);if(n)for(r=0;r<n.length;r++)if(Array.isArray(n[r])){var s=n[r];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var g=1;g<l.length;g++)l[g]=""}}}return PA(n)}catch(v){return i}}(r,n)+(s?" "+s:"")})}Zg.prototype.M=function(){Zg.Z.M.call(this),M0(this)},Zg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},UA.prototype.Aa=function(){this.g=!1},UA.prototype.info=function(){};var qu={},R0=null;function Lh(){return R0=R0||new pr}function ko(r){Gr.call(this,qu.Ma,r)}function gl(r){var i=Lh();Ri(i,new ko(i,r))}function mr(r,i){Gr.call(this,qu.STAT_EVENT,r),this.stat=i}function ci(r){var i=Lh();Ri(i,new mr(i,r))}function Jg(r,i){Gr.call(this,qu.Na,r),this.size=i}function Hr(r,i){if("function"!=typeof r)throw Error("Fn must not be null and must be a function");return Mt.setTimeout(function(){r()},i)}qu.Ma="serverreachability",Mn(ko,Gr),qu.STAT_EVENT="statevent",Mn(mr,Gr),qu.Na="timingevent",Mn(Jg,Gr);var Bh={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Yu={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function fc(){}function Zu(){}fc.prototype.h=null;var mc,Da={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gc(){Gr.call(this,"d")}function pc(){Gr.call(this,"c")}function pl(){}function Vh(r,i,n,s){this.l=r,this.j=i,this.m=n,this.X=s||1,this.V=new Zg(this),this.P=k0,this.W=new Yg(r=Jv?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new nw}function nw(){this.i=null,this.g="",this.h=!1}Mn(gc,Gr),Mn(pc,Gr),Mn(pl,fc),pl.prototype.g=function(){return new XMLHttpRequest},pl.prototype.i=function(){return{}},mc=new pl;var k0=45e3,HA={},$g={};function jA(r,i,n){r.K=1,r.v=qA(Sa(i)),r.s=n,r.U=!0,iw(r,null)}function iw(r,i){r.F=Date.now(),Uh(r),r.A=Sa(r.v);var n=r.A,s=r.X;Array.isArray(s)||(s=[String(s)]),V0(n.h,"t",s),r.C=0,n=r.l.H,r.h=new nw,r.g=Z0(r.l,n?i:null,!r.s),0<r.O&&(r.L=new iT(Yi(r.Ia,r,r.g),r.O)),T0(r.V,r.g,"readystatechange",r.gb),i=r.H?g0(r.H):{},r.s?(r.u||(r.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",r.g.ea(r.A,r.u,r.s,i)):(r.u="GET",r.g.ea(r.A,r.u,null,i)),gl(1),function(r,i,n,s,l,d){r.info(function(){if(r.g)if(d)for(var g="",v=d.split("&"),C=0;C<v.length;C++){var T=v[C].split("=");if(1<T.length){var R=T[0];T=T[1];var N=R.split("_");g=2<=N.length&&"type"==N[1]?g+(R+"=")+T+"&":g+(R+"=redacted&")}}else g=null;else g=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+i+"\n"+n+"\n"+g})}(r.j,r.u,r.A,r.m,r.X,r.s)}function rw(r){return!!r.g&&"GET"==r.u&&2!=r.K&&r.l.Ba}function sw(r,i,n){for(var l,s=!0;!r.I&&r.C<n.length;){if((l=rT(r,n))==$g){4==i&&(r.o=4,ci(14),s=!1),zu(r.j,r.m,null,"[Incomplete Response]");break}if(l==HA){r.o=4,ci(15),zu(r.j,r.m,n,"[Invalid Chunk]"),s=!1;break}zu(r.j,r.m,l,null),O0(r,l)}rw(r)&&l!=$g&&l!=HA&&(r.h.g="",r.C=0),4!=i||0!=n.length||r.h.h||(r.o=1,ci(16),s=!1),r.i=r.i&&s,s?0<n.length&&!r.aa&&(r.aa=!0,(i=r.l).g==r&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),ty(i),i.L=!0,ci(11))):(zu(r.j,r.m,n,"[Invalid Chunked Response]"),Ku(r),Gh(r))}function rT(r,i){var n=r.C,s=i.indexOf("\n",n);return-1==s?$g:(n=Number(i.substring(n,s)),isNaN(n)?HA:(s+=1)+n>i.length?$g:(i=i.substr(s,n),r.C=s+n,i))}function Uh(r){r.Y=Date.now()+r.P,F0(r,r.P)}function F0(r,i){if(null!=r.B)throw Error("WatchDog timer not null");r.B=Hr(Yi(r.eb,r),i)}function Xg(r){r.B&&(Mt.clearTimeout(r.B),r.B=null)}function Gh(r){0==r.l.G||r.I||Dw(r.l,r)}function Ku(r){Xg(r);var i=r.L;i&&"function"==typeof i.na&&i.na(),r.L=null,Wg(r.W),M0(r.V),r.g&&(i=r.g,r.g=null,i.abort(),i.na())}function O0(r,i){try{var n=r.l;if(0!=n.G&&(n.g==r||hw(n.i,r)))if(n.I=r.N,!r.J&&hw(n.i,r)&&3==n.G){try{var s=n.Ca.g.parse(i)}catch(Oe){s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0])e:if(n.u)n.ta=l[1],0<n.ta-n.U&&37500>l[2]&&n.N&&0==n.A&&!n.v&&(n.v=Hr(Yi(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<r.F))break e;op(n),rp(n)}ey(n),ci(18)}if(1>=G0(n.i)&&n.ka){try{n.ka()}catch(Oe){}n.ka=void 0}}else rd(n,11)}else if((r.J||n.g==r)&&op(n),!EA(i))for(l=n.Ca.g.parse(i),i=0;i<l.length;i++){var d=l[i];if(n.U=d[0],d=d[1],2==n.G)if("c"==d[0]){n.J=d[1],n.la=d[2];var g=d[3];null!=g&&(n.ma=g,n.h.info("VER="+n.ma));var v=d[4];null!=v&&(n.za=v,n.h.info("SVER="+n.za));var C=d[5];null!=C&&"number"==typeof C&&0<C&&(n.K=s=1.5*C,n.h.info("backChannelRequestTimeoutMs_="+s)),s=n;var T=r.g;if(T){var R=T.g?T.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(R){var N=s.i;!N.g&&(Vr(R,"spdy")||Vr(R,"quic")||Vr(R,"h2"))&&(N.j=N.l,N.g=new Set,N.h&&(fw(N,N.h),N.h=null))}if(s.D){var U=T.g?T.g.getResponseHeader("X-HTTP-Session-Id"):null;U&&(s.sa=U,Kn(s.F,s.D,U))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-r.F,n.h.info("Handshake RTT: "+n.O+"ms"));var q=r;if((s=n).oa=Sw(s,s.H?s.la:null,s.W),q.J){gw(s.i,q);var $=q,we=s.K;we&&$.setTimeout(we),$.B&&(Xg($),Uh($)),s.g=q}else xw(s);0<n.l.length&&sp(n)}else"stop"!=d[0]&&"close"!=d[0]||rd(n,7);else 3==n.G&&("stop"==d[0]||"close"==d[0]?"stop"==d[0]?rd(n,7):ip(n):"noop"!=d[0]&&n.j&&n.j.wa(d),n.A=0)}gl(4)}catch(Oe){}}function QA(r,i){if(r.forEach&&"function"==typeof r.forEach)r.forEach(i,void 0);else if(qv(r)||"string"==typeof r)Hu(r,i,void 0);else{if(r.T&&"function"==typeof r.T)var n=r.T();else if(r.R&&"function"==typeof r.R)n=void 0;else if(qv(r)||"string"==typeof r){n=[];for(var s=r.length,l=0;l<s;l++)n.push(l)}else for(l in n=[],s=0,r)n[s++]=l;l=(s=function(r){if(r.R&&"function"==typeof r.R)return r.R();if("string"==typeof r)return r.split("");if(qv(r)){for(var i=[],n=r.length,s=0;s<n;s++)i.push(r[s]);return i}for(s in i=[],n=0,r)i[n++]=r[s];return i}(r)).length;for(var d=0;d<l;d++)i.call(void 0,s[d],n&&n[d],r)}}function Hh(r,i){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var s=0;s<n;s+=2)this.set(arguments[s],arguments[s+1])}else if(r)if(r instanceof Hh)for(n=r.T(),s=0;s<n.length;s++)this.set(n[s],r.get(n[s]));else for(s in r)this.set(s,r[s])}function zA(r){if(r.i!=r.g.length){for(var i=0,n=0;i<r.g.length;){var s=r.g[i];Ju(r.h,s)&&(r.g[n++]=s),i++}r.g.length=n}if(r.i!=r.g.length){var l={};for(n=i=0;i<r.g.length;)Ju(l,s=r.g[i])||(r.g[n++]=s,l[s]=1),i++;r.g.length=n}}function Ju(r,i){return Object.prototype.hasOwnProperty.call(r,i)}($e=Vh.prototype).setTimeout=function(r){this.P=r},$e.gb=function(r){r=r.target;var i=this.L;i&&3==Fo(r)?i.l():this.Ia(r)},$e.Ia=function(r){try{if(r==this.g)e:{var i=Fo(this.g),n=this.g.Da(),s=this.g.ba();if(!(3>i)&&(3!=i||Jv||this.g&&(this.h.h||this.g.ga()||JA(this.g)))){this.I||4!=i||7==n||gl(8==n||0>=s?3:2),Xg(this);var l=this.g.ba();this.N=l;t:if(rw(this)){var d=JA(this.g);r="";var g=d.length,v=4==Fo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ku(this),Gh(this);var C="";break t}this.h.i=new Mt.TextDecoder}for(n=0;n<g;n++)this.h.h=!0,r+=this.h.i.decode(d[n],{stream:v&&n==g-1});d.splice(0,g),this.h.g+=r,this.C=0,C=this.h.g}else C=this.g.ga();if(this.i=200==l,function(r,i,n,s,l,d,g){r.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+i+"\n"+n+"\n"+d+" "+g})}(this.j,this.u,this.A,this.m,this.X,i,l),this.i){if(this.$&&!this.J){t:{if(this.g){var T,R=this.g;if((T=R.g?R.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!EA(T)){var N=T;break t}}N=null}if(!(l=N)){this.i=!1,this.o=3,ci(12),Ku(this),Gh(this);break e}zu(this.j,this.m,l,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,O0(this,l)}this.U?(sw(this,i,C),Jv&&this.i&&3==i&&(T0(this.V,this.W,"tick",this.fb),this.W.start())):(zu(this.j,this.m,C,null),O0(this,C)),4==i&&Ku(this),this.i&&!this.I&&(4==i?Dw(this.l,this):(this.i=!1,Uh(this)))}else 400==l&&0<C.indexOf("Unknown SID")?(this.o=3,ci(12)):(this.o=0,ci(13)),Ku(this),Gh(this)}}}catch(U){}},$e.fb=function(){if(this.g){var r=Fo(this.g),i=this.g.ga();this.C<i.length&&(Xg(this),sw(this,r,i),this.i&&4!=r&&Uh(this))}},$e.cancel=function(){this.I=!0,Ku(this)},$e.eb=function(){this.B=null;var r=Date.now();0<=r-this.Y?(function(r,i){r.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(gl(3),ci(17)),Ku(this),this.o=2,Gh(this)):F0(this,this.Y-r)},($e=Hh.prototype).R=function(){zA(this);for(var r=[],i=0;i<this.g.length;i++)r.push(this.h[this.g[i]]);return r},$e.T=function(){return zA(this),this.g.concat()},$e.get=function(r,i){return Ju(this.h,r)?this.h[r]:i},$e.set=function(r,i){Ju(this.h,r)||(this.i++,this.g.push(r)),this.h[r]=i},$e.forEach=function(r,i){for(var n=this.T(),s=0;s<n.length;s++){var l=n[s],d=this.get(l);r.call(i,d,l,this)}};var N0=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function $u(r,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,r instanceof $u){this.g=void 0!==i?i:r.g,ow(this,r.j),this.s=r.s,aw(this,r.i),lw(this,r.m),this.l=r.l,i=r.h;var n=new tp;n.i=i.i,i.g&&(n.g=new Hh(i.g),n.h=i.h),P0(this,n),this.o=r.o}else r&&(n=String(r).match(N0))?(this.g=!!i,ow(this,n[1]||"",!0),this.s=Xu(n[2]||""),aw(this,n[3]||"",!0),lw(this,n[4]),this.l=Xu(n[5]||"",!0),P0(this,n[6]||"",!0),this.o=Xu(n[7]||"")):(this.g=!!i,this.h=new tp(null,this.g))}function Sa(r){return new $u(r)}function ow(r,i,n){r.j=n?Xu(i,!0):i,r.j&&(r.j=r.j.replace(/:$/,""))}function aw(r,i,n){r.i=n?Xu(i,!0):i}function lw(r,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);r.m=i}else r.m=null}function P0(r,i,n){i instanceof tp?(r.h=i,function(r,i){i&&!r.j&&(Fs(r),r.i=null,r.g.forEach(function(n,s){var l=s.toLowerCase();s!=l&&(B0(this,s),V0(this,l,n))},r)),r.j=i}(r.h,r.g)):(n||(i=ep(i,L0)),r.h=new tp(i,r.g))}function Kn(r,i,n){r.h.set(i,n)}function qA(r){return Kn(r,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),r}function Xu(r,i){return r?i?decodeURI(r.replace(/%25/g,"%2525")):decodeURIComponent(r):""}function ep(r,i,n){return"string"==typeof r?(r=encodeURI(r).replace(i,o1),n&&(r=r.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r):null}function o1(r){return"%"+((r=r.charCodeAt(0))>>4&15).toString(16)+(15&r).toString(16)}$u.prototype.toString=function(){var r=[],i=this.j;i&&r.push(ep(i,aT,!0),":");var n=this.i;return(n||"file"==i)&&(r.push("//"),(i=this.s)&&r.push(ep(i,aT,!0),"@"),r.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&r.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&r.push("/"),r.push(ep(n,"/"==n.charAt(0)?lT:a1,!0))),(n=this.h.toString())&&r.push("?",n),(n=this.o)&&r.push("#",ep(n,l1)),r.join("")};var aT=/[#\/\?@]/g,a1=/[#\?:]/g,lT=/[#\?]/g,L0=/[#\?@]/g,l1=/#/g;function tp(r,i){this.h=this.g=null,this.i=r||null,this.j=!!i}function Fs(r){r.g||(r.g=new Hh,r.h=0,r.i&&function(r,i){if(r){r=r.split("&");for(var n=0;n<r.length;n++){var s=r[n].indexOf("="),l=null;if(0<=s){var d=r[n].substring(0,s);l=r[n].substring(s+1)}else d=r[n];i(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(r.i,function(i,n){r.add(decodeURIComponent(i.replace(/\+/g," ")),n)}))}function B0(r,i){Fs(r),i=ed(r,i),Ju(r.g.h,i)&&(r.i=null,r.h-=r.g.get(i).length,Ju((r=r.g).h,i)&&(delete r.h[i],r.i--,r.g.length>2*r.i&&zA(r)))}function uw(r,i){return Fs(r),i=ed(r,i),Ju(r.g.h,i)}function V0(r,i,n){B0(r,i),0<n.length&&(r.i=null,r.g.set(ed(r,i),ju(n)),r.h+=n.length)}function ed(r,i){return i=String(i),r.j&&(i=i.toLowerCase()),i}($e=tp.prototype).add=function(r,i){Fs(this),this.i=null,r=ed(this,r);var n=this.g.get(r);return n||this.g.set(r,n=[]),n.push(i),this.h+=1,this},$e.forEach=function(r,i){Fs(this),this.g.forEach(function(n,s){Hu(n,function(l){r.call(i,l,s,this)},this)},this)},$e.T=function(){Fs(this);for(var r=this.g.R(),i=this.g.T(),n=[],s=0;s<i.length;s++)for(var l=r[s],d=0;d<l.length;d++)n.push(i[s]);return n},$e.R=function(r){Fs(this);var i=[];if("string"==typeof r)uw(this,r)&&(i=Fh(i,this.g.get(ed(this,r))));else{r=this.g.R();for(var n=0;n<r.length;n++)i=Fh(i,r[n])}return i},$e.set=function(r,i){return Fs(this),this.i=null,uw(this,r=ed(this,r))&&(this.h-=this.g.get(r).length),this.g.set(r,[i]),this.h+=1,this},$e.get=function(r,i){return r&&0<(r=this.R(r)).length?String(r[0]):i},$e.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var r=[],i=this.g.T(),n=0;n<i.length;n++){var s=i[n],l=encodeURIComponent(String(s));s=this.R(s);for(var d=0;d<s.length;d++){var g=l;""!==s[d]&&(g+="="+encodeURIComponent(String(s[d]))),r.push(g)}}return this.i=r.join("&")};var cT=function(i,n){this.h=i,this.g=n};function dw(r){this.l=r||uT,r=Mt.PerformanceNavigationTiming?0<(r=Mt.performance.getEntriesByType("navigation")).length&&("hq"==r[0].nextHopProtocol||"h2"==r[0].nextHopProtocol):!!(Mt.g&&Mt.g.Ea&&Mt.g.Ea()&&Mt.g.Ea().Zb),this.j=r?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var uT=10;function U0(r){return!!r.h||!!r.g&&r.g.size>=r.j}function G0(r){return r.h?1:r.g?r.g.size:0}function hw(r,i){return r.h?r.h==i:!!r.g&&r.g.has(i)}function fw(r,i){r.g?r.g.add(i):r.h=i}function gw(r,i){r.h&&r.h==i?r.h=null:r.g&&r.g.has(i)&&r.g.delete(i)}function H0(r){var i,n;if(null!=r.h)return r.i.concat(r.h.D);if(null!=r.g&&0!==r.g.size){var s=r.i;try{for(var l=wA(r.g.values()),d=l.next();!d.done;d=l.next())s=s.concat(d.value.D)}catch(v){i={error:v}}finally{try{d&&!d.done&&(n=l.return)&&n.call(l)}finally{if(i)throw i.error}}return s}return ju(r.i)}function WA(){}function j0(){this.g=new WA}function pw(r,i,n){var s=n||"";try{QA(r,function(l,d){var g=l;Gu(l)&&(g=PA(l)),i.push(s+d+"="+encodeURIComponent(g))})}catch(l){throw i.push(s+"type="+encodeURIComponent("_badmap")),l}}function jh(r,i,n,s,l){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,l(s)}catch(d){}}function np(r){this.l=r.$b||null,this.j=r.ib||!1}function mw(r,i){pr.call(this),this.D=r,this.u=i,this.m=void 0,this.readyState=td,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}dw.prototype.cancel=function(){var r,i;if(this.i=H0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=wA(this.g.values()),s=n.next();!s.done;s=n.next())s.value.cancel()}catch(d){r={error:d}}finally{try{s&&!s.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}this.g.clear()}},WA.prototype.stringify=function(r){return Mt.JSON.stringify(r,void 0)},WA.prototype.parse=function(r){return Mt.JSON.parse(r,void 0)},Mn(np,fc),np.prototype.g=function(){return new mw(this.l,this.j)},np.prototype.i=function(r){return function(){return r}}({}),Mn(mw,pr);var td=0;function Aw(r){r.j.read().then(r.Sa.bind(r)).catch(r.ha.bind(r))}function nd(r){r.readyState=4,r.l=null,r.j=null,r.A=null,id(r)}function id(r){r.onreadystatechange&&r.onreadystatechange.call(r)}($e=mw.prototype).open=function(r,i){if(this.readyState!=td)throw this.abort(),Error("Error reopening a connection");this.C=r,this.B=i,this.readyState=1,id(this)},$e.send=function(r){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};r&&(i.body=r),(this.D||Mt).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},$e.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nd(this)),this.readyState=td},$e.Va=function(r){if(this.g&&(this.l=r,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=r.headers,this.readyState=2,id(this)),this.g&&(this.readyState=3,id(this),this.g)))if("arraybuffer"===this.responseType)r.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Mt.ReadableStream&&"body"in r){if(this.j=r.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Aw(this)}else r.text().then(this.Ua.bind(this),this.ha.bind(this))},$e.Sa=function(r){if(this.g){if(this.u&&r.value)this.response.push(r.value);else if(!this.u){var i=r.value?r.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!r.done}))&&(this.response=this.responseText+=i)}r.done?nd(this):id(this),3==this.readyState&&Aw(this)}},$e.Ua=function(r){this.g&&(this.response=this.responseText=r,nd(this))},$e.Ta=function(r){this.g&&(this.response=r,nd(this))},$e.ha=function(){this.g&&nd(this)},$e.setRequestHeader=function(r,i){this.v.append(r,i)},$e.getResponseHeader=function(r){return this.h&&this.h.get(r.toLowerCase())||""},$e.getAllResponseHeaders=function(){if(!this.h)return"";for(var r=[],i=this.h.entries(),n=i.next();!n.done;)r.push((n=n.value)[0]+": "+n[1]),n=i.next();return r.join("\r\n")},Object.defineProperty(mw.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(r){this.m=r?"include":"same-origin"}});var dT=Mt.JSON.parse;function ni(r){pr.call(this),this.headers=new Hh,this.u=r||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ZA,this.K=this.L=!1}Mn(ni,pr);var ZA="",Q0=/^https?$/i,u1=["POST","PUT"];function yw(r){return"content-type"==r.toLowerCase()}function KA(r,i){r.h=!1,r.g&&(r.l=!0,r.g.abort(),r.l=!1),r.j=i,r.m=5,_w(r),Qh(r)}function _w(r){r.D||(r.D=!0,Ri(r,"complete"),Ri(r,"error"))}function vw(r){if(r.h&&void 0!==Hg&&(!r.C[1]||4!=Fo(r)||2!=r.ba()))if(r.v&&4==Fo(r))tw(r.Fa,0,r);else if(Ri(r,"readystatechange"),4==Fo(r)){r.h=!1;try{var s,i=r.ba();e:switch(i){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}if(!(s=n)){var l;if(l=0===i){var d=String(r.H).match(N0)[1]||null;if(!d&&Mt.self&&Mt.self.location){var g=Mt.self.location.protocol;d=g.substr(0,g.length-1)}l=!Q0.test(d?d.toLowerCase():"")}s=l}if(s)Ri(r,"complete"),Ri(r,"success");else{r.m=6;try{var v=2<Fo(r)?r.g.statusText:""}catch(C){v=""}r.j=v+" ["+r.ba()+"]",_w(r)}}finally{Qh(r)}}}function Qh(r,i){if(r.g){ww(r);var n=r.g,s=r.C[0]?bA:null;r.g=null,r.C=null,i||Ri(r,"ready");try{n.onreadystatechange=s}catch(l){}}}function ww(r){r.g&&r.K&&(r.g.ontimeout=null),r.A&&(Mt.clearTimeout(r.A),r.A=null)}function Fo(r){return r.g?r.g.readyState:0}function JA(r){try{if(!r.g)return null;if("response"in r.g)return r.g.response;switch(r.J){case ZA:case"text":return r.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in r.g)return r.g.mozResponseArrayBuffer}return null}catch(i){return null}}function bw(r,i,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=function(r){var i="";return Zv(r,function(n,s){i+=s,i+=":",i+=n,i+="\r\n"}),i}(n),"string"==typeof r?null!=n&&encodeURIComponent(String(n)):Kn(r,i,n))}function zh(r,i,n){return n&&n.internalChannelParams&&n.internalChannelParams[r]||i}function Ew(r){this.za=0,this.l=[],this.h=new UA,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=zh("failFast",!1,r),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=zh("baseRetryDelayMs",5e3,r),this.$a=zh("retryDelaySeedMs",1e4,r),this.Ya=zh("forwardChannelMaxRetries",2,r),this.ra=zh("forwardChannelRequestTimeoutMs",2e4,r),this.qa=r&&r.xmlHttpFactory||void 0,this.Ba=r&&r.Yb||!1,this.K=void 0,this.H=r&&r.supportsCrossDomainXhr||!1,this.J="",this.i=new dw(r&&r.concurrentRequestLimit),this.Ca=new j0,this.ja=r&&r.fastHandshake||!1,this.Ra=r&&r.Wb||!1,r&&r.Aa&&this.h.Aa(),r&&r.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&r&&r.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!r||!1!==r.Xb}function ip(r){if(q0(r),3==r.G){var i=r.V++,n=Sa(r.F);Kn(n,"SID",r.J),Kn(n,"RID",i),Kn(n,"TYPE","terminate"),qh(r,n),(i=new Vh(r,r.h,i,void 0)).K=2,i.v=qA(Sa(n)),n=!1,Mt.navigator&&Mt.navigator.sendBeacon&&(n=Mt.navigator.sendBeacon(i.v.toString(),"")),!n&&Mt.Image&&((new Image).src=i.v,n=!0),n||(i.g=Z0(i.l,null),i.g.ea(i.v)),i.F=Date.now(),Uh(i)}W0(r)}function rp(r){r.g&&(ty(r),r.g.cancel(),r.g=null)}function q0(r){rp(r),r.u&&(Mt.clearTimeout(r.u),r.u=null),op(r),r.i.cancel(),r.m&&("number"==typeof r.m&&Mt.clearTimeout(r.m),r.m=null)}function $A(r,i){r.l.push(new cT(r.Za++,i)),3==r.G&&sp(r)}function sp(r){U0(r.i)||r.m||(r.m=!0,x0(r.Ha,r),r.C=0)}function XA(r,i){var n;n=i?i.m:r.V++;var s=Sa(r.F);Kn(s,"SID",r.J),Kn(s,"RID",n),Kn(s,"AID",r.U),qh(r,s),r.o&&r.s&&bw(s,r.o,r.s),n=new Vh(r,r.h,n,r.C+1),null===r.o&&(n.H=r.s),i&&(r.l=i.D.concat(r.l)),i=Cw(r,n,1e3),n.setTimeout(Math.round(.5*r.ra)+Math.round(.5*r.ra*Math.random())),fw(r.i,n),jA(n,s,i)}function qh(r,i){r.j&&QA({},function(n,s){Kn(i,s,n)})}function Cw(r,i,n){n=Math.min(r.l.length,n);var s=r.j?Yi(r.j.Oa,r.j,r):null;e:for(var l=r.l,d=-1;;){var g=["count="+n];-1==d?0<n?g.push("ofs="+(d=l[0].h)):d=0:g.push("ofs="+d);for(var v=!0,C=0;C<n;C++){var T=l[C].h,R=l[C].g;if(0>(T-=d))d=Math.max(0,l[C].h-100),v=!1;else try{pw(R,g,"req"+T+"_")}catch(N){s&&s(R)}}if(v){s=g.join("&");break e}}return r=r.l.splice(0,n),i.D=r,s}function xw(r){r.g||r.u||(r.Y=1,x0(r.Ga,r),r.A=0)}function ey(r){return!(r.g||r.u||3<=r.A||(r.Y++,r.u=Hr(Yi(r.Ga,r),fT(r,r.A)),r.A++,0))}function ty(r){null!=r.B&&(Mt.clearTimeout(r.B),r.B=null)}function Iw(r){r.g=new Vh(r,r.h,"rpc",r.Y),null===r.o&&(r.g.H=r.s),r.g.O=0;var i=Sa(r.oa);Kn(i,"RID","rpc"),Kn(i,"SID",r.J),Kn(i,"CI",r.N?"0":"1"),Kn(i,"AID",r.U),qh(r,i),Kn(i,"TYPE","xmlhttp"),r.o&&r.s&&bw(i,r.o,r.s),r.K&&r.g.setTimeout(r.K);var n=r.g;r=r.la,n.K=1,n.v=qA(Sa(i)),n.s=null,n.U=!0,iw(n,r)}function op(r){null!=r.v&&(Mt.clearTimeout(r.v),r.v=null)}function Dw(r,i){var n=null;if(r.g==i){op(r),ty(r),r.g=null;var s=2}else{if(!hw(r.i,i))return;n=i.D,gw(r.i,i),s=1}if(r.I=i.N,0!=r.G)if(i.i)if(1==s){n=i.s?i.s.length:0,i=Date.now()-i.F;var l=r.C;Ri(s=Lh(),new Jg(s,n,i,l)),sp(r)}else xw(r);else if(3==(l=i.o)||0==l&&0<r.I||!(1==s&&function(r,i){return!(G0(r.i)>=r.i.j-(r.m?1:0)||(r.m?(r.l=i.D.concat(r.l),0):1==r.G||2==r.G||r.C>=(r.Xa?0:r.Ya)||(r.m=Hr(Yi(r.Ha,r,i),fT(r,r.C)),r.C++,0)))}(r,i)||2==s&&ey(r)))switch(n&&0<n.length&&(i=r.i,i.i=i.i.concat(n)),l){case 1:rd(r,5);break;case 4:rd(r,10);break;case 3:rd(r,6);break;default:rd(r,2)}}function fT(r,i){var n=r.Pa+Math.floor(Math.random()*r.$a);return r.j||(n*=2),n*i}function rd(r,i){if(r.h.info("Error code "+i),2==i){var n=null;r.j&&(n=null);var s=Yi(r.jb,r);n||(n=new $u("//www.google.com/images/cleardot.gif"),Mt.location&&"http"==Mt.location.protocol||ow(n,"https"),qA(n)),function(r,i){var n=new UA;if(Mt.Image){var s=new Image;s.onload=jg(jh,n,s,"TestLoadImage: loaded",!0,i),s.onerror=jg(jh,n,s,"TestLoadImage: error",!1,i),s.onabort=jg(jh,n,s,"TestLoadImage: abort",!1,i),s.ontimeout=jg(jh,n,s,"TestLoadImage: timeout",!1,i),Mt.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=r}else i(!1)}(n.toString(),s)}else ci(2);r.G=0,r.j&&r.j.va(i),W0(r),q0(r)}function W0(r){r.G=0,r.I=-1,r.j&&((0!=H0(r.i).length||0!=r.l.length)&&(r.i.i.length=0,ju(r.l),r.l.length=0),r.j.ua())}function Sw(r,i,n){var s=function(r){return r instanceof $u?Sa(r):new $u(r,void 0)}(n);if(""!=s.i)i&&aw(s,i+"."+s.i),lw(s,s.m);else{var l=Mt.location;s=function(r,i,n,s){var l=new $u(null,void 0);return r&&ow(l,r),i&&aw(l,i),n&&lw(l,n),s&&(l.l=s),l}(l.protocol,i?i+"."+l.hostname:l.hostname,+l.port,n)}return r.aa&&Zv(r.aa,function(d,g){Kn(s,g,d)}),n=r.sa,(i=r.D)&&n&&Kn(s,i,n),Kn(s,"VER",r.ma),qh(r,s),s}function Z0(r,i,n){if(i&&!r.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new ni(n&&r.Ba&&!r.qa?new np({ib:!0}):r.qa)).L=r.H,i}function vi(){}function ap(){if(Mo&&!(10<=Number(e1)))throw Error("Environmental error: no available transport.")}function Os(r,i){pr.call(this),this.g=new Ew(i),this.l=r,this.h=i&&i.messageUrlParams||null,r=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(r?r["X-Client-Protocol"]="webchannel":r={"X-Client-Protocol":"webchannel"}),this.g.s=r,r=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(r?r["X-WebChannel-Content-Type"]=i.messageContentType:r={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(r?r["X-WebChannel-Client-Profile"]=i.ya:r={"X-WebChannel-Client-Profile":i.ya}),this.g.P=r,(r=i&&i.httpHeadersOverwriteParam)&&!EA(r)&&(this.g.o=r),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!EA(i)&&(this.g.D=i,null!==(r=this.h)&&i in r&&i in(r=this.h)&&delete r[i]),this.j=new Yh(this)}function K0(r){gc.call(this);var i=r.__sm__;if(i){e:{for(var n in i){r=n;break e}r=void 0}(this.i=r)&&(r=this.i,i=null!==i&&r in i?i[r]:void 0),this.data=i}else this.data=r}function Tw(){pc.call(this),this.status=1}function Yh(r){this.g=r}($e=ni.prototype).ea=function(r,i,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+r);i=i?i.toUpperCase():"GET",this.H=r,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():mc.g(),this.C=function(r){return r.h||(r.h=r.i())}(this.u?this.u:mc),this.g.onreadystatechange=Yi(this.Fa,this);try{this.F=!0,this.g.open(i,String(r),!0),this.F=!1}catch(d){return void KA(this,d)}r=n||"";var l=new Hh(this.headers);s&&QA(s,function(d,g){l.set(g,d)}),s=function(r){e:{for(var i=yw,n=r.length,s="string"==typeof r?r.split(""):r,l=0;l<n;l++)if(l in s&&i.call(void 0,s[l],l,r)){i=l;break e}i=-1}return 0>i?null:"string"==typeof r?r.charAt(i):r[i]}(l.T()),n=Mt.FormData&&r instanceof Mt.FormData,!(0<=WS(u1,i))||s||n||l.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),l.forEach(function(d,g){this.g.setRequestHeader(g,d)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ww(this),0<this.B&&((this.K=function(r){return Mo&&fl()&&"number"==typeof r.timeout&&void 0!==r.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Yi(this.pa,this)):this.A=tw(this.pa,this.B,this)),this.v=!0,this.g.send(r),this.v=!1}catch(d){KA(this,d)}},$e.pa=function(){void 0!==Hg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ri(this,"timeout"),this.abort(8))},$e.abort=function(r){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=r||7,Ri(this,"complete"),Ri(this,"abort"),Qh(this))},$e.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Qh(this,!0)),ni.Z.M.call(this)},$e.Fa=function(){this.s||(this.F||this.v||this.l?vw(this):this.cb())},$e.cb=function(){vw(this)},$e.ba=function(){try{return 2<Fo(this)?this.g.status:-1}catch(r){return-1}},$e.ga=function(){try{return this.g?this.g.responseText:""}catch(r){return""}},$e.Qa=function(r){if(this.g){var i=this.g.responseText;return r&&0==i.indexOf(r)&&(i=i.substring(r.length)),dT(i)}},$e.Da=function(){return this.m},$e.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($e=Ew.prototype).ma=8,$e.G=1,$e.hb=function(r){try{this.h.info("Origin Trials invoked: "+r)}catch(i){}},$e.Ha=function(r){if(this.m)if(this.m=null,1==this.G){if(!r){this.V=Math.floor(1e5*Math.random()),r=this.V++;var i=new Vh(this,this.h,r,void 0),n=this.s;if(this.P&&(n?Qu(n=g0(n),this.P):n=this.P),null===this.o&&(i.H=n),this.ja)e:{for(var s=0,l=0;l<this.l.length;l++){var d=this.l[l];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(s+=d)){s=l;break e}if(4096===s||l===this.l.length-1){s=l+1;break e}}s=1e3}else s=1e3;s=Cw(this,i,s),Kn(l=Sa(this.F),"RID",r),Kn(l,"CVER",22),this.D&&Kn(l,"X-HTTP-Session-Id",this.D),qh(this,l),this.o&&n&&bw(l,this.o,n),fw(this.i,i),this.Ra&&Kn(l,"TYPE","init"),this.ja?(Kn(l,"$req",s),Kn(l,"SID","null"),i.$=!0,jA(i,l,null)):jA(i,l,s),this.G=2}}else 3==this.G&&(r?XA(this,r):0==this.l.length||U0(this.i)||XA(this))},$e.Ga=function(){if(this.u=null,Iw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var r=2*this.O;this.h.info("BP detection timer enabled: "+r),this.B=Hr(Yi(this.bb,this),r)}},$e.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ci(10),rp(this),Iw(this))},$e.ab=function(){null!=this.v&&(this.v=null,rp(this),ey(this),ci(19))},$e.jb=function(r){r?(this.h.info("Successfully pinged google.com"),ci(2)):(this.h.info("Failed to ping google.com"),ci(1))},($e=vi.prototype).xa=function(){},$e.wa=function(){},$e.va=function(){},$e.ua=function(){},$e.Oa=function(){},ap.prototype.g=function(r,i){return new Os(r,i)},Mn(Os,pr),Os.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var r=this.g,i=this.l,n=this.h||void 0;r.Wa&&(r.h.info("Origin Trials enabled."),x0(Yi(r.hb,r,i))),ci(0),r.W=i,r.aa=n||{},r.N=r.X,r.F=Sw(r,null,r.W),sp(r)},Os.prototype.close=function(){ip(this.g)},Os.prototype.u=function(r){if("string"==typeof r){var i={};i.__data__=r,$A(this.g,i)}else this.v?((i={}).__data__=PA(r),$A(this.g,i)):$A(this.g,r)},Os.prototype.M=function(){this.g.j=null,delete this.j,ip(this.g),delete this.g,Os.Z.M.call(this)},Mn(K0,gc),Mn(Tw,pc),Mn(Yh,vi),Yh.prototype.xa=function(){Ri(this.g,"a")},Yh.prototype.wa=function(r){Ri(this.g,new K0(r))},Yh.prototype.va=function(r){Ri(this.g,new Tw(r))},Yh.prototype.ua=function(){Ri(this.g,"b")},ap.prototype.createWebChannel=ap.prototype.g,Os.prototype.send=Os.prototype.u,Os.prototype.open=Os.prototype.m,Os.prototype.close=Os.prototype.close,Bh.NO_ERROR=0,Bh.TIMEOUT=8,Bh.HTTP_ERROR=6,Yu.COMPLETE="complete",Zu.EventType=Da,Da.OPEN="a",Da.CLOSE="b",Da.ERROR="c",Da.MESSAGE="d",pr.prototype.listen=pr.prototype.N,ni.prototype.listenOnce=ni.prototype.O,ni.prototype.getLastError=ni.prototype.La,ni.prototype.getLastErrorCode=ni.prototype.Da,ni.prototype.getStatus=ni.prototype.ba,ni.prototype.getResponseJson=ni.prototype.Qa,ni.prototype.getResponseText=ni.prototype.ga,ni.prototype.send=ni.prototype.ea;var ml=Bh,J0=Yu,$0=qu,ny_PROXY=10,ny_NOPROXY=11,X0=np,Wh=Zu,gT=ni;class En{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let Zh="9.0.2";const Ac=new Uu.Yd("@firebase/firestore");function ro(){return Ac.logLevel}function Ge(r,...i){if(Ac.logLevel<=Uu.in.DEBUG){const n=i.map(kw);Ac.debug(`Firestore (${Zh}): ${r}`,...n)}}function ui(r,...i){if(Ac.logLevel<=Uu.in.ERROR){const n=i.map(kw);Ac.error(`Firestore (${Zh}): ${r}`,...n)}}function Kh(r,...i){if(Ac.logLevel<=Uu.in.WARN){const n=i.map(kw);Ac.warn(`Firestore (${Zh}): ${r}`,...n)}}function kw(r){if("string"==typeof r)return r;try{return JSON.stringify(r)}catch(n){return r}}function ht(r="Unexpected state"){const i=`FIRESTORE (${Zh}) INTERNAL ASSERTION FAILED: `+r;throw ui(i),new Error(i)}function xt(r,i){r||ht()}function qe(r,i){return r}const be={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Le extends Error{constructor(i,n){super(n),this.code=i,this.message=n,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise((i,n)=>{this.resolve=i,this.reject=n})}}class nx{constructor(i,n){this.user=n,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${i}`}}class ix{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,n){i.enqueueRetryable(()=>n(En.UNAUTHENTICATED))}shutdown(){}}class rx{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,n){this.changeListener=n,i.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iy{constructor(i){this.t=i,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,n){var s=this;let l=this.i;const d=T=>this.i!==l?(l=this.i,n(T)):Promise.resolve();let g=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),g.resolve(),g=new ki,i.enqueueRetryable(()=>d(this.currentUser))};const v=()=>{const T=g;i.enqueueRetryable((0,ce.Z)(function*(){yield T.promise,yield d(s.currentUser)}))},C=T=>{Ge("FirebaseCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),v()};this.t.onInit(T=>C(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?C(T):(Ge("FirebaseCredentialsProvider","Auth not yet detected"),g.resolve(),g=new ki)}},0),v()}getToken(){const i=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==i?(Ge("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(xt("string"==typeof s.accessToken),new nx(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return xt(null===i||"string"==typeof i),new En(i)}}class mT{constructor(i,n,s){this.h=i,this.l=n,this.m=s,this.type="FirstParty",this.user=En.FIRST_PARTY}get authHeaders(){const i={"X-Goog-AuthUser":this.l},n=this.h.auth.getAuthHeaderValueForFirstParty([]);return n&&(i.Authorization=n),this.m&&(i["X-Goog-Iam-Authorization-Token"]=this.m),i}}class sx{constructor(i,n,s){this.h=i,this.l=n,this.m=s}getToken(){return Promise.resolve(new mT(this.h,this.l,this.m))}start(i,n){i.enqueueRetryable(()=>n(En.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ys{constructor(i,n){this.previousValue=i,n&&(n.sequenceNumberHandler=s=>this.g(s),this.p=s=>n.writeSequenceNumber(s))}g(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.p&&this.p(i),i}}function Fw(r){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}ys.T=-1;class lp{static I(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/i.length)*i.length;let s="";for(;s.length<20;){const l=Fw(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<n&&(s+=i.charAt(l[d]%i.length))}return s}}function Ht(r,i){return r<i?-1:r>i?1:0}function sd(r,i,n){return r.length===i.length&&r.every((s,l)=>n(s,i[l]))}function Ow(r){return r+"\0"}class Fi{constructor(i,n){if(this.seconds=i,this.nanoseconds=n,n<0)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Le(be.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(i<-62135596800)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Le(be.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Fi.fromMillis(Date.now())}static fromDate(i){return Fi.fromMillis(i.getTime())}static fromMillis(i){const n=Math.floor(i/1e3),s=Math.floor(1e6*(i-1e3*n));return new Fi(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?Ht(this.nanoseconds,i.nanoseconds):Ht(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ot{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Ot(i)}static min(){return new Ot(new Fi(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Nw(r){let i=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i++;return i}function yc(r,i){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&i(n,r[n])}function Pw(r){for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i))return!1;return!0}class cp{constructor(i,n,s){void 0===n?n=0:n>i.length&&ht(),void 0===s?s=i.length-n:s>i.length-n&&ht(),this.segments=i,this.offset=n,this.len=s}get length(){return this.len}isEqual(i){return 0===cp.comparator(this,i)}child(i){const n=this.segments.slice(this.offset,this.limit());return i instanceof cp?i.forEach(s=>{n.push(s)}):n.push(i),this.construct(n)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==i.get(n))return!1;return!0}forEach(i){for(let n=this.offset,s=this.limit();n<s;n++)i(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,n){const s=Math.min(i.length,n.length);for(let l=0;l<s;l++){const d=i.get(l),g=n.get(l);if(d<g)return-1;if(d>g)return 1}return i.length<n.length?-1:i.length>n.length?1:0}}class en extends cp{construct(i,n,s){return new en(i,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const n=[];for(const s of i){if(s.indexOf("//")>=0)throw new Le(be.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(l=>l.length>0))}return new en(n)}static emptyPath(){return new en([])}}const AT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ar extends cp{construct(i,n,s){return new Ar(i,n,s)}static isValidIdentifier(i){return AT.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ar.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ar(["__name__"])}static fromServerFormat(i){const n=[];let s="",l=0;const d=()=>{if(0===s.length)throw new Le(be.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let g=!1;for(;l<i.length;){const v=i[l];if("\\"===v){if(l+1===i.length)throw new Le(be.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const C=i[l+1];if("\\"!==C&&"."!==C&&"`"!==C)throw new Le(be.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);s+=C,l+=2}else"`"===v?(g=!g,l++):"."!==v||g?(s+=v,l++):(d(),l++)}if(d(),g)throw new Le(be.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new Ar(n)}static emptyPath(){return new Ar([])}}class Jh{constructor(i){this.fields=i,i.sort(Ar.comparator)}covers(i){for(const n of this.fields)if(n.isPrefixOf(i))return!0;return!1}isEqual(i){return sd(this.fields,i.fields,(n,s)=>n.isEqual(s))}}class Wi{constructor(i){this.binaryString=i}static fromBase64String(i){const n=atob(i);return new Wi(n)}static fromUint8Array(i){const n=function(s){let l="";for(let d=0;d<s.length;++d)l+=String.fromCharCode(s[d]);return l}(i);return new Wi(n)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const n=new Uint8Array(i.length);for(let s=0;s<i.length;s++)n[s]=i.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return Ht(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}Wi.EMPTY_BYTE_STRING=new Wi("");const _T=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _c(r){if(xt(!!r),"string"==typeof r){let i=0;const n=_T.exec(r);if(xt(!!n),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),i=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:i}}return{seconds:wi(r.seconds),nanos:wi(r.nanos)}}function wi(r){return"number"==typeof r?r:"string"==typeof r?Number(r):0}function $h(r){return"string"==typeof r?Wi.fromBase64String(r):Wi.fromUint8Array(r)}function Lw(r){var i,n;return"server_timestamp"===(null===(n=((null===(i=null==r?void 0:r.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ox(r){const i=r.mapValue.fields.__previous_value__;return Lw(i)?ox(i):i}function up(r){const i=_c(r.mapValue.fields.__local_write_time__.timestampValue);return new Fi(i.seconds,i.nanos)}function od(r){return null==r}function ry(r){return 0===r&&1/r==-1/0}function ax(r){return"number"==typeof r&&Number.isInteger(r)&&!ry(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}class ct{constructor(i){this.path=i}static fromPath(i){return new ct(en.fromString(i))}static fromName(i){return new ct(en.fromString(i).popFirst(5))}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}isEqual(i){return null!==i&&0===en.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,n){return en.comparator(i.path,n.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new ct(new en(i.slice()))}}function vc(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lw(r)?4:10:ht()}function No(r,i){const n=vc(r);if(n!==vc(i))return!1;switch(n){case 0:return!0;case 1:return r.booleanValue===i.booleanValue;case 4:return up(r).isEqual(up(i));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const d=_c(s.timestampValue),g=_c(l.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(r,i);case 5:return r.stringValue===i.stringValue;case 6:return l=i,$h(r.bytesValue).isEqual($h(l.bytesValue));case 7:return r.referenceValue===i.referenceValue;case 8:return function(s,l){return wi(s.geoPointValue.latitude)===wi(l.geoPointValue.latitude)&&wi(s.geoPointValue.longitude)===wi(l.geoPointValue.longitude)}(r,i);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return wi(s.integerValue)===wi(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const d=wi(s.doubleValue),g=wi(l.doubleValue);return d===g?ry(d)===ry(g):isNaN(d)&&isNaN(g)}return!1}(r,i);case 9:return sd(r.arrayValue.values||[],i.arrayValue.values||[],No);case 10:return function(s,l){const d=s.mapValue.fields||{},g=l.mapValue.fields||{};if(Nw(d)!==Nw(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(void 0===g[v]||!No(d[v],g[v])))return!1;return!0}(r,i);default:return ht()}var l}function Xh(r,i){return void 0!==(r.values||[]).find(n=>No(n,i))}function ad(r,i){const n=vc(r),s=vc(i);if(n!==s)return Ht(n,s);switch(n){case 0:return 0;case 1:return Ht(r.booleanValue,i.booleanValue);case 2:return function(l,d){const g=wi(l.integerValue||l.doubleValue),v=wi(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(r,i);case 3:return Bw(r.timestampValue,i.timestampValue);case 4:return Bw(up(r),up(i));case 5:return Ht(r.stringValue,i.stringValue);case 6:return function(l,d){const g=$h(l),v=$h(d);return g.compareTo(v)}(r.bytesValue,i.bytesValue);case 7:return function(l,d){const g=l.split("/"),v=d.split("/");for(let C=0;C<g.length&&C<v.length;C++){const T=Ht(g[C],v[C]);if(0!==T)return T}return Ht(g.length,v.length)}(r.referenceValue,i.referenceValue);case 8:return function(l,d){const g=Ht(wi(l.latitude),wi(d.latitude));return 0!==g?g:Ht(wi(l.longitude),wi(d.longitude))}(r.geoPointValue,i.geoPointValue);case 9:return function(l,d){const g=l.values||[],v=d.values||[];for(let C=0;C<g.length&&C<v.length;++C){const T=ad(g[C],v[C]);if(T)return T}return Ht(g.length,v.length)}(r.arrayValue,i.arrayValue);case 10:return function(l,d){const g=l.fields||{},v=Object.keys(g),C=d.fields||{},T=Object.keys(C);v.sort(),T.sort();for(let R=0;R<v.length&&R<T.length;++R){const N=Ht(v[R],T[R]);if(0!==N)return N;const U=ad(g[v[R]],C[T[R]]);if(0!==U)return U}return Ht(v.length,T.length)}(r.mapValue,i.mapValue);default:throw ht()}}function Bw(r,i){if("string"==typeof r&&"string"==typeof i&&r.length===i.length)return Ht(r,i);const n=_c(r),s=_c(i),l=Ht(n.seconds,s.seconds);return 0!==l?l:Ht(n.nanos,s.nanos)}function sy(r){return oy(r)}function oy(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(s){const l=_c(s);return`time(${l.seconds},${l.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?$h(r.bytesValue).toBase64():"referenceValue"in r?ct.fromName(r.referenceValue).toString():"geoPointValue"in r?`geo(${(i=r.geoPointValue).latitude},${i.longitude})`:"arrayValue"in r?function(s){let l="[",d=!0;for(const g of s.values||[])d?d=!1:l+=",",l+=oy(g);return l+"]"}(r.arrayValue):"mapValue"in r?function(s){const l=Object.keys(s.fields||{}).sort();let d="{",g=!0;for(const v of l)g?g=!1:d+=",",d+=`${v}:${oy(s.fields[v])}`;return d+"}"}(r.mapValue):ht();var i}function dp(r,i){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${i.path.canonicalString()}`}}function ay(r){return!!r&&"integerValue"in r}function hp(r){return!!r&&"arrayValue"in r}function Vw(r){return!!r&&"nullValue"in r}function wc(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ly(r){return!!r&&"mapValue"in r}function fp(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&"object"==typeof r.timestampValue)return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const i={mapValue:{fields:{}}};return yc(r.mapValue.fields,(n,s)=>i.mapValue.fields[n]=fp(s)),i}if(r.arrayValue){const i={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)i.arrayValue.values[n]=fp(r.arrayValue.values[n]);return i}return Object.assign({},r)}class di{constructor(i){this.value=i}static empty(){return new di({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let n=this.value;for(let s=0;s<i.length-1;++s)if(n=(n.mapValue.fields||{})[i.get(s)],!ly(n))return null;return n=(n.mapValue.fields||{})[i.lastSegment()],n||null}}set(i,n){this.getFieldsMap(i.popLast())[i.lastSegment()]=fp(n)}setAll(i){let n=Ar.emptyPath(),s={},l=[];i.forEach((g,v)=>{if(!n.isImmediateParentOf(v)){const C=this.getFieldsMap(n);this.applyChanges(C,s,l),s={},l=[],n=v.popLast()}g?s[v.lastSegment()]=fp(g):l.push(v.lastSegment())});const d=this.getFieldsMap(n);this.applyChanges(d,s,l)}delete(i){const n=this.field(i.popLast());ly(n)&&n.mapValue.fields&&delete n.mapValue.fields[i.lastSegment()]}isEqual(i){return No(this.value,i.value)}getFieldsMap(i){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<i.length;++s){let l=n.mapValue.fields[i.get(s)];ly(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[i.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(i,n,s){yc(n,(l,d)=>i[l]=d);for(const l of s)delete i[l]}clone(){return new di(fp(this.value))}}function vT(r){const i=[];return yc(r.fields,(n,s)=>{const l=new Ar([n]);if(ly(s)){const d=vT(s.mapValue).fields;if(0===d.length)i.push(l);else for(const g of d)i.push(l.child(g))}else i.push(l)}),new Jh(i)}class Cn{constructor(i,n,s,l,d){this.key=i,this.documentType=n,this.version=s,this.data=l,this.documentState=d}static newInvalidDocument(i){return new Cn(i,0,Ot.min(),di.empty(),0)}static newFoundDocument(i,n,s){return new Cn(i,1,n,s,0)}static newNoDocument(i,n){return new Cn(i,2,n,di.empty(),0)}static newUnknownDocument(i,n){return new Cn(i,3,n,di.empty(),2)}convertToFoundDocument(i,n){return this.version=i,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof Cn&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}clone(){return new Cn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class d1{constructor(i,n=null,s=[],l=[],d=null,g=null,v=null){this.path=i,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=g,this.endAt=v,this.A=null}}function Uw(r,i=null,n=[],s=[],l=null,d=null,g=null){return new d1(r,i,n,s,l,d,g)}function ef(r){const i=qe(r);if(null===i.A){let n=i.path.canonicalString();null!==i.collectionGroup&&(n+="|cg:"+i.collectionGroup),n+="|f:",n+=i.filters.map(s=>function(r){return r.field.canonicalString()+r.op.toString()+sy(r.value)}(s)).join(","),n+="|ob:",n+=i.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),od(i.limit)||(n+="|l:",n+=i.limit),i.startAt&&(n+="|lb:",n+=mp(i.startAt)),i.endAt&&(n+="|ub:",n+=mp(i.endAt)),i.A=n}return i.A}function yt(r,i){if(r.limit!==i.limit||r.orderBy.length!==i.orderBy.length)return!1;for(let l=0;l<r.orderBy.length;l++)if(!cx(r.orderBy[l],i.orderBy[l]))return!1;if(r.filters.length!==i.filters.length)return!1;for(let l=0;l<r.filters.length;l++)if((n=r.filters[l]).op!==(s=i.filters[l]).op||!n.field.isEqual(s.field)||!No(n.value,s.value))return!1;var n,s;return r.collectionGroup===i.collectionGroup&&!!r.path.isEqual(i.path)&&!!ux(r.startAt,i.startAt)&&ux(r.endAt,i.endAt)}function cy(r){return ct.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length}class rs extends class{}{constructor(i,n,s){super(),this.field=i,this.op=n,this.value=s}static create(i,n,s){return i.isKeyField()?"in"===n||"not-in"===n?this.R(i,n,s):new uy(i,n,s):"array-contains"===n?new ii(i,s):"in"===n?new f1(i,s):"not-in"===n?new lx(i,s):"array-contains-any"===n?new Gw(i,s):new rs(i,n,s)}static R(i,n,s){return"in"===n?new bT(i,s):new dy(i,s)}matches(i){const n=i.data.field(this.field);return"!="===this.op?null!==n&&this.P(ad(n,this.value)):null!==n&&vc(this.value)===vc(n)&&this.P(ad(n,this.value))}P(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return ht()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class uy extends rs{constructor(i,n,s){super(i,n,s),this.key=ct.fromName(s.referenceValue)}matches(i){const n=ct.comparator(i.key,this.key);return this.P(n)}}class bT extends rs{constructor(i,n){super(i,"in",n),this.keys=gp(0,n)}matches(i){return this.keys.some(n=>n.isEqual(i.key))}}class dy extends rs{constructor(i,n){super(i,"not-in",n),this.keys=gp(0,n)}matches(i){return!this.keys.some(n=>n.isEqual(i.key))}}function gp(r,i){var n;return((null===(n=i.arrayValue)||void 0===n?void 0:n.values)||[]).map(s=>ct.fromName(s.referenceValue))}class ii extends rs{constructor(i,n){super(i,"array-contains",n)}matches(i){const n=i.data.field(this.field);return hp(n)&&Xh(n.arrayValue,this.value)}}class f1 extends rs{constructor(i,n){super(i,"in",n)}matches(i){const n=i.data.field(this.field);return null!==n&&Xh(this.value.arrayValue,n)}}class lx extends rs{constructor(i,n){super(i,"not-in",n)}matches(i){if(Xh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=i.data.field(this.field);return null!==n&&!Xh(this.value.arrayValue,n)}}class Gw extends rs{constructor(i,n){super(i,"array-contains-any",n)}matches(i){const n=i.data.field(this.field);return!(!hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xh(this.value.arrayValue,s))}}class pp{constructor(i,n){this.position=i,this.before=n}}function mp(r){return`${r.before?"b":"a"}:${r.position.map(i=>sy(i)).join(",")}`}class ld{constructor(i,n="asc"){this.field=i,this.dir=n}}function cx(r,i){return r.dir===i.dir&&r.field.isEqual(i.field)}function Hw(r,i,n){let s=0;for(let l=0;l<r.position.length;l++){const d=i[l],g=r.position[l];if(s=d.field.isKeyField()?ct.comparator(ct.fromName(g.referenceValue),n.key):ad(g,n.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return r.before?s<=0:s<0}function ux(r,i){if(null===r)return null===i;if(null===i||r.before!==i.before||r.position.length!==i.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!No(r.position[n],i.position[n]))return!1;return!0}class Al{constructor(i,n=null,s=[],l=[],d=null,g="F",v=null,C=null){this.path=i,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=g,this.startAt=v,this.endAt=C,this.V=null,this.S=null}}function dx(r,i,n,s,l,d,g,v){return new Al(r,i,n,s,l,d,g,v)}function Ta(r){return new Al(r)}function hy(r){return!od(r.limit)&&"F"===r.limitType}function fy(r){return!od(r.limit)&&"L"===r.limitType}function jw(r){return r.explicitOrderBy.length>0?r.explicitOrderBy[0].field:null}function tf(r){for(const i of r.filters)if(i.v())return i.field;return null}function gy(r){return null!==r.collectionGroup}function cd(r){const i=qe(r);if(null===i.V){i.V=[];const n=tf(i),s=jw(i);if(null!==n&&null===s)n.isKeyField()||i.V.push(new ld(n)),i.V.push(new ld(Ar.keyField(),"asc"));else{let l=!1;for(const d of i.explicitOrderBy)i.V.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.V.push(new ld(Ar.keyField(),d))}}}return i.V}function Ns(r){const i=qe(r);if(!i.S)if("F"===i.limitType)i.S=Uw(i.path,i.collectionGroup,cd(i),i.filters,i.limit,i.startAt,i.endAt);else{const n=[];for(const d of cd(i))n.push(new ld(d.field,"desc"===d.dir?"asc":"desc"));const s=i.endAt?new pp(i.endAt.position,!i.endAt.before):null,l=i.startAt?new pp(i.startAt.position,!i.startAt.before):null;i.S=Uw(i.path,i.collectionGroup,n,i.filters,i.limit,s,l)}return i.S}function hx(r,i,n){return new Al(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),i,n,r.startAt,r.endAt)}function yl(r,i){return yt(Ns(r),Ns(i))&&r.limitType===i.limitType}function nf(r){return`${ef(Ns(r))}|lt:${r.limitType}`}function Qw(r){return`Query(target=${function(r){let i=r.path.canonicalString();return null!==r.collectionGroup&&(i+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(i+=`, filters: [${r.filters.map(n=>{return`${(s=n).field.canonicalString()} ${s.op} ${sy(s.value)}`;var s}).join(", ")}]`),od(r.limit)||(i+=", limit: "+r.limit),r.orderBy.length>0&&(i+=`, orderBy: [${r.orderBy.map(n=>{return`${(s=n).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),r.startAt&&(i+=", startAt: "+mp(r.startAt)),r.endAt&&(i+=", endAt: "+mp(r.endAt)),`Target(${i})`}(Ns(r))}; limitType=${r.limitType})`}function Ap(r,i){return i.isFoundDocument()&&function(n,s){const l=s.key.path;return null!==n.collectionGroup?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):ct.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(r,i)&&function(n,s){for(const l of n.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(r,i)&&function(n,s){for(const l of n.filters)if(!l.matches(s))return!1;return!0}(r,i)&&(s=i,!((n=r).startAt&&!Hw(n.startAt,cd(n),s)||n.endAt&&Hw(n.endAt,cd(n),s)));var n,s}function fx(r){return(i,n)=>{let s=!1;for(const l of cd(r)){const d=gx(l,i,n);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function gx(r,i,n){const s=r.field.isKeyField()?ct.comparator(i.key,n.key):function(l,d,g){const v=d.data.field(l),C=g.data.field(l);return null!==v&&null!==C?ad(v,C):ht()}(r.field,i,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return ht()}}function zw(r,i){if(r.D){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ry(i)?"-0":i}}function qw(r){return{integerValue:""+r}}function px(r,i){return ax(i)?qw(i):zw(r,i)}class yp{constructor(){this._=void 0}}function ET(r,i,n){return r instanceof _p?function(s,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(n,i):r instanceof rf?IT(r,i):r instanceof bc?vp(r,i):function(s,l){const d=xT(s,l),g=mx(d)+mx(s.C);return ay(d)&&ay(s.C)?qw(g):zw(s.N,g)}(r,i)}function CT(r,i,n){return r instanceof rf?IT(r,i):r instanceof bc?vp(r,i):n}function xT(r,i){return r instanceof sf?ay(n=i)||(s=n)&&"doubleValue"in s?i:{integerValue:0}:null;var s,n}class _p extends yp{}class rf extends yp{constructor(i){super(),this.elements=i}}function IT(r,i){const n=Yw(i);for(const s of r.elements)n.some(l=>No(l,s))||n.push(s);return{arrayValue:{values:n}}}class bc extends yp{constructor(i){super(),this.elements=i}}function vp(r,i){let n=Yw(i);for(const s of r.elements)n=n.filter(l=>!No(l,s));return{arrayValue:{values:n}}}class sf extends yp{constructor(i,n){super(),this.N=i,this.C=n}}function mx(r){return wi(r.integerValue||r.doubleValue)}function Yw(r){return hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class _l{constructor(i,n){this.field=i,this.transform=n}}class ST{constructor(i,n){this.version=i,this.transformResults=n}}class bi{constructor(i,n){this.updateTime=i,this.exists=n}static none(){return new bi}static exists(i){return new bi(void 0,i)}static updateTime(i){return new bi(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function py(r,i){return void 0!==r.updateTime?i.isFoundDocument()&&i.version.isEqual(r.updateTime):void 0===r.exists||r.exists===i.isFoundDocument()}class my{}function Ax(r,i,n){r instanceof af?function(s,l,d){const g=s.value.clone(),v=_x(s.fieldTransforms,l,d.transformResults);g.setAll(v),l.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,i,n):r instanceof Ec?function(s,l,d){if(!py(s.precondition,l))return void l.convertToUnknownDocument(d.version);const g=_x(s.fieldTransforms,l,d.transformResults),v=l.data;v.setAll(Zw(s)),v.setAll(g),l.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(r,i,n):i.convertToNoDocument(n.version).setHasCommittedMutations()}function Ww(r,i,n){var l;r instanceof af?function(s,l,d){if(!py(s.precondition,l))return;const g=s.value.clone(),v=Kw(s.fieldTransforms,d,l);g.setAll(v),l.convertToFoundDocument(yx(l),g).setHasLocalMutations()}(r,i,n):r instanceof Ec?function(s,l,d){if(!py(s.precondition,l))return;const g=Kw(s.fieldTransforms,d,l),v=l.data;v.setAll(Zw(s)),v.setAll(g),l.convertToFoundDocument(yx(l),v).setHasLocalMutations()}(r,i,n):py(r.precondition,l=i)&&l.convertToNoDocument(Ot.min())}function TT(r,i){let n=null;for(const s of r.fieldTransforms){const l=i.data.field(s.field),d=xT(s.transform,l||null);null!=d&&(null==n&&(n=di.empty()),n.set(s.field,d))}return n||null}function ud(r,i){return r.type===i.type&&!!r.key.isEqual(i.key)&&!!r.precondition.isEqual(i.precondition)&&(s=i.fieldTransforms,!!(void 0===(n=r.fieldTransforms)&&void 0===s||n&&s&&sd(n,s,(l,d)=>function(r,i){return r.field.isEqual(i.field)&&(s=i.transform,(n=r.transform)instanceof rf&&s instanceof rf||n instanceof bc&&s instanceof bc?sd(n.elements,s.elements,No):n instanceof sf&&s instanceof sf?No(n.C,s.C):n instanceof _p&&s instanceof _p);var n,s}(l,d))))&&(0===r.type?r.value.isEqual(i.value):1!==r.type||r.data.isEqual(i.data)&&r.fieldMask.isEqual(i.fieldMask));var n,s}function yx(r){return r.isFoundDocument()?r.version:Ot.min()}class af extends my{constructor(i,n,s,l=[]){super(),this.key=i,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}}class Ec extends my{constructor(i,n,s,l,d=[]){super(),this.key=i,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}}function Zw(r){const i=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);i.set(n,s)}}),i}function _x(r,i,n){const s=new Map;xt(r.length===n.length);for(let l=0;l<n.length;l++){const d=r[l],g=d.transform,v=i.data.field(d.field);s.set(d.field,CT(g,v,n[l]))}return s}function Kw(r,i,n){const s=new Map;for(const l of r){const d=l.transform,g=n.data.field(l.field);s.set(l.field,ET(d,g,i))}return s}class wp extends my{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=2,this.fieldTransforms=[]}}class bp extends my{constructor(i,n){super(),this.key=i,this.precondition=n,this.type=3,this.fieldTransforms=[]}}class MT{constructor(i){this.count=i}}var hi,Zt;function vx(r){switch(r){case be.OK:return ht();case be.CANCELLED:case be.UNKNOWN:case be.DEADLINE_EXCEEDED:case be.RESOURCE_EXHAUSTED:case be.INTERNAL:case be.UNAVAILABLE:case be.UNAUTHENTICATED:return!1;case be.INVALID_ARGUMENT:case be.NOT_FOUND:case be.ALREADY_EXISTS:case be.PERMISSION_DENIED:case be.FAILED_PRECONDITION:case be.ABORTED:case be.OUT_OF_RANGE:case be.UNIMPLEMENTED:case be.DATA_LOSS:return!0;default:return ht()}}function wx(r){if(void 0===r)return ui("GRPC error has no .code"),be.UNKNOWN;switch(r){case hi.OK:return be.OK;case hi.CANCELLED:return be.CANCELLED;case hi.UNKNOWN:return be.UNKNOWN;case hi.DEADLINE_EXCEEDED:return be.DEADLINE_EXCEEDED;case hi.RESOURCE_EXHAUSTED:return be.RESOURCE_EXHAUSTED;case hi.INTERNAL:return be.INTERNAL;case hi.UNAVAILABLE:return be.UNAVAILABLE;case hi.UNAUTHENTICATED:return be.UNAUTHENTICATED;case hi.INVALID_ARGUMENT:return be.INVALID_ARGUMENT;case hi.NOT_FOUND:return be.NOT_FOUND;case hi.ALREADY_EXISTS:return be.ALREADY_EXISTS;case hi.PERMISSION_DENIED:return be.PERMISSION_DENIED;case hi.FAILED_PRECONDITION:return be.FAILED_PRECONDITION;case hi.ABORTED:return be.ABORTED;case hi.OUT_OF_RANGE:return be.OUT_OF_RANGE;case hi.UNIMPLEMENTED:return be.UNIMPLEMENTED;case hi.DATA_LOSS:return be.DATA_LOSS;default:return ht()}}(Zt=hi||(hi={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";class Oi{constructor(i,n){this.comparator=i,this.root=n||yr.EMPTY}insert(i,n){return new Oi(this.comparator,this.root.insert(i,n,this.comparator).copy(null,null,yr.BLACK,null,null))}remove(i){return new Oi(this.comparator,this.root.remove(i,this.comparator).copy(null,null,yr.BLACK,null,null))}get(i){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(i,n.key);if(0===s)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(i){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(i,s.key);if(0===l)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((n,s)=>(i(n,s),!1))}toString(){const i=[];return this.inorderTraversal((n,s)=>(i.push(`${n}:${s}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new lf(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new lf(this.root,i,this.comparator,!1)}getReverseIterator(){return new lf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new lf(this.root,i,this.comparator,!0)}}class lf{constructor(i,n,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!i.isEmpty();)if(d=n?s(i.key,n):1,l&&(d*=-1),d<0)i=this.isReverse?i.left:i.right;else{if(0===d){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const n={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class yr{constructor(i,n,s,l,d){this.key=i,this.value=n,this.color=null!=s?s:yr.RED,this.left=null!=l?l:yr.EMPTY,this.right=null!=d?d:yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,n,s,l,d){return new yr(null!=i?i:this.key,null!=n?n:this.value,null!=s?s:this.color,null!=l?l:this.left,null!=d?d:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,n,s){let l=this;const d=s(i,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(i,n,s),null):0===d?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(i,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return yr.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,n){let s,l=this;if(n(i,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(i,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===n(i,l.key)){if(l.right.isEmpty())return yr.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(i,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,n)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ht();const i=this.left.check();if(i!==this.right.check())throw ht();return i+(this.isRed()?0:1)}}yr.EMPTY=null,yr.RED=!0,yr.BLACK=!1,yr.EMPTY=new class{constructor(){this.size=0}get key(){throw ht()}get value(){throw ht()}get color(){throw ht()}get left(){throw ht()}get right(){throw ht()}copy(r,i,n,s,l){return this}insert(r,i,n){return new yr(r,i)}remove(r,i){return this}isEmpty(){return!0}inorderTraversal(r){return!1}reverseTraversal(r){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jn{constructor(i){this.comparator=i,this.data=new Oi(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((n,s)=>(i(n),!1))}forEachInRange(i,n){const s=this.data.getIteratorFrom(i[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,i[1])>=0)return;n(l.key)}}forEachWhile(i,n){let s;for(s=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!i(s.getNext().key))return}firstAfterOrEqual(i){const n=this.data.getIteratorFrom(i);return n.hasNext()?n.getNext().key:null}getIterator(){return new bx(this.data.getIterator())}getIteratorFrom(i){return new bx(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let n=this;return n.size<i.size&&(n=i,i=this),i.forEach(s=>{n=n.add(s)}),n}isEqual(i){if(!(i instanceof Jn)||this.size!==i.size)return!1;const n=this.data.getIterator(),s=i.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const i=[];return this.forEach(n=>{i.push(n)}),i}toString(){const i=[];return this.forEach(n=>i.push(n)),"SortedSet("+i.toString()+")"}copy(i){const n=new Jn(this.comparator);return n.data=i,n}}class bx{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const RT=new Oi(ct.comparator);function so(){return RT}const kT=new Oi(ct.comparator);function Jw(){return kT}const FT=new Oi(ct.comparator);function Ex(){return FT}const OT=new Jn(ct.comparator);function sn(...r){let i=OT;for(const n of r)i=i.add(n);return i}const Cx=new Jn(Ht);function Ay(){return Cx}class Ep{constructor(i,n,s,l,d){this.snapshotVersion=i,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(i,n){const s=new Map;return s.set(i,cf.createSynthesizedTargetChangeForCurrentChange(i,n)),new Ep(Ot.min(),s,Ay(),so(),sn())}}class cf{constructor(i,n,s,l,d){this.resumeToken=i,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(i,n){return new cf(Wi.EMPTY_BYTE_STRING,n,sn(),sn(),sn())}}class yy{constructor(i,n,s,l){this.k=i,this.removedTargetIds=n,this.key=s,this.$=l}}class xx{constructor(i,n){this.targetId=i,this.O=n}}class Ix{constructor(i,n,s=Wi.EMPTY_BYTE_STRING,l=null){this.state=i,this.targetIds=n,this.resumeToken=s,this.cause=l}}class _y{constructor(){this.F=0,this.M=vy(),this.L=Wi.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(i){i.approximateByteSize()>0&&(this.U=!0,this.L=i)}W(){let i=sn(),n=sn(),s=sn();return this.M.forEach((l,d)=>{switch(d){case 0:i=i.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:ht()}}),new cf(this.L,this.B,i,n,s)}G(){this.U=!1,this.M=vy()}H(i,n){this.U=!0,this.M=this.M.insert(i,n)}J(i){this.U=!0,this.M=this.M.remove(i)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class $w{constructor(i){this.tt=i,this.et=new Map,this.nt=so(),this.st=Xw(),this.it=new Jn(Ht)}rt(i){for(const n of i.k)i.$&&i.$.isFoundDocument()?this.ot(n,i.$):this.at(n,i.key,i.$);for(const n of i.removedTargetIds)this.at(n,i.key,i.$)}ct(i){this.forEachTarget(i,n=>{const s=this.ut(n);switch(i.state){case 0:this.ht(n)&&s.j(i.resumeToken);break;case 1:s.X(),s.q||s.G(),s.j(i.resumeToken);break;case 2:s.X(),s.q||this.removeTarget(n);break;case 3:this.ht(n)&&(s.Z(),s.j(i.resumeToken));break;case 4:this.ht(n)&&(this.lt(n),s.j(i.resumeToken));break;default:ht()}})}forEachTarget(i,n){i.targetIds.length>0?i.targetIds.forEach(n):this.et.forEach((s,l)=>{this.ht(l)&&n(l)})}ft(i){const n=i.targetId,s=i.O.count,l=this.dt(n);if(l){const d=l.target;if(cy(d))if(0===s){const g=new ct(d.path);this.at(n,g,Cn.newNoDocument(g,Ot.min()))}else xt(1===s);else this.wt(n)!==s&&(this.lt(n),this.it=this.it.add(n))}}_t(i){const n=new Map;this.et.forEach((d,g)=>{const v=this.dt(g);if(v){if(d.current&&cy(v.target)){const C=new ct(v.target.path);null!==this.nt.get(C)||this.gt(g,C)||this.at(g,C,Cn.newNoDocument(C,i))}d.K&&(n.set(g,d.W()),d.G())}});let s=sn();this.st.forEach((d,g)=>{let v=!0;g.forEachWhile(C=>{const T=this.dt(C);return!T||2===T.purpose||(v=!1,!1)}),v&&(s=s.add(d))});const l=new Ep(i,n,this.it,this.nt,s);return this.nt=so(),this.st=Xw(),this.it=new Jn(Ht),l}ot(i,n){if(!this.ht(i))return;const s=this.gt(i,n.key)?2:0;this.ut(i).H(n.key,s),this.nt=this.nt.insert(n.key,n),this.st=this.st.insert(n.key,this.yt(n.key).add(i))}at(i,n,s){if(!this.ht(i))return;const l=this.ut(i);this.gt(i,n)?l.H(n,1):l.J(n),this.st=this.st.insert(n,this.yt(n).delete(i)),s&&(this.nt=this.nt.insert(n,s))}removeTarget(i){this.et.delete(i)}wt(i){const n=this.ut(i).W();return this.tt.getRemoteKeysForTarget(i).size+n.addedDocuments.size-n.removedDocuments.size}Y(i){this.ut(i).Y()}ut(i){let n=this.et.get(i);return n||(n=new _y,this.et.set(i,n)),n}yt(i){let n=this.st.get(i);return n||(n=new Jn(Ht),this.st=this.st.insert(i,n)),n}ht(i){const n=null!==this.dt(i);return n||Ge("WatchChangeAggregator","Detected inactive target",i),n}dt(i){const n=this.et.get(i);return n&&n.q?null:this.tt.Et(i)}lt(i){this.et.set(i,new _y),this.tt.getRemoteKeysForTarget(i).forEach(n=>{this.at(i,n,null)})}gt(i,n){return this.tt.getRemoteKeysForTarget(i).has(n)}}function Xw(){return new Oi(ct.comparator)}function vy(){return new Oi(ct.comparator)}const NT={asc:"ASCENDING",desc:"DESCENDING"},PT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class eb{constructor(i,n){this.databaseId=i,this.D=n}}function Cp(r,i){return r.D?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function tb(r,i){return r.D?i.toBase64():i.toUint8Array()}function LT(r,i){return Cp(r,i.toTimestamp())}function Ni(r){return xt(!!r),Ot.fromTimestamp(function(i){const n=_c(i);return new Fi(n.seconds,n.nanos)}(r))}function wy(r,i){return(n=r,new en(["projects",n.projectId,"databases",n.database])).child("documents").child(i).canonicalString();var n}function nb(r){const i=en.fromString(r);return xt(Fx(i)),i}function by(r,i){return wy(r.databaseId,i.path)}function Ma(r,i){const n=nb(i);if(n.get(1)!==r.databaseId.projectId)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new Le(be.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ct(xp(n))}function Cc(r,i){return wy(r.databaseId,i)}function BT(r){const i=nb(r);return 4===i.length?en.emptyPath():xp(i)}function dd(r){return new en(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xp(r){return xt(r.length>4&&"documents"===r.get(4)),r.popFirst(5)}function Dx(r,i,n){return{name:by(r,i),fields:n.value.mapValue.fields}}function hd(r,i,n){const s=Ma(r,i.name),l=Ni(i.updateTime),d=new di({mapValue:{fields:i.fields}}),g=Cn.newFoundDocument(s,l,d);return n&&g.setHasCommittedMutations(),n?g.setHasCommittedMutations():g}function Ey(r,i){let n;if(i instanceof af)n={update:Dx(r,i.key,i.value)};else if(i instanceof wp)n={delete:by(r,i.key)};else if(i instanceof Ec)n={update:Dx(r,i.key,i.data),updateMask:p1(i.fieldMask)};else{if(!(i instanceof bp))return ht();n={verify:by(r,i.key)}}return i.fieldTransforms.length>0&&(n.updateTransforms=i.fieldTransforms.map(s=>function(l,d){const g=d.transform;if(g instanceof _p)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof rf)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof bc)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof sf)return{fieldPath:d.field.canonicalString(),increment:g.C};throw ht()}(0,s))),i.precondition.isNone||(n.currentDocument=void 0!==(l=i.precondition).updateTime?{updateTime:LT(r,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:ht()),n;var l}function Po(r,i){const n=i.currentDocument?void 0!==(l=i.currentDocument).updateTime?bi.updateTime(Ni(l.updateTime)):void 0!==l.exists?bi.exists(l.exists):bi.none():bi.none(),s=i.updateTransforms?i.updateTransforms.map(l=>function(d,g){let v=null;"setToServerValue"in g?(xt("REQUEST_TIME"===g.setToServerValue),v=new _p):"appendMissingElements"in g?v=new rf(g.appendMissingElements.values||[]):"removeAllFromArray"in g?v=new bc(g.removeAllFromArray.values||[]):"increment"in g?v=new sf(d,g.increment):ht();const C=Ar.fromServerFormat(g.fieldPath);return new _l(C,v)}(r,l)):[];var l;if(i.update){const l=Ma(r,i.update.name),d=new di({mapValue:{fields:i.update.fields}});if(i.updateMask){const g=new Jh((i.updateMask.fieldPaths||[]).map(T=>Ar.fromServerFormat(T)));return new Ec(l,d,g,n,s)}return new af(l,d,n,s)}if(i.delete){const l=Ma(r,i.delete);return new wp(l,n)}if(i.verify){const l=Ma(r,i.verify);return new bp(l,n)}return ht()}function UT(r,i){return{documents:[Cc(r,i.path)]}}function Ip(r,i){const n={structuredQuery:{}},s=i.path;null!==i.collectionGroup?(n.parent=Cc(r,s),n.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(n.parent=Cc(r,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(v){if(0===v.length)return;const C=v.map(T=>function(R){if("=="===R.op){if(wc(R.value))return{unaryFilter:{field:fd(R.field),op:"IS_NAN"}};if(Vw(R.value))return{unaryFilter:{field:fd(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(wc(R.value))return{unaryFilter:{field:fd(R.field),op:"IS_NOT_NAN"}};if(Vw(R.value))return{unaryFilter:{field:fd(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fd(R.field),op:ib(R.op),value:R.value}}}(T));return 1===C.length?C[0]:{compositeFilter:{op:"AND",filters:C}}}(i.filters);l&&(n.structuredQuery.where=l);const d=function(v){if(0!==v.length)return v.map(C=>{return{field:fd((T=C).field),direction:jT(T.dir)};var T})}(i.orderBy);d&&(n.structuredQuery.orderBy=d);const g=(C=i.limit,r.D||od(C)?C:{value:C});var C;return null!==g&&(n.structuredQuery.limit=g),i.startAt&&(n.structuredQuery.startAt=Mx(i.startAt)),i.endAt&&(n.structuredQuery.endAt=Mx(i.endAt)),n}function Tx(r){let i=BT(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){xt(1===s);const R=n.from[0];R.allDescendants?l=R.collectionId:i=i.child(R.collectionId)}let d=[];n.where&&(d=HT(n.where));let g=[];n.orderBy&&(g=n.orderBy.map(R=>{return new ld(xc((N=R).field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction));var N}));let v=null;n.limit&&(v=function(R){let N;return N="object"==typeof R?R.value:R,od(N)?null:N}(n.limit));let C=null;n.startAt&&(C=Rx(n.startAt));let T=null;return n.endAt&&(T=Rx(n.endAt)),dx(i,l,g,d,v,"F",C,T)}function HT(r){return r?void 0!==r.unaryFilter?[QT(r)]:void 0!==r.fieldFilter?[kx(r)]:void 0!==r.compositeFilter?r.compositeFilter.filters.map(i=>HT(i)).reduce((i,n)=>i.concat(n)):ht():[]}function Mx(r){return{before:r.before,values:r.position}}function Rx(r){return new pp(r.values||[],!!r.before)}function jT(r){return NT[r]}function ib(r){return PT[r]}function fd(r){return{fieldPath:r.canonicalString()}}function xc(r){return Ar.fromServerFormat(r.fieldPath)}function kx(r){return rs.create(xc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ht()}}(r.fieldFilter.op),r.fieldFilter.value)}function QT(r){switch(r.unaryFilter.op){case"IS_NAN":const i=xc(r.unaryFilter.field);return rs.create(i,"==",{doubleValue:NaN});case"IS_NULL":const n=xc(r.unaryFilter.field);return rs.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xc(r.unaryFilter.field);return rs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=xc(r.unaryFilter.field);return rs.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ht()}}function p1(r){const i=[];return r.fields.forEach(n=>i.push(n.canonicalString())),{fieldPaths:i}}function Fx(r){return r.length>=4&&"projects"===r.get(0)&&"databases"===r.get(2)}function Lo(r){let i="";for(let n=0;n<r.length;n++)i.length>0&&(i=rb(i)),i=zT(r.get(n),i);return rb(i)}function zT(r,i){let n=i;const s=r.length;for(let l=0;l<s;l++){const d=r.charAt(l);switch(d){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=d}}return n}function rb(r){return r+"\x01\x01"}function Ra(r){const i=r.length;if(xt(i>=2),2===i)return xt("\x01"===r.charAt(0)&&"\x01"===r.charAt(1)),en.emptyPath();const n=i-2,s=[];let l="";for(let d=0;d<i;){const g=r.indexOf("\x01",d);switch((g<0||g>n)&&ht(),r.charAt(g+1)){case"\x01":const v=r.substring(d,g);let C;0===l.length?C=v:(l+=v,C=l,l=""),s.push(C);break;case"\x10":l+=r.substring(d,g),l+="\0";break;case"\x11":l+=r.substring(d,g+1);break;default:ht()}d=g+2}return new en(s)}class Ox{constructor(i,n){this.seconds=i,this.nanoseconds=n}}class Ps{constructor(i,n,s){this.ownerId=i,this.allowTabSynchronization=n,this.leaseTimestampMs=s}}Ps.store="owner",Ps.key="owner";class Ic{constructor(i,n,s){this.userId=i,this.lastAcknowledgedBatchId=n,this.lastStreamToken=s}}Ic.store="mutationQueues",Ic.keyPath="userId";class xn{constructor(i,n,s,l,d){this.userId=i,this.batchId=n,this.localWriteTimeMs=s,this.baseMutations=l,this.mutations=d}}xn.store="mutations",xn.keyPath="batchId",xn.userMutationsIndex="userMutationsIndex",xn.userMutationsKeyPath=["userId","batchId"];class Pi{constructor(){}static prefixForUser(i){return[i]}static prefixForPath(i,n){return[i,Lo(n)]}static key(i,n,s){return[i,Lo(n),s]}}Pi.store="documentMutations",Pi.PLACEHOLDER=new Pi;class qT{constructor(i,n){this.path=i,this.readTime=n}}class Nx{constructor(i,n){this.path=i,this.version=n}}class Rn{constructor(i,n,s,l,d,g){this.unknownDocument=i,this.noDocument=n,this.document=s,this.hasCommittedMutations=l,this.readTime=d,this.parentPath=g}}Rn.store="remoteDocuments",Rn.readTimeIndex="readTimeIndex",Rn.readTimeIndexPath="readTime",Rn.collectionReadTimeIndex="collectionReadTimeIndex",Rn.collectionReadTimeIndexPath=["parentPath","readTime"];class Ls{constructor(i){this.byteSize=i}}Ls.store="remoteDocumentGlobal",Ls.key="remoteDocumentGlobalKey";class Zi{constructor(i,n,s,l,d,g,v){this.targetId=i,this.canonicalId=n,this.readTime=s,this.resumeToken=l,this.lastListenSequenceNumber=d,this.lastLimboFreeSnapshotVersion=g,this.query=v}}Zi.store="targets",Zi.keyPath="targetId",Zi.queryTargetsIndexName="queryTargetsIndex",Zi.queryTargetsKeyPath=["canonicalId","targetId"];class _r{constructor(i,n,s){this.targetId=i,this.path=n,this.sequenceNumber=s}}_r.store="targetDocuments",_r.keyPath=["targetId","path"],_r.documentTargetsIndex="documentTargetsIndex",_r.documentTargetsKeyPath=["path","targetId"];class Bs{constructor(i,n,s,l){this.highestTargetId=i,this.highestListenSequenceNumber=n,this.lastRemoteSnapshotVersion=s,this.targetCount=l}}Bs.key="targetGlobalKey",Bs.store="targetGlobal";class uf{constructor(i,n){this.collectionId=i,this.parent=n}}uf.store="collectionParents",uf.keyPath=["collectionId","parent"];class vl{constructor(i,n,s,l){this.clientId=i,this.updateTimeMs=n,this.networkEnabled=s,this.inForeground=l}}vl.store="clientMetadata",vl.keyPath="clientId";class df{constructor(i,n,s){this.bundleId=i,this.createTime=n,this.version=s}}df.store="bundles",df.keyPath="bundleId";class hf{constructor(i,n,s){this.name=i,this.readTime=n,this.bundledQuery=s}}hf.store="namedQueries",hf.keyPath="name";const WT=[Ic.store,xn.store,Pi.store,Rn.store,Zi.store,Ps.store,Bs.store,_r.store,vl.store,Ls.store,uf.store,df.store,hf.store],Px="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Lx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}class Pe{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(i){return this.next(void 0,i)}next(i,n){return this.callbackAttached&&ht(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(i,this.result):new Pe((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(i,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(n,d).next(s,l)}})}toPromise(){return new Promise((i,n)=>{this.next(i,n)})}wrapUserFunction(i){try{const n=i();return n instanceof Pe?n:Pe.resolve(n)}catch(n){return Pe.reject(n)}}wrapSuccess(i,n){return i?this.wrapUserFunction(()=>i(n)):Pe.resolve(n)}wrapFailure(i,n){return i?this.wrapUserFunction(()=>i(n)):Pe.reject(n)}static resolve(i){return new Pe((n,s)=>{n(i)})}static reject(i){return new Pe((n,s)=>{s(i)})}static waitFor(i){return new Pe((n,s)=>{let l=0,d=0,g=!1;i.forEach(v=>{++l,v.next(()=>{++d,g&&d===l&&n()},C=>s(C))}),g=!0,d===l&&n()})}static or(i){let n=Pe.resolve(!1);for(const s of i)n=n.next(l=>l?Pe.resolve(l):s());return n}static forEach(i,n){const s=[];return i.forEach((l,d)=>{s.push(n.call(this,l,d))}),this.waitFor(s)}}class Cy{constructor(i,n){this.action=i,this.transaction=n,this.aborted=!1,this.Tt=new ki,this.transaction.oncomplete=()=>{this.Tt.resolve()},this.transaction.onabort=()=>{n.error?this.Tt.reject(new Dp(i,n.error)):this.Tt.resolve()},this.transaction.onerror=s=>{const l=ff(s.target.error);this.Tt.reject(new Dp(i,l))}}static open(i,n,s,l){try{return new Cy(n,i.transaction(l,s))}catch(d){throw new Dp(n,d)}}get It(){return this.Tt.promise}abort(i){i&&this.Tt.reject(i),this.aborted||(Ge("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(i){const n=this.transaction.objectStore(i);return new ZT(n)}}class Bo{constructor(i,n,s){this.name=i,this.version=n,this.At=s,12.2===Bo.Rt((0,st.z$)())&&ui("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return Ge("SimpleDb","Removing database:",i),gd(window.indexedDB.deleteDatabase(i)).toPromise()}static bt(){if("undefined"==typeof indexedDB)return!1;if(Bo.Pt())return!0;const i=(0,st.z$)(),n=Bo.Rt(i),s=0<n&&n<10,l=Bo.vt(i),d=0<l&&l<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||s||d)}static Pt(){var i;return"undefined"!=typeof process&&"YES"===(null===(i=process.env)||void 0===i?void 0:i.Vt)}static St(i,n){return i.store(n)}static Rt(i){const n=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static vt(i){const n=i.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}Dt(i){var n=this;return(0,ce.Z)(function*(){return n.db||(Ge("SimpleDb","Opening database:",n.name),n.db=yield new Promise((s,l)=>{const d=indexedDB.open(n.name,n.version);d.onsuccess=g=>{s(g.target.result)},d.onblocked=()=>{l(new Dp(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=g=>{const v=g.target.error;l("VersionError"===v.name?new Le(be.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===v.name?new Le(be.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+v):new Dp(i,v))},d.onupgradeneeded=g=>{Ge("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',g.oldVersion),n.At.Ct(g.target.result,d.transaction,g.oldVersion,n.version).next(()=>{Ge("SimpleDb","Database upgrade to version "+n.version+" complete")})}})),n.Nt&&(n.db.onversionchange=s=>n.Nt(s)),n.db})()}xt(i){this.Nt=i,this.db&&(this.db.onversionchange=n=>i(n))}runTransaction(i,n,s,l){var d=this;return(0,ce.Z)(function*(){const g="readonly"===n;let v=0;for(;;){++v;try{d.db=yield d.Dt(i);const C=Cy.open(d.db,i,g?"readonly":"readwrite",s),T=l(C).catch(R=>(C.abort(R),Pe.reject(R))).toPromise();return T.catch(()=>{}),yield C.It,T}catch(C){const T="FirebaseError"!==C.name&&v<3;if(Ge("SimpleDb","Transaction failed with error:",C.message,"Retrying:",T),d.close(),!T)return Promise.reject(C)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class m1{constructor(i){this.kt=i,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(i){this.kt=i}done(){this.$t=!0}Mt(i){this.Ot=i}delete(){return gd(this.kt.delete())}}class Dp extends Le{constructor(i,n){super(be.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Vo(r){return"IndexedDbTransactionError"===r.name}class ZT{constructor(i){this.store=i}put(i,n){let s;return void 0!==n?(Ge("SimpleDb","PUT",this.store.name,i,n),s=this.store.put(n,i)):(Ge("SimpleDb","PUT",this.store.name,"<auto-key>",i),s=this.store.put(i)),gd(s)}add(i){return Ge("SimpleDb","ADD",this.store.name,i,i),gd(this.store.add(i))}get(i){return gd(this.store.get(i)).next(n=>(void 0===n&&(n=null),Ge("SimpleDb","GET",this.store.name,i,n),n))}delete(i){return Ge("SimpleDb","DELETE",this.store.name,i),gd(this.store.delete(i))}count(){return Ge("SimpleDb","COUNT",this.store.name),gd(this.store.count())}Lt(i,n){const s=this.cursor(this.options(i,n)),l=[];return this.Bt(s,(d,g)=>{l.push(g)}).next(()=>l)}Ut(i,n){Ge("SimpleDb","DELETE ALL",this.store.name);const s=this.options(i,n);s.qt=!1;const l=this.cursor(s);return this.Bt(l,(d,g,v)=>v.delete())}Kt(i,n){let s;n?s=i:(s={},n=i);const l=this.cursor(s);return this.Bt(l,n)}jt(i){const n=this.cursor({});return new Pe((s,l)=>{n.onerror=d=>{const g=ff(d.target.error);l(g)},n.onsuccess=d=>{const g=d.target.result;g?i(g.primaryKey,g.value).next(v=>{v?g.continue():s()}):s()}})}Bt(i,n){const s=[];return new Pe((l,d)=>{i.onerror=g=>{d(g.target.error)},i.onsuccess=g=>{const v=g.target.result;if(!v)return void l();const C=new m1(v),T=n(v.primaryKey,v.value,C);if(T instanceof Pe){const R=T.catch(N=>(C.done(),Pe.reject(N)));s.push(R)}C.isDone?l():null===C.Ft?v.continue():v.continue(C.Ft)}}).next(()=>Pe.waitFor(s))}options(i,n){let s;return void 0!==i&&("string"==typeof i?s=i:n=i),{index:s,range:n}}cursor(i){let n="next";if(i.reverse&&(n="prev"),i.index){const s=this.store.index(i.index);return i.qt?s.openKeyCursor(i.range,n):s.openCursor(i.range,n)}return this.store.openCursor(i.range,n)}}function gd(r){return new Pe((i,n)=>{r.onsuccess=s=>{i(s.target.result)},r.onerror=s=>{const l=ff(s.target.error);n(l)}})}let Bx=!1;function ff(r){const i=Bo.Rt((0,st.z$)());if(i>=12.2&&i<13){const n="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(n)>=0){const s=new Le("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Bx||(Bx=!0,setTimeout(()=>{throw s},0)),s}}return r}class Dc extends Lx{constructor(i,n){super(),this.Qt=i,this.currentSequenceNumber=n}}function _s(r,i){const n=qe(r);return Bo.St(n.Qt,i)}class sb{constructor(i,n,s,l){this.batchId=i,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(i,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(i.key)&&Ax(d,i,s[l])}}applyToLocalView(i){for(const n of this.baseMutations)n.key.isEqual(i.key)&&Ww(n,i,this.localWriteTime);for(const n of this.mutations)n.key.isEqual(i.key)&&Ww(n,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(n=>{const s=i.get(n.key),l=s;this.applyToLocalView(l),s.isValidDocument()||l.convertToNoDocument(Ot.min())})}keys(){return this.mutations.reduce((i,n)=>i.add(n.key),sn())}isEqual(i){return this.batchId===i.batchId&&sd(this.mutations,i.mutations,(n,s)=>ud(n,s))&&sd(this.baseMutations,i.baseMutations,(n,s)=>ud(n,s))}}class Vx{constructor(i,n,s,l){this.batch=i,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(i,n,s){xt(i.mutations.length===s.length);let l=Ex();const d=i.mutations;for(let g=0;g<d.length;g++)l=l.insert(d[g].key,s[g].version);return new Vx(i,n,s,l)}}class Sc{constructor(i,n,s,l,d=Ot.min(),g=Ot.min(),v=Wi.EMPTY_BYTE_STRING){this.target=i,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=v}withSequenceNumber(i){return new Sc(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,n){return new Sc(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new Sc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class Sp{constructor(i){this.Wt=i}}function ob(r,i){if(i.document)return hd(r.Wt,i.document,!!i.hasCommittedMutations);if(i.noDocument){const n=ct.fromSegments(i.noDocument.path),s=pd(i.noDocument.readTime),l=Cn.newNoDocument(n,s);return i.hasCommittedMutations?l.setHasCommittedMutations():l}if(i.unknownDocument){const n=ct.fromSegments(i.unknownDocument.path),s=pd(i.unknownDocument.version);return Cn.newUnknownDocument(n,s)}return ht()}function Ux(r,i,n){const s=xy(n),l=i.key.path.popLast().toArray();if(i.isFoundDocument()){const d={name:by(v=r.Wt,(C=i).key),fields:C.data.value.mapValue.fields,updateTime:Cp(v,C.version.toTimestamp())};return new Rn(null,null,d,i.hasCommittedMutations,s,l)}var v,C;if(i.isNoDocument()){const d=i.key.path.toArray(),g=Tc(i.version),v=i.hasCommittedMutations;return new Rn(null,new qT(d,g),null,v,s,l)}if(i.isUnknownDocument()){const d=i.key.path.toArray(),g=Tc(i.version);return new Rn(new Nx(d,g),null,null,!0,s,l)}return ht()}function xy(r){const i=r.toTimestamp();return[i.seconds,i.nanoseconds]}function ab(r){const i=new Fi(r[0],r[1]);return Ot.fromTimestamp(i)}function Tc(r){const i=r.toTimestamp();return new Ox(i.seconds,i.nanoseconds)}function pd(r){const i=new Fi(r.seconds,r.nanoseconds);return Ot.fromTimestamp(i)}function md(r,i){const n=(i.baseMutations||[]).map(d=>Po(r.Wt,d));for(let d=0;d<i.mutations.length-1;++d){const g=i.mutations[d];d+1<i.mutations.length&&void 0!==i.mutations[d+1].transform&&(g.updateTransforms=i.mutations[d+1].transform.fieldTransforms,i.mutations.splice(d+1,1),++d)}const s=i.mutations.map(d=>Po(r.Wt,d)),l=Fi.fromMillis(i.localWriteTimeMs);return new sb(i.batchId,l,n,s)}function Tp(r){const i=pd(r.readTime),n=void 0!==r.lastLimboFreeSnapshotVersion?pd(r.lastLimboFreeSnapshotVersion):Ot.min();let s;var l;return void 0!==r.query.documents?(xt(1===(l=r.query).documents.length),s=Ns(Ta(BT(l.documents[0])))):s=Ns(Tx(r.query)),new Sc(s,r.targetId,0,r.lastListenSequenceNumber,i,n,Wi.fromBase64String(r.resumeToken))}function Gx(r,i){const n=Tc(i.snapshotVersion),s=Tc(i.lastLimboFreeSnapshotVersion);let l;l=cy(i.target)?UT(r.Wt,i.target):Ip(r.Wt,i.target);const d=i.resumeToken.toBase64();return new Zi(i.targetId,ef(i.target),n,d,i.sequenceNumber,s,l)}function Iy(r){const i=Tx({parent:r.parent,structuredQuery:r.structuredQuery});return"LAST"===r.limitType?hx(i,i.limit,"L"):i}class KT{getBundleMetadata(i,n){return lb(i).get(n).next(s=>{if(s)return{id:(l=s).bundleId,createTime:pd(l.createTime),version:l.version};var l})}saveBundleMetadata(i,n){return lb(i).put({bundleId:(s=n).id,createTime:Tc(Ni(s.createTime)),version:s.version});var s}getNamedQuery(i,n){return Mp(i).get(n).next(s=>{if(s)return{name:(l=s).name,query:Iy(l.bundledQuery),readTime:pd(l.readTime)};var l})}saveNamedQuery(i,n){return Mp(i).put({name:(s=n).name,readTime:Tc(Ni(s.readTime)),bundledQuery:s.bundledQuery});var s}}function lb(r){return _s(r,df.store)}function Mp(r){return _s(r,hf.store)}class Dy{constructor(){this.Gt=new Hx}addToCollectionParentIndex(i,n){return this.Gt.add(n),Pe.resolve()}getCollectionParents(i,n){return Pe.resolve(this.Gt.getEntries(n))}}class Hx{constructor(){this.index={}}add(i){const n=i.lastSegment(),s=i.popLast(),l=this.index[n]||new Jn(en.comparator),d=!l.has(s);return this.index[n]=l.add(s),d}has(i){const n=i.lastSegment(),s=i.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(i){return(this.index[i]||new Jn(en.comparator)).toArray()}}class Rp{constructor(){this.zt=new Hx}addToCollectionParentIndex(i,n){if(!this.zt.has(n)){const s=n.lastSegment(),l=n.popLast();i.addOnCommittedListener(()=>{this.zt.add(n)});const d={collectionId:s,parent:Lo(l)};return tn(i).put(d)}return Pe.resolve()}getCollectionParents(i,n){const s=[],l=IDBKeyRange.bound([n,""],[Ow(n),""],!1,!0);return tn(i).Lt(l).next(d=>{for(const g of d){if(g.collectionId!==n)break;s.push(Ra(g.parent))}return s})}}function tn(r){return _s(r,uf.store)}const wl={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Li{constructor(i,n,s){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}static withCacheSize(i){return new Li(i,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function gf(r,i,n){const s=r.store(xn.store),l=r.store(Pi.store),d=[],g=IDBKeyRange.only(n.batchId);let v=0;const C=s.Kt({range:g},(R,N,U)=>(v++,U.delete()));d.push(C.next(()=>{xt(1===v)}));const T=[];for(const R of n.mutations){const N=Pi.key(i,R.key.path,n.batchId);d.push(l.delete(N)),T.push(R.key)}return Pe.waitFor(d).next(()=>T)}function cb(r){if(!r)return 0;let i;if(r.document)i=r.document;else if(r.unknownDocument)i=r.unknownDocument;else{if(!r.noDocument)throw ht();i=r.noDocument}return JSON.stringify(i).length}Li.DEFAULT_COLLECTION_PERCENTILE=10,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Li.DEFAULT=new Li(41943040,Li.DEFAULT_COLLECTION_PERCENTILE,Li.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Li.DISABLED=new Li(-1,0,0);class Tt{constructor(i,n,s,l){this.userId=i,this.N=n,this.Ht=s,this.referenceDelegate=l,this.Jt={}}static Yt(i,n,s,l){xt(""!==i.uid);const d=i.isAuthenticated()?i.uid:"";return new Tt(d,n,s,l)}checkEmpty(i){let n=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ka(i).Kt({index:xn.userMutationsIndex,range:s},(l,d,g)=>{n=!1,g.done()}).next(()=>n)}addMutationBatch(i,n,s,l){const d=oo(i),g=ka(i);return g.add({}).next(v=>{xt("number"==typeof v);const C=new sb(v,n,s,l),T=function(U,q,$){const we=$.baseMutations.map(Be=>Ey(U.Wt,Be)),Oe=$.mutations.map(Be=>Ey(U.Wt,Be));return new xn(q,$.batchId,$.localWriteTime.toMillis(),we,Oe)}(this.N,this.userId,C),R=[];let N=new Jn((U,q)=>Ht(U.canonicalString(),q.canonicalString()));for(const U of l){const q=Pi.key(this.userId,U.key.path,v);N=N.add(U.key.path.popLast()),R.push(g.put(T)),R.push(d.put(q,Pi.PLACEHOLDER))}return N.forEach(U=>{R.push(this.Ht.addToCollectionParentIndex(i,U))}),i.addOnCommittedListener(()=>{this.Jt[v]=C.keys()}),Pe.waitFor(R).next(()=>C)})}lookupMutationBatch(i,n){return ka(i).get(n).next(s=>s?(xt(s.userId===this.userId),md(this.N,s)):null)}Xt(i,n){return this.Jt[n]?Pe.resolve(this.Jt[n]):this.lookupMutationBatch(i,n).next(s=>{if(s){const l=s.keys();return this.Jt[n]=l,l}return null})}getNextMutationBatchAfterBatchId(i,n){const s=n+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return ka(i).Kt({index:xn.userMutationsIndex,range:l},(g,v,C)=>{v.userId===this.userId&&(xt(v.batchId>=s),d=md(this.N,v)),C.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(i){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return ka(i).Kt({index:xn.userMutationsIndex,range:n,reverse:!0},(l,d,g)=>{s=d.batchId,g.done()}).next(()=>s)}getAllMutationBatches(i){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ka(i).Lt(xn.userMutationsIndex,n).next(s=>s.map(l=>md(this.N,l)))}getAllMutationBatchesAffectingDocumentKey(i,n){const s=Pi.prefixForPath(this.userId,n.path),l=IDBKeyRange.lowerBound(s),d=[];return oo(i).Kt({range:l},(g,v,C)=>{const[T,R,N]=g,U=Ra(R);if(T===this.userId&&n.path.isEqual(U))return ka(i).get(N).next(q=>{if(!q)throw ht();xt(q.userId===this.userId),d.push(md(this.N,q))});C.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new Jn(Ht);const l=[];return n.forEach(d=>{const g=Pi.prefixForPath(this.userId,d.path),v=IDBKeyRange.lowerBound(g),C=oo(i).Kt({range:v},(T,R,N)=>{const[U,q,$]=T,we=Ra(q);U===this.userId&&d.path.isEqual(we)?s=s.add($):N.done()});l.push(C)}),Pe.waitFor(l).next(()=>this.Zt(i,s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,l=s.length+1,d=Pi.prefixForPath(this.userId,s),g=IDBKeyRange.lowerBound(d);let v=new Jn(Ht);return oo(i).Kt({range:g},(C,T,R)=>{const[N,U,q]=C,$=Ra(U);N===this.userId&&s.isPrefixOf($)?$.length===l&&(v=v.add(q)):R.done()}).next(()=>this.Zt(i,v))}Zt(i,n){const s=[],l=[];return n.forEach(d=>{l.push(ka(i).get(d).next(g=>{if(null===g)throw ht();xt(g.userId===this.userId),s.push(md(this.N,g))}))}),Pe.waitFor(l).next(()=>s)}removeMutationBatch(i,n){return gf(i.Qt,this.userId,n).next(s=>(i.addOnCommittedListener(()=>{this.te(n.batchId)}),Pe.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(i,l))))}te(i){delete this.Jt[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(n=>{if(!n)return Pe.resolve();const s=IDBKeyRange.lowerBound(Pi.prefixForUser(this.userId)),l=[];return oo(i).Kt({range:s},(d,g,v)=>{if(d[0]===this.userId){const C=Ra(d[1]);l.push(C)}else v.done()}).next(()=>{xt(0===l.length)})})}containsKey(i,n){return Vs(i,this.userId,n)}ee(i){return JT(i).get(this.userId).next(n=>n||new Ic(this.userId,-1,""))}}function Vs(r,i,n){const s=Pi.prefixForPath(i,n.path),l=s[1],d=IDBKeyRange.lowerBound(s);let g=!1;return oo(r).Kt({range:d,qt:!0},(v,C,T)=>{const[R,N,U]=v;R===i&&N===l&&(g=!0),T.done()}).next(()=>g)}function ka(r){return _s(r,xn.store)}function oo(r){return _s(r,Pi.store)}function JT(r){return _s(r,Ic.store)}class Mc{constructor(i){this.ne=i}next(){return this.ne+=2,this.ne}static se(){return new Mc(0)}static ie(){return new Mc(-1)}}class jx{constructor(i,n){this.referenceDelegate=i,this.N=n}allocateTargetId(i){return this.re(i).next(n=>{const s=new Mc(n.highestTargetId);return n.highestTargetId=s.next(),this.oe(i,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.re(i).next(n=>Ot.fromTimestamp(new Fi(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.re(i).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(i,n,s){return this.re(i).next(l=>(l.highestListenSequenceNumber=n,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),n>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=n),this.oe(i,l)))}addTargetData(i,n){return this.ae(i,n).next(()=>this.re(i).next(s=>(s.targetCount+=1,this.ce(n,s),this.oe(i,s))))}updateTargetData(i,n){return this.ae(i,n)}removeTargetData(i,n){return this.removeMatchingKeysForTargetId(i,n.targetId).next(()=>kp(i).delete(n.targetId)).next(()=>this.re(i)).next(s=>(xt(s.targetCount>0),s.targetCount-=1,this.oe(i,s)))}removeTargets(i,n,s){let l=0;const d=[];return kp(i).Kt((g,v)=>{const C=Tp(v);C.sequenceNumber<=n&&null===s.get(C.targetId)&&(l++,d.push(this.removeTargetData(i,C)))}).next(()=>Pe.waitFor(d)).next(()=>l)}forEachTarget(i,n){return kp(i).Kt((s,l)=>{const d=Tp(l);n(d)})}re(i){return Qx(i).get(Bs.key).next(n=>(xt(null!==n),n))}oe(i,n){return Qx(i).put(Bs.key,n)}ae(i,n){return kp(i).put(Gx(this.N,n))}ce(i,n){let s=!1;return i.targetId>n.highestTargetId&&(n.highestTargetId=i.targetId,s=!0),i.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=i.sequenceNumber,s=!0),s}getTargetCount(i){return this.re(i).next(n=>n.targetCount)}getTargetData(i,n){const s=ef(n),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return kp(i).Kt({range:l,index:Zi.queryTargetsIndexName},(g,v,C)=>{const T=Tp(v);yt(n,T.target)&&(d=T,C.done())}).next(()=>d)}addMatchingKeys(i,n,s){const l=[],d=Rc(i);return n.forEach(g=>{const v=Lo(g.path);l.push(d.put(new _r(s,v))),l.push(this.referenceDelegate.addReference(i,s,g))}),Pe.waitFor(l)}removeMatchingKeys(i,n,s){const l=Rc(i);return Pe.forEach(n,d=>{const g=Lo(d.path);return Pe.waitFor([l.delete([s,g]),this.referenceDelegate.removeReference(i,s,d)])})}removeMatchingKeysForTargetId(i,n){const s=Rc(i),l=IDBKeyRange.bound([n],[n+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(i,n){const s=IDBKeyRange.bound([n],[n+1],!1,!0),l=Rc(i);let d=sn();return l.Kt({range:s,qt:!0},(g,v,C)=>{const T=Ra(g[1]),R=new ct(T);d=d.add(R)}).next(()=>d)}containsKey(i,n){const s=Lo(n.path),l=IDBKeyRange.bound([s],[Ow(s)],!1,!0);let d=0;return Rc(i).Kt({index:_r.documentTargetsIndex,qt:!0,range:l},([g,v],C,T)=>{0!==g&&(d++,T.done())}).next(()=>d>0)}Et(i,n){return kp(i).get(n).next(s=>s?Tp(s):null)}}function kp(r){return _s(r,Zi.store)}function Qx(r){return _s(r,Bs.store)}function Rc(r){return _s(r,_r.store)}function Ki(r){return kn.apply(this,arguments)}function kn(){return(kn=(0,ce.Z)(function*(r){if(r.code!==be.FAILED_PRECONDITION||r.message!==Px)throw r;Ge("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function ao([r,i],[n,s]){const l=Ht(r,n);return 0===l?Ht(i,s):l}class zx{constructor(i){this.ue=i,this.buffer=new Jn(ao),this.he=0}le(){return++this.he}fe(i){const n=[i,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();ao(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class $T{constructor(i,n){this.garbageCollector=i,this.asyncQueue=n,this.de=!1,this.we=null}start(i){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(i)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(i){var n=this;const s=this.de?3e5:6e4;Ge("LruGarbageCollector",`Garbage collection scheduled in ${s}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",s,(0,ce.Z)(function*(){n.we=null,n.de=!0;try{yield i.collectGarbage(n.garbageCollector)}catch(l){Vo(l)?Ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",l):yield Ki(l)}yield n._e(i)}))}}class qx{constructor(i,n){this.me=i,this.params=n}calculateTargetCount(i,n){return this.me.ge(i).next(s=>Math.floor(n/100*s))}nthSequenceNumber(i,n){if(0===n)return Pe.resolve(ys.T);const s=new zx(n);return this.me.forEachTarget(i,l=>s.fe(l.sequenceNumber)).next(()=>this.me.ye(i,l=>s.fe(l))).next(()=>s.maxValue)}removeTargets(i,n,s){return this.me.removeTargets(i,n,s)}removeOrphanedDocuments(i,n){return this.me.removeOrphanedDocuments(i,n)}collect(i,n){return-1===this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),Pe.resolve(wl)):this.getCacheSize(i).next(s=>s<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),wl):this.pe(i,n))}getCacheSize(i){return this.me.getCacheSize(i)}pe(i,n){let s,l,d,g,v,C,T;const R=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(N=>(N>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${N}`),l=this.params.maximumSequenceNumbersToCollect):l=N,g=Date.now(),this.nthSequenceNumber(i,l))).next(N=>(s=N,v=Date.now(),this.removeTargets(i,s,n))).next(N=>(d=N,C=Date.now(),this.removeOrphanedDocuments(i,s))).next(N=>(T=Date.now(),ro()<=Uu.in.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${g-R}ms\n\tDetermined least recently used ${l} in `+(v-g)+`ms\n\tRemoved ${d} targets in `+(C-v)+`ms\n\tRemoved ${N} documents in `+(T-C)+`ms\nTotal Duration: ${T-R}ms`),Pe.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:N})))}}class ub{constructor(i,n){this.db=i,this.garbageCollector=new qx(this,n)}ge(i){const n=this.Ee(i);return this.db.getTargetCache().getTargetCount(i).next(s=>n.next(l=>s+l))}Ee(i){let n=0;return this.ye(i,s=>{n++}).next(()=>n)}forEachTarget(i,n){return this.db.getTargetCache().forEachTarget(i,n)}ye(i,n){return this.Te(i,(s,l)=>n(l))}addReference(i,n,s){return bl(i,s)}removeReference(i,n,s){return bl(i,s)}removeTargets(i,n,s){return this.db.getTargetCache().removeTargets(i,n,s)}markPotentiallyOrphaned(i,n){return bl(i,n)}Ie(i,n){return function(s,l){let d=!1;return JT(s).jt(g=>Vs(s,g,l).next(v=>(v&&(d=!0),Pe.resolve(!v)))).next(()=>d)}(i,n)}removeOrphanedDocuments(i,n){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Te(i,(g,v)=>{if(v<=n){const C=this.Ie(i,g).next(T=>{if(!T)return d++,s.getEntry(i,g).next(()=>(s.removeEntry(g),Rc(i).delete([0,Lo(g.path)])))});l.push(C)}}).next(()=>Pe.waitFor(l)).next(()=>s.apply(i)).next(()=>d)}removeTarget(i,n){const s=n.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,s)}updateLimboDocument(i,n){return bl(i,n)}Te(i,n){const s=Rc(i);let l,d=ys.T;return s.Kt({index:_r.documentTargetsIndex},([g,v],{path:C,sequenceNumber:T})=>{0===g?(d!==ys.T&&n(new ct(Ra(l)),d),d=T,l=C):d=ys.T}).next(()=>{d!==ys.T&&n(new ct(Ra(l)),d)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function bl(r,i){return Rc(r).put((s=r.currentSequenceNumber,new _r(0,Lo(i.path),s)));var s}class Fa{constructor(i,n){this.mapKeyFn=i,this.equalsFn=n,this.inner={}}get(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,i))return d}has(i){return void 0!==this.get(i)}set(i,n){const s=this.mapKeyFn(i),l=this.inner[s];if(void 0!==l){for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],i))return void(l[d]=[i,n]);l.push([i,n])}else this.inner[s]=[[i,n]]}delete(i){const n=this.mapKeyFn(i),s=this.inner[n];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],i))return 1===s.length?delete this.inner[n]:s.splice(l,1),!0;return!1}forEach(i){yc(this.inner,(n,s)=>{for(const[l,d]of s)i(l,d)})}isEmpty(){return Pw(this.inner)}}class Yx{constructor(){this.changes=new Fa(i=>i.toString(),(i,n)=>i.isEqual(n)),this.changesApplied=!1}getReadTime(i){const n=this.changes.get(i);return n?n.readTime:Ot.min()}addEntry(i,n){this.assertNotApplied(),this.changes.set(i.key,{document:i,readTime:n})}removeEntry(i,n=null){this.assertNotApplied(),this.changes.set(i,{document:Cn.newInvalidDocument(i),readTime:n})}getEntry(i,n){this.assertNotApplied();const s=this.changes.get(n);return void 0!==s?Pe.resolve(s.document):this.getFromCache(i,n)}getEntries(i,n){return this.getAllFromCache(i,n)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}class Ad{constructor(i,n){this.N=i,this.Ht=n}addEntry(i,n,s){return Oa(i).put(kc(n),s)}removeEntry(i,n){const s=Oa(i),l=kc(n);return s.delete(l)}updateMetadata(i,n){return this.getMetadata(i).next(s=>(s.byteSize+=n,this.Ae(i,s)))}getEntry(i,n){return Oa(i).get(kc(n)).next(s=>this.Re(n,s))}be(i,n){return Oa(i).get(kc(n)).next(s=>({document:this.Re(n,s),size:cb(s)}))}getEntries(i,n){let s=so();return this.Pe(i,n,(l,d)=>{const g=this.Re(l,d);s=s.insert(l,g)}).next(()=>s)}ve(i,n){let s=so(),l=new Oi(ct.comparator);return this.Pe(i,n,(d,g)=>{const v=this.Re(d,g);s=s.insert(d,v),l=l.insert(d,cb(g))}).next(()=>({documents:s,Ve:l}))}Pe(i,n,s){if(n.isEmpty())return Pe.resolve();const l=IDBKeyRange.bound(n.first().path.toArray(),n.last().path.toArray()),d=n.getIterator();let g=d.getNext();return Oa(i).Kt({range:l},(v,C,T)=>{const R=ct.fromSegments(v);for(;g&&ct.comparator(g,R)<0;)s(g,null),g=d.getNext();g&&g.isEqual(R)&&(s(g,C),g=d.hasNext()?d.getNext():null),g?T.Mt(g.path.toArray()):T.done()}).next(()=>{for(;g;)s(g,null),g=d.hasNext()?d.getNext():null})}getDocumentsMatchingQuery(i,n,s){let l=so();const d=n.path.length+1,g={};if(s.isEqual(Ot.min())){const v=n.path.toArray();g.range=IDBKeyRange.lowerBound(v)}else{const v=n.path.toArray(),C=xy(s);g.range=IDBKeyRange.lowerBound([v,C],!0),g.index=Rn.collectionReadTimeIndex}return Oa(i).Kt(g,(v,C,T)=>{if(v.length!==d)return;const R=ob(this.N,C);n.path.isPrefixOf(R.key.path)?Ap(n,R)&&(l=l.insert(R.key,R)):T.done()}).next(()=>l)}newChangeBuffer(i){return new XT(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(n=>n.byteSize)}getMetadata(i){return db(i).get(Ls.key).next(n=>(xt(!!n),n))}Ae(i,n){return db(i).put(Ls.key,n)}Re(i,n){if(n){const s=ob(this.N,n);if(!s.isNoDocument()||!s.version.isEqual(Ot.min()))return s}return Cn.newInvalidDocument(i)}}class XT extends Yx{constructor(i,n){super(),this.Se=i,this.trackRemovals=n,this.De=new Fa(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(i){const n=[];let s=0,l=new Jn((d,g)=>Ht(d.canonicalString(),g.canonicalString()));return this.changes.forEach((d,g)=>{const v=this.De.get(d);if(g.document.isValidDocument()){const C=Ux(this.Se.N,g.document,this.getReadTime(d));l=l.add(d.path.popLast()),s+=cb(C)-v,n.push(this.Se.addEntry(i,d,C))}else if(s-=v,this.trackRemovals){const C=Ux(this.Se.N,Cn.newNoDocument(d,Ot.min()),this.getReadTime(d));n.push(this.Se.addEntry(i,d,C))}else n.push(this.Se.removeEntry(i,d))}),l.forEach(d=>{n.push(this.Se.Ht.addToCollectionParentIndex(i,d))}),n.push(this.Se.updateMetadata(i,s)),Pe.waitFor(n)}getFromCache(i,n){return this.Se.be(i,n).next(s=>(this.De.set(n,s.size),s.document))}getAllFromCache(i,n){return this.Se.ve(i,n).next(({documents:s,Ve:l})=>(l.forEach((d,g)=>{this.De.set(d,g)}),s))}}function db(r){return _s(r,Ls.store)}function Oa(r){return _s(r,Rn.store)}function kc(r){return r.path.toArray()}class hb{constructor(i){this.N=i}Ct(i,n,s,l){xt(s<l&&s>=0&&l<=11);const d=new Cy("createOrUpgrade",n);var v;s<1&&l>=1&&(i.createObjectStore(Ps.store),(v=i).createObjectStore(Ic.store,{keyPath:Ic.keyPath}),v.createObjectStore(xn.store,{keyPath:xn.keyPath,autoIncrement:!0}).createIndex(xn.userMutationsIndex,xn.userMutationsKeyPath,{unique:!0}),v.createObjectStore(Pi.store),fb(i),function(v){v.createObjectStore(Rn.store)}(i));let g=Pe.resolve();return s<3&&l>=3&&(0!==s&&(function(v){v.deleteObjectStore(_r.store),v.deleteObjectStore(Zi.store),v.deleteObjectStore(Bs.store)}(i),fb(i)),g=g.next(()=>function(v){const C=v.store(Bs.store),T=new Bs(0,0,Ot.min().toTimestamp(),0);return C.put(Bs.key,T)}(d))),s<4&&l>=4&&(0!==s&&(g=g.next(()=>function(v,C){return C.store(xn.store).Lt().next(T=>{v.deleteObjectStore(xn.store),v.createObjectStore(xn.store,{keyPath:xn.keyPath,autoIncrement:!0}).createIndex(xn.userMutationsIndex,xn.userMutationsKeyPath,{unique:!0});const R=C.store(xn.store),N=T.map(U=>R.put(U));return Pe.waitFor(N)})}(i,d))),g=g.next(()=>{!function(v){v.createObjectStore(vl.store,{keyPath:vl.keyPath})}(i)})),s<5&&l>=5&&(g=g.next(()=>this.Ce(d))),s<6&&l>=6&&(g=g.next(()=>(function(v){v.createObjectStore(Ls.store)}(i),this.Ne(d)))),s<7&&l>=7&&(g=g.next(()=>this.xe(d))),s<8&&l>=8&&(g=g.next(()=>this.ke(i,d))),s<9&&l>=9&&(g=g.next(()=>{(function(v){v.objectStoreNames.contains("remoteDocumentChanges")&&v.deleteObjectStore("remoteDocumentChanges")})(i),function(v){const C=v.objectStore(Rn.store);C.createIndex(Rn.readTimeIndex,Rn.readTimeIndexPath,{unique:!1}),C.createIndex(Rn.collectionReadTimeIndex,Rn.collectionReadTimeIndexPath,{unique:!1})}(n)})),s<10&&l>=10&&(g=g.next(()=>this.$e(d))),s<11&&l>=11&&(g=g.next(()=>{(function(v){v.createObjectStore(df.store,{keyPath:df.keyPath})})(i),function(v){v.createObjectStore(hf.store,{keyPath:hf.keyPath})}(i)})),g}Ne(i){let n=0;return i.store(Rn.store).Kt((s,l)=>{n+=cb(l)}).next(()=>{const s=new Ls(n);return i.store(Ls.store).put(Ls.key,s)})}Ce(i){const n=i.store(Ic.store),s=i.store(xn.store);return n.Lt().next(l=>Pe.forEach(l,d=>{const g=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.Lt(xn.userMutationsIndex,g).next(v=>Pe.forEach(v,C=>{xt(C.userId===d.userId);const T=md(this.N,C);return gf(i,d.userId,T).next(()=>{})}))}))}xe(i){const n=i.store(_r.store),s=i.store(Rn.store);return i.store(Bs.store).get(Bs.key).next(l=>{const d=[];return s.Kt((g,v)=>{const C=new en(g),T=[0,Lo(C)];d.push(n.get(T).next(R=>R?Pe.resolve():n.put(new _r(0,Lo(C),l.highestListenSequenceNumber))))}).next(()=>Pe.waitFor(d))})}ke(i,n){i.createObjectStore(uf.store,{keyPath:uf.keyPath});const s=n.store(uf.store),l=new Hx,d=g=>{if(l.add(g)){const v=g.lastSegment(),C=g.popLast();return s.put({collectionId:v,parent:Lo(C)})}};return n.store(Rn.store).Kt({qt:!0},(g,v)=>{const C=new en(g);return d(C.popLast())}).next(()=>n.store(Pi.store).Kt({qt:!0},([g,v,C],T)=>{const R=Ra(v);return d(R.popLast())}))}$e(i){const n=i.store(Zi.store);return n.Kt((s,l)=>{const d=Tp(l),g=Gx(this.N,d);return n.put(g)})}}function fb(r){r.createObjectStore(_r.store,{keyPath:_r.keyPath}).createIndex(_r.documentTargetsIndex,_r.documentTargetsKeyPath,{unique:!0}),r.createObjectStore(Zi.store,{keyPath:Zi.keyPath}).createIndex(Zi.queryTargetsIndexName,Zi.queryTargetsKeyPath,{unique:!0}),r.createObjectStore(Bs.store)}const Fc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gb{constructor(i,n,s,l,d,g,v,C,T,R){if(this.allowTabSynchronization=i,this.persistenceKey=n,this.clientId=s,this.Oe=d,this.window=g,this.document=v,this.Fe=T,this.Me=R,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=N=>Promise.resolve(),!gb.bt())throw new Le(be.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ub(this,l),this.We=n+"main",this.N=new Sp(C),this.Ge=new Bo(this.We,11,new hb(this.N)),this.ze=new jx(this.referenceDelegate,this.N),this.Ht=new Rp,this.He=new Ad(this.N,this.Ht),this.Je=new KT,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===R&&ui("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Le(be.FAILED_PRECONDITION,Fc);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.ze.getHighestSequenceNumber(i))}).then(i=>{this.Le=new ys(i,this.Fe)}).then(()=>{this.Be=!0}).catch(i=>(this.Ge&&this.Ge.close(),Promise.reject(i)))}nn(i){var n=this;return this.Qe=function(){var s=(0,ce.Z)(function*(l){if(n.started)return i(l)});return function(l){return s.apply(this,arguments)}}(),i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ge.xt(function(){var n=(0,ce.Z)(function*(s){null===s.newVersion&&(yield i())});return function(s){return n.apply(this,arguments)}}())}setNetworkEnabled(i){var n=this;this.networkEnabled!==i&&(this.networkEnabled=i,this.Oe.enqueueAndForget((0,ce.Z)(function*(){n.started&&(yield n.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>Fp(i).put(new vl(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(i).next(n=>{n||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(i)).next(n=>this.isPrimary&&!n?this.on(i).next(()=>!1):!!n&&this.an(i).next(()=>!0))).catch(i=>{if(Vo(i))return Ge("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return Ge("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.Oe.enqueueRetryable(()=>this.Qe(i)),this.isPrimary=i})}sn(i){return Oc(i).get(Ps.key).next(n=>Pe.resolve(this.cn(n)))}un(i){return Fp(i).delete(this.clientId)}hn(){var i=this;return(0,ce.Z)(function*(){if(i.isPrimary&&!i.ln(i.je,18e5)){i.je=Date.now();const n=yield i.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=_s(s,vl.store);return l.Lt().next(d=>{const g=i.fn(d,18e5),v=d.filter(C=>-1===g.indexOf(C));return Pe.forEach(v,C=>l.delete(C.clientId)).next(()=>v)})}).catch(()=>[]);if(i.Ye)for(const s of n)i.Ye.removeItem(i.dn(s.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(i){return!!i&&i.ownerId===this.clientId}rn(i){return this.Me?Pe.resolve(!0):Oc(i).get(Ps.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)){if(this.cn(n)&&this.networkEnabled)return!0;if(!this.cn(n)){if(!n.allowTabSynchronization)throw new Le(be.FAILED_PRECONDITION,Fc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fp(i).Lt().next(s=>void 0===this.fn(s,5e3).find(l=>{if(this.clientId!==l.clientId){const g=!this.inForeground&&l.inForeground,v=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||g&&v)return!0}return!1}))}).next(n=>(this.isPrimary!==n&&Ge("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}shutdown(){var i=this;return(0,ce.Z)(function*(){i.Be=!1,i._n(),i.Ke&&(i.Ke.cancel(),i.Ke=null),i.mn(),i.gn(),yield i.Ge.runTransaction("shutdown","readwrite",[Ps.store,vl.store],n=>{const s=new Dc(n,ys.T);return i.on(s).next(()=>i.un(s))}),i.Ge.close(),i.yn()})()}fn(i,n){return i.filter(s=>this.ln(s.updateTimeMs,n)&&!this.wn(s.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",i=>Fp(i).Lt().next(n=>this.fn(n,18e5).map(s=>s.clientId)))}get started(){return this.Be}getMutationQueue(i){return Tt.Yt(i,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(i,n,s){let d;return Ge("IndexedDbPersistence","Starting transaction:",i),this.Ge.runTransaction(i,"readonly"===n?"readonly":"readwrite",WT,g=>(d=new Dc(g,this.Le?this.Le.next():ys.T),"readwrite-primary"===n?this.sn(d).next(v=>!!v||this.rn(d)).next(v=>{if(!v)throw ui(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Le(be.FAILED_PRECONDITION,Px);return s(d)}).next(v=>this.an(d).next(()=>v)):this.En(d).next(()=>s(d)))).then(g=>(d.raiseOnCommittedEvent(),g))}En(i){return Oc(i).get(Ps.key).next(n=>{if(null!==n&&this.ln(n.leaseTimestampMs,5e3)&&!this.wn(n.ownerId)&&!this.cn(n)&&!(this.Me||this.allowTabSynchronization&&n.allowTabSynchronization))throw new Le(be.FAILED_PRECONDITION,Fc)})}an(i){const n=new Ps(this.clientId,this.allowTabSynchronization,Date.now());return Oc(i).put(Ps.key,n)}static bt(){return Bo.bt()}on(i){const n=Oc(i);return n.get(Ps.key).next(s=>this.cn(s)?(Ge("IndexedDbPersistence","Releasing primary lease."),n.delete(Ps.key)):Pe.resolve())}ln(i,n){const s=Date.now();return!(i<s-n||i>s&&(ui(`Detected an update time that is in the future: ${i} > ${s}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var i;"function"==typeof(null===(i=this.window)||void 0===i?void 0:i.addEventListener)&&(this.Ue=()=>{this._n(),(0,st.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(i){var n;try{const s=null!==(null===(n=this.Ye)||void 0===n?void 0:n.getItem(this.dn(i)));return Ge("IndexedDbPersistence",`Client '${i}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return ui("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(i){ui("Failed to set zombie client id.",i)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(i){}}dn(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function Oc(r){return _s(r,Ps.store)}function Fp(r){return _s(r,vl.store)}function Sy(r,i){let n=r.projectId;return r.isDefaultDatabase||(n+="."+r.database),"firestore/"+i+"/"+n+"/"}class Wx{constructor(i,n){this.progress=i,this.Tn=n}}class Op{constructor(i,n,s){this.He=i,this.In=n,this.Ht=s}An(i,n){return this.In.getAllMutationBatchesAffectingDocumentKey(i,n).next(s=>this.Rn(i,n,s))}Rn(i,n,s){return this.He.getEntry(i,n).next(l=>{for(const d of s)d.applyToLocalView(l);return l})}bn(i,n){i.forEach((s,l)=>{for(const d of n)d.applyToLocalView(l)})}Pn(i,n){return this.He.getEntries(i,n).next(s=>this.vn(i,s).next(()=>s))}vn(i,n){return this.In.getAllMutationBatchesAffectingDocumentKeys(i,n).next(s=>this.bn(n,s))}getDocumentsMatchingQuery(i,n,s){return ct.isDocumentKey((l=n).path)&&null===l.collectionGroup&&0===l.filters.length?this.Vn(i,n.path):gy(n)?this.Sn(i,n,s):this.Dn(i,n,s);var l}Vn(i,n){return this.An(i,new ct(n)).next(s=>{let l=Jw();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}Sn(i,n,s){const l=n.collectionGroup;let d=Jw();return this.Ht.getCollectionParents(i,l).next(g=>Pe.forEach(g,v=>{const C=(T=n,R=v.child(l),new Al(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,R;return this.Dn(i,C,s).next(T=>{T.forEach((R,N)=>{d=d.insert(R,N)})})}).next(()=>d))}Dn(i,n,s){let l,d;return this.He.getDocumentsMatchingQuery(i,n,s).next(g=>(l=g,this.In.getAllMutationBatchesAffectingQuery(i,n))).next(g=>(d=g,this.Cn(i,d,l).next(v=>{l=v;for(const C of d)for(const T of C.mutations){const R=T.key;let N=l.get(R);null==N&&(N=Cn.newInvalidDocument(R),l=l.insert(R,N)),Ww(T,N,C.localWriteTime),N.isFoundDocument()||(l=l.remove(R))}}))).next(()=>(l.forEach((g,v)=>{Ap(n,v)||(l=l.remove(g))}),l))}Cn(i,n,s){let l=sn();for(const g of n)for(const v of g.mutations)v instanceof Ec&&null===s.get(v.key)&&(l=l.add(v.key));let d=s;return this.He.getEntries(i,l).next(g=>(g.forEach((v,C)=>{C.isFoundDocument()&&(d=d.insert(v,C))}),d))}}class pb{constructor(i,n,s,l){this.targetId=i,this.fromCache=n,this.Nn=s,this.xn=l}static kn(i,n){let s=sn(),l=sn();for(const d of n.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new pb(i,n.fromCache,s,l)}}class Ty{$n(i){this.On=i}getDocumentsMatchingQuery(i,n,s,l){return 0===(d=n).filters.length&&null===d.limit&&null==d.startAt&&null==d.endAt&&(0===d.explicitOrderBy.length||1===d.explicitOrderBy.length&&d.explicitOrderBy[0].field.isKeyField())||s.isEqual(Ot.min())?this.Fn(i,n):this.On.Pn(i,l).next(d=>{const g=this.Mn(n,d);return(hy(n)||fy(n))&&this.Ln(n.limitType,g,l,s)?this.Fn(i,n):(ro()<=Uu.in.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Qw(n)),this.On.getDocumentsMatchingQuery(i,n,s).next(v=>(g.forEach(C=>{v=v.insert(C.key,C)}),v)))});var d}Mn(i,n){let s=new Jn(fx(i));return n.forEach((l,d)=>{Ap(i,d)&&(s=s.add(d))}),s}Ln(i,n,s,l){if(s.size!==n.size)return!0;const d="F"===i?n.last():n.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Fn(i,n){return ro()<=Uu.in.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",Qw(n)),this.On.getDocumentsMatchingQuery(i,n,Ot.min())}}class mb{constructor(i,n,s,l){this.persistence=i,this.Bn=n,this.N=l,this.Un=new Oi(Ht),this.qn=new Fa(d=>ef(d),yt),this.Kn=Ot.min(),this.In=i.getMutationQueue(s),this.jn=i.getRemoteDocumentCache(),this.ze=i.getTargetCache(),this.Qn=new Op(this.jn,this.In,this.persistence.getIndexManager()),this.Je=i.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>i.collect(n,this.Un))}}function eM(r,i,n,s){return new mb(r,i,n,s)}function tM(r,i){return It.apply(this,arguments)}function It(){return(It=(0,ce.Z)(function*(r,i){const n=qe(r);let s=n.In,l=n.Qn;const d=yield n.persistence.runTransaction("Handle user change","readonly",g=>{let v;return n.In.getAllMutationBatches(g).next(C=>(v=C,s=n.persistence.getMutationQueue(i),l=new Op(n.jn,s,n.persistence.getIndexManager()),s.getAllMutationBatches(g))).next(C=>{const T=[],R=[];let N=sn();for(const U of v){T.push(U.batchId);for(const q of U.mutations)N=N.add(q.key)}for(const U of C){R.push(U.batchId);for(const q of U.mutations)N=N.add(q.key)}return l.Pn(g,N).next(U=>({Wn:U,removedBatchIds:T,addedBatchIds:R}))})});return n.In=s,n.Qn=l,n.Bn.$n(n.Qn),d})).apply(this,arguments)}function A1(r,i){const n=qe(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=i.batch.keys(),d=n.jn.newChangeBuffer({trackRemovals:!0});return function(g,v,C,T){const R=C.batch,N=R.keys();let U=Pe.resolve();return N.forEach(q=>{U=U.next(()=>T.getEntry(v,q)).next($=>{const we=C.docVersions.get(q);xt(null!==we),$.version.compareTo(we)<0&&(R.applyToRemoteDocument($,C),$.isValidDocument()&&T.addEntry($,C.commitVersion))})}),U.next(()=>g.In.removeMutationBatch(v,R))}(n,s,i,d).next(()=>d.apply(s)).next(()=>n.In.performConsistencyCheck(s)).next(()=>n.Qn.Pn(s,l))})}function pf(r){const i=qe(r);return i.persistence.runTransaction("Get last remote snapshot version","readonly",n=>i.ze.getLastRemoteSnapshotVersion(n))}function nM(r,i){const n=qe(r),s=i.snapshotVersion;let l=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const g=n.jn.newChangeBuffer({trackRemovals:!0});l=n.Un;const v=[];i.targetChanges.forEach((T,R)=>{const N=l.get(R);if(!N)return;v.push(n.ze.removeMatchingKeys(d,T.removedDocuments,R).next(()=>n.ze.addMatchingKeys(d,T.addedDocuments,R)));const U=T.resumeToken;if(U.approximateByteSize()>0){const q=N.withResumeToken(U,s).withSequenceNumber(d.currentSequenceNumber);l=l.insert(R,q),$=N,Oe=T,xt((we=q).resumeToken.approximateByteSize()>0),(0===$.resumeToken.approximateByteSize()||we.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||Oe.addedDocuments.size+Oe.modifiedDocuments.size+Oe.removedDocuments.size>0)&&v.push(n.ze.updateTargetData(d,q))}var $,we,Oe});let C=so();if(i.documentUpdates.forEach((T,R)=>{i.resolvedLimboDocuments.has(T)&&v.push(n.persistence.referenceDelegate.updateLimboDocument(d,T))}),v.push(Zx(d,g,i.documentUpdates,s,void 0).next(T=>{C=T})),!s.isEqual(Ot.min())){const T=n.ze.getLastRemoteSnapshotVersion(d).next(R=>n.ze.setTargetsMetadata(d,d.currentSequenceNumber,s));v.push(T)}return Pe.waitFor(v).next(()=>g.apply(d)).next(()=>n.Qn.vn(d,C)).next(()=>C)}).then(d=>(n.Un=l,d))}function Zx(r,i,n,s,l){let d=sn();return n.forEach(g=>d=d.add(g)),i.getEntries(r,d).next(g=>{let v=so();return n.forEach((C,T)=>{const R=g.get(C),N=(null==l?void 0:l.get(C))||s;T.isNoDocument()&&T.version.isEqual(Ot.min())?(i.removeEntry(C,N),v=v.insert(C,T)):!R.isValidDocument()||T.version.compareTo(R.version)>0||0===T.version.compareTo(R.version)&&R.hasPendingWrites?(i.addEntry(T,N),v=v.insert(C,T)):Ge("LocalStore","Ignoring outdated watch update for ",C,". Current version:",R.version," Watch version:",T.version)}),v})}function iM(r,i){const n=qe(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===i&&(i=-1),n.In.getNextMutationBatchAfterBatchId(s,i)))}function Np(r,i){const n=qe(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return n.ze.getTargetData(s,i).next(d=>d?(l=d,Pe.resolve(l)):n.ze.allocateTargetId(s).next(g=>(l=new Sc(i,g,0,s.currentSequenceNumber),n.ze.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=n.Un.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Un=n.Un.insert(s.targetId,s),n.qn.set(i,s.targetId)),s})}function Pp(r,i,n){return Ab.apply(this,arguments)}function Ab(){return(Ab=(0,ce.Z)(function*(r,i,n){const s=qe(r),l=s.Un.get(i),d=n?"readwrite":"readwrite-primary";try{n||(yield s.persistence.runTransaction("Release target",d,g=>s.persistence.referenceDelegate.removeTarget(g,l)))}catch(g){if(!Vo(g))throw g;Ge("LocalStore",`Failed to update sequence numbers for target ${i}: ${g}`)}s.Un=s.Un.remove(i),s.qn.delete(l.target)})).apply(this,arguments)}function Bi(r,i,n){const s=qe(r);let l=Ot.min(),d=sn();return s.persistence.runTransaction("Execute query","readonly",g=>function(v,C,T){const R=qe(v),N=R.qn.get(T);return void 0!==N?Pe.resolve(R.Un.get(N)):R.ze.getTargetData(C,T)}(s,g,Ns(i)).next(v=>{if(v)return l=v.lastLimboFreeSnapshotVersion,s.ze.getMatchingKeysForTargetId(g,v.targetId).next(C=>{d=C})}).next(()=>s.Bn.getDocumentsMatchingQuery(g,i,n?l:Ot.min(),n?d:sn())).next(v=>({documents:v,Gn:d})))}function Kx(r,i){const n=qe(r),s=qe(n.ze),l=n.Un.get(i);return l?Promise.resolve(l.target):n.persistence.runTransaction("Get target data","readonly",d=>s.Et(d,i).next(g=>g?g.target:null))}function Jx(r){const i=qe(r);return i.persistence.runTransaction("Get new document changes","readonly",n=>function(s,l,d){const g=qe(s);let v=so(),C=xy(d);const T=Oa(l),R=IDBKeyRange.lowerBound(C,!0);return T.Kt({index:Rn.readTimeIndex,range:R},(N,U)=>{const q=ob(g.N,U);v=v.insert(q.key,q),C=U.readTime}).next(()=>({Tn:v,readTime:ab(C)}))}(i.jn,n,i.Kn)).then(({Tn:n,readTime:s})=>(i.Kn=s,n))}function _b(){return(_b=(0,ce.Z)(function*(r){const i=qe(r);return i.persistence.runTransaction("Synchronize last document change read time","readonly",n=>function(s){const l=Oa(s);let d=Ot.min();return l.Kt({index:Rn.readTimeIndex,reverse:!0},(g,v,C)=>{v.readTime&&(d=ab(v.readTime)),C.done()}).next(()=>d)}(n)).then(n=>{i.Kn=n})})).apply(this,arguments)}function vb(){return(vb=(0,ce.Z)(function*(r,i,n,s){const l=qe(r);let d=sn(),g=so(),v=Ex();for(const R of n){const N=i.zn(R.metadata.name);R.document&&(d=d.add(N)),g=g.insert(N,i.Hn(R)),v=v.insert(N,i.Jn(R.metadata.readTime))}const C=l.jn.newChangeBuffer({trackRemovals:!0}),T=yield Np(l,(R=s,Ns(Ta(en.fromString(`__bundle__/docs/${R}`)))));var R;return l.persistence.runTransaction("Apply bundle documents","readwrite",R=>Zx(R,C,g,Ot.min(),v).next(N=>(C.apply(R),N)).next(N=>l.ze.removeMatchingKeysForTargetId(R,T.targetId).next(()=>l.ze.addMatchingKeys(R,d,T.targetId)).next(()=>l.Qn.vn(R,N)).next(()=>N)))})).apply(this,arguments)}function sM(r,i){return wb.apply(this,arguments)}function wb(){return(wb=(0,ce.Z)(function*(r,i,n=sn()){const s=yield Np(r,Ns(Iy(i.bundledQuery))),l=qe(r);return l.persistence.runTransaction("Save named query","readwrite",d=>{const g=Ni(i.readTime);if(s.snapshotVersion.compareTo(g)>=0)return l.Je.saveNamedQuery(d,i);const v=s.withResumeToken(Wi.EMPTY_BYTE_STRING,g);return l.Un=l.Un.insert(v.targetId,v),l.ze.updateTargetData(d,v).next(()=>l.ze.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.ze.addMatchingKeys(d,n,s.targetId)).next(()=>l.Je.saveNamedQuery(d,i))})})).apply(this,arguments)}class oM{constructor(i){this.N=i,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(i,n){return Pe.resolve(this.Yn.get(n))}saveBundleMetadata(i,n){var s;return this.Yn.set(n.id,{id:(s=n).id,version:s.version,createTime:Ni(s.createTime)}),Pe.resolve()}getNamedQuery(i,n){return Pe.resolve(this.Xn.get(n))}saveNamedQuery(i,n){return this.Xn.set(n.name,{name:(s=n).name,query:Iy(s.bundledQuery),readTime:Ni(s.readTime)}),Pe.resolve();var s}}class Lp{constructor(){this.Zn=new Jn(Ji.ts),this.es=new Jn(Ji.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(i,n){const s=new Ji(i,n);this.Zn=this.Zn.add(s),this.es=this.es.add(s)}ss(i,n){i.forEach(s=>this.addReference(s,n))}removeReference(i,n){this.rs(new Ji(i,n))}os(i,n){i.forEach(s=>this.removeReference(s,n))}cs(i){const n=new ct(new en([])),s=new Ji(n,i),l=new Ji(n,i+1),d=[];return this.es.forEachInRange([s,l],g=>{this.rs(g),d.push(g.key)}),d}us(){this.Zn.forEach(i=>this.rs(i))}rs(i){this.Zn=this.Zn.delete(i),this.es=this.es.delete(i)}hs(i){const n=new ct(new en([])),s=new Ji(n,i),l=new Ji(n,i+1);let d=sn();return this.es.forEachInRange([s,l],g=>{d=d.add(g.key)}),d}containsKey(i){const n=new Ji(i,0),s=this.Zn.firstAfterOrEqual(n);return null!==s&&i.isEqual(s.key)}}class Ji{constructor(i,n){this.key=i,this.ls=n}static ts(i,n){return ct.comparator(i.key,n.key)||Ht(i.ls,n.ls)}static ns(i,n){return Ht(i.ls,n.ls)||ct.comparator(i.key,n.key)}}class aM{constructor(i,n){this.Ht=i,this.referenceDelegate=n,this.In=[],this.fs=1,this.ds=new Jn(Ji.ts)}checkEmpty(i){return Pe.resolve(0===this.In.length)}addMutationBatch(i,n,s,l){const d=this.fs;this.fs++;const g=new sb(d,n,s,l);this.In.push(g);for(const v of l)this.ds=this.ds.add(new Ji(v.key,d)),this.Ht.addToCollectionParentIndex(i,v.key.path.popLast());return Pe.resolve(g)}lookupMutationBatch(i,n){return Pe.resolve(this.ws(n))}getNextMutationBatchAfterBatchId(i,n){const l=this._s(n+1),d=l<0?0:l;return Pe.resolve(this.In.length>d?this.In[d]:null)}getHighestUnacknowledgedBatchId(){return Pe.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(i){return Pe.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(i,n){const s=new Ji(n,0),l=new Ji(n,Number.POSITIVE_INFINITY),d=[];return this.ds.forEachInRange([s,l],g=>{const v=this.ws(g.ls);d.push(v)}),Pe.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(i,n){let s=new Jn(Ht);return n.forEach(l=>{const d=new Ji(l,0),g=new Ji(l,Number.POSITIVE_INFINITY);this.ds.forEachInRange([d,g],v=>{s=s.add(v.ls)})}),Pe.resolve(this.gs(s))}getAllMutationBatchesAffectingQuery(i,n){const s=n.path,l=s.length+1;let d=s;ct.isDocumentKey(d)||(d=d.child(""));const g=new Ji(new ct(d),0);let v=new Jn(Ht);return this.ds.forEachWhile(C=>{const T=C.key.path;return!!s.isPrefixOf(T)&&(T.length===l&&(v=v.add(C.ls)),!0)},g),Pe.resolve(this.gs(v))}gs(i){const n=[];return i.forEach(s=>{const l=this.ws(s);null!==l&&n.push(l)}),n}removeMutationBatch(i,n){xt(0===this.ys(n.batchId,"removed")),this.In.shift();let s=this.ds;return Pe.forEach(n.mutations,l=>{const d=new Ji(l.key,n.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(i,l.key)}).next(()=>{this.ds=s})}te(i){}containsKey(i,n){const s=new Ji(n,0),l=this.ds.firstAfterOrEqual(s);return Pe.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(i){return Pe.resolve()}ys(i,n){return this._s(i)}_s(i){return 0===this.In.length?0:i-this.In[0].batchId}ws(i){const n=this._s(i);return n<0||n>=this.In.length?null:this.In[n]}}class $x{constructor(i,n){this.Ht=i,this.ps=n,this.docs=new Oi(ct.comparator),this.size=0}addEntry(i,n,s){const l=n.key,d=this.docs.get(l),g=d?d.size:0,v=this.ps(n);return this.docs=this.docs.insert(l,{document:n.clone(),size:v,readTime:s}),this.size+=v-g,this.Ht.addToCollectionParentIndex(i,l.path.popLast())}removeEntry(i){const n=this.docs.get(i);n&&(this.docs=this.docs.remove(i),this.size-=n.size)}getEntry(i,n){const s=this.docs.get(n);return Pe.resolve(s?s.document.clone():Cn.newInvalidDocument(n))}getEntries(i,n){let s=so();return n.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.clone():Cn.newInvalidDocument(l))}),Pe.resolve(s)}getDocumentsMatchingQuery(i,n,s){let l=so();const d=new ct(n.path.child("")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:v,value:{document:C,readTime:T}}=g.getNext();if(!n.path.isPrefixOf(v.path))break;T.compareTo(s)<=0||Ap(n,C)&&(l=l.insert(C.key,C.clone()))}return Pe.resolve(l)}Es(i,n){return Pe.forEach(this.docs,s=>n(s))}newChangeBuffer(i){return new bb(this)}getSize(i){return Pe.resolve(this.size)}}class bb extends Yx{constructor(i){super(),this.Se=i}applyChanges(i){const n=[];return this.changes.forEach((s,l)=>{l.document.isValidDocument()?n.push(this.Se.addEntry(i,l.document,this.getReadTime(s))):this.Se.removeEntry(s)}),Pe.waitFor(n)}getFromCache(i,n){return this.Se.getEntry(i,n)}getAllFromCache(i,n){return this.Se.getEntries(i,n)}}class lM{constructor(i){this.persistence=i,this.Ts=new Fa(n=>ef(n),yt),this.lastRemoteSnapshotVersion=Ot.min(),this.highestTargetId=0,this.Is=0,this.As=new Lp,this.targetCount=0,this.Rs=Mc.se()}forEachTarget(i,n){return this.Ts.forEach((s,l)=>n(l)),Pe.resolve()}getLastRemoteSnapshotVersion(i){return Pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return Pe.resolve(this.Is)}allocateTargetId(i){return this.highestTargetId=this.Rs.next(),Pe.resolve(this.highestTargetId)}setTargetsMetadata(i,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Is&&(this.Is=n),Pe.resolve()}ae(i){this.Ts.set(i.target,i);const n=i.targetId;n>this.highestTargetId&&(this.Rs=new Mc(n),this.highestTargetId=n),i.sequenceNumber>this.Is&&(this.Is=i.sequenceNumber)}addTargetData(i,n){return this.ae(n),this.targetCount+=1,Pe.resolve()}updateTargetData(i,n){return this.ae(n),Pe.resolve()}removeTargetData(i,n){return this.Ts.delete(n.target),this.As.cs(n.targetId),this.targetCount-=1,Pe.resolve()}removeTargets(i,n,s){let l=0;const d=[];return this.Ts.forEach((g,v)=>{v.sequenceNumber<=n&&null===s.get(v.targetId)&&(this.Ts.delete(g),d.push(this.removeMatchingKeysForTargetId(i,v.targetId)),l++)}),Pe.waitFor(d).next(()=>l)}getTargetCount(i){return Pe.resolve(this.targetCount)}getTargetData(i,n){const s=this.Ts.get(n)||null;return Pe.resolve(s)}addMatchingKeys(i,n,s){return this.As.ss(n,s),Pe.resolve()}removeMatchingKeys(i,n,s){this.As.os(n,s);const l=this.persistence.referenceDelegate,d=[];return l&&n.forEach(g=>{d.push(l.markPotentiallyOrphaned(i,g))}),Pe.waitFor(d)}removeMatchingKeysForTargetId(i,n){return this.As.cs(n),Pe.resolve()}getMatchingKeysForTargetId(i,n){const s=this.As.hs(n);return Pe.resolve(s)}containsKey(i,n){return Pe.resolve(this.As.containsKey(n))}}class y1{constructor(i,n){this.bs={},this.Le=new ys(0),this.Be=!1,this.Be=!0,this.referenceDelegate=i(this),this.ze=new lM(this),this.Ht=new Dy,this.He=new $x(this.Ht,s=>this.referenceDelegate.Ps(s)),this.N=new Sp(n),this.Je=new oM(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(i){let n=this.bs[i.toKey()];return n||(n=new aM(this.Ht,this.referenceDelegate),this.bs[i.toKey()]=n),n}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(i,n,s){Ge("MemoryPersistence","Starting transaction:",i);const l=new cM(this.Le.next());return this.referenceDelegate.vs(),s(l).next(d=>this.referenceDelegate.Vs(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Ss(i,n){return Pe.or(Object.values(this.bs).map(s=>()=>s.containsKey(i,n)))}}class cM extends Lx{constructor(i){super(),this.currentSequenceNumber=i}}class Eb{constructor(i){this.persistence=i,this.Ds=new Lp,this.Cs=null}static Ns(i){return new Eb(i)}get xs(){if(this.Cs)return this.Cs;throw ht()}addReference(i,n,s){return this.Ds.addReference(s,n),this.xs.delete(s.toString()),Pe.resolve()}removeReference(i,n,s){return this.Ds.removeReference(s,n),this.xs.add(s.toString()),Pe.resolve()}markPotentiallyOrphaned(i,n){return this.xs.add(n.toString()),Pe.resolve()}removeTarget(i,n){this.Ds.cs(n.targetId).forEach(l=>this.xs.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(i,n.targetId).next(l=>{l.forEach(d=>this.xs.add(d.toString()))}).next(()=>s.removeTargetData(i,n))}vs(){this.Cs=new Set}Vs(i){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Pe.forEach(this.xs,s=>{const l=ct.fromPath(s);return this.ks(i,l).next(d=>{d||n.removeEntry(l)})}).next(()=>(this.Cs=null,n.apply(i)))}updateLimboDocument(i,n){return this.ks(i,n).next(s=>{s?this.xs.delete(n.toString()):this.xs.add(n.toString())})}Ps(i){return 0}ks(i,n){return Pe.or([()=>Pe.resolve(this.Ds.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(i,n),()=>this.persistence.Ss(i,n)])}}function Xx(r,i){return`firestore_clients_${r}_${i}`}function eI(r,i,n){let s=`firestore_mutations_${r}_${n}`;return i.isAuthenticated()&&(s+=`_${i.uid}`),s}function Cb(r,i){return`firestore_targets_${r}_${i}`}class My{constructor(i,n,s,l){this.user=i,this.batchId=n,this.state=s,this.error=l}static $s(i,n,s){const l=JSON.parse(s);let d,g="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return g&&l.error&&(g="string"==typeof l.error.message&&"string"==typeof l.error.code,g&&(d=new Le(l.error.code,l.error.message))),g?new My(i,n,l.state,d):(ui("SharedClientState",`Failed to parse mutation state for ID '${n}': ${s}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class El{constructor(i,n,s){this.targetId=i,this.state=n,this.error=s}static $s(i,n){const s=JSON.parse(n);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new Le(s.error.code,s.error.message))),d?new El(i,s.state,l):(ui("SharedClientState",`Failed to parse target state for ID '${i}': ${n}`),null)}Os(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class Ry{constructor(i,n){this.clientId=i,this.activeTargetIds=n}static $s(i,n){const s=JSON.parse(n);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=Ay();for(let g=0;l&&g<s.activeTargetIds.length;++g)l=ax(s.activeTargetIds[g]),d=d.add(s.activeTargetIds[g]);return l?new Ry(i,d):(ui("SharedClientState",`Failed to parse client data for instance '${i}': ${n}`),null)}}class xb{constructor(i,n){this.clientId=i,this.onlineState=n}static $s(i){const n=JSON.parse(i);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new xb(n.clientId,n.onlineState):(ui("SharedClientState",`Failed to parse online state: ${i}`),null)}}class ky{constructor(){this.activeTargetIds=Ay()}Fs(i){this.activeTargetIds=this.activeTargetIds.add(i)}Ms(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Os(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class yd{constructor(i,n,s,l,d){this.window=i,this.Oe=n,this.persistenceKey=s,this.Ls=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new Oi(Ht),this.started=!1,this.Ks=[];const g=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.js=Xx(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new ky),this.Ws=new RegExp(`^firestore_clients_${g}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${g}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${g}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(v){return`firestore_bundle_loaded_${v}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(i){return!(!i||!i.localStorage)}start(){var i=this;return(0,ce.Z)(function*(){const n=yield i.syncEngine.pn();for(const l of n){if(l===i.Ls)continue;const d=i.getItem(Xx(i.persistenceKey,l));if(d){const g=Ry.$s(l,d);g&&(i.qs=i.qs.insert(g.clientId,g))}}i.Ys();const s=i.storage.getItem(i.Hs);if(s){const l=i.Xs(s);l&&i.Zs(l)}for(const l of i.Ks)i.Us(l);i.Ks=[],i.window.addEventListener("pagehide",()=>i.shutdown()),i.started=!0})()}writeSequenceNumber(i){this.setItem(this.Qs,JSON.stringify(i))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(i){let n=!1;return this.qs.forEach((s,l)=>{l.activeTargetIds.has(i)&&(n=!0)}),n}addPendingMutation(i){this.ei(i,"pending")}updateMutationState(i,n,s){this.ei(i,n,s),this.ni(i)}addLocalQueryTarget(i){let n="not-current";if(this.isActiveQueryTarget(i)){const s=this.storage.getItem(Cb(this.persistenceKey,i));if(s){const l=El.$s(i,s);l&&(n=l.state)}}return this.si.Fs(i),this.Ys(),n}removeLocalQueryTarget(i){this.si.Ms(i),this.Ys()}isLocalQueryTarget(i){return this.si.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(Cb(this.persistenceKey,i))}updateQueryState(i,n,s){this.ii(i,n,s)}handleUserChange(i,n,s){n.forEach(l=>{this.ni(l)}),this.currentUser=i,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(i){this.ri(i)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(i){const n=this.storage.getItem(i);return Ge("SharedClientState","READ",i,n),n}setItem(i,n){Ge("SharedClientState","SET",i,n),this.storage.setItem(i,n)}removeItem(i){Ge("SharedClientState","REMOVE",i),this.storage.removeItem(i)}Us(i){var n=this;const s=i;if(s.storageArea===this.storage){if(Ge("SharedClientState","EVENT",s.key,s.newValue),s.key===this.js)return void ui("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,ce.Z)(function*(){if(n.started){if(null!==s.key)if(n.Ws.test(s.key)){if(null==s.newValue){const l=n.ai(s.key);return n.ci(l,null)}{const l=n.ui(s.key,s.newValue);if(l)return n.ci(l.clientId,l)}}else if(n.Gs.test(s.key)){if(null!==s.newValue){const l=n.hi(s.key,s.newValue);if(l)return n.li(l)}}else if(n.zs.test(s.key)){if(null!==s.newValue){const l=n.fi(s.key,s.newValue);if(l)return n.di(l)}}else if(s.key===n.Hs){if(null!==s.newValue){const l=n.Xs(s.newValue);if(l)return n.Zs(l)}}else if(s.key===n.Qs){const l=function(d){let g=ys.T;if(null!=d)try{const v=JSON.parse(d);xt("number"==typeof v),g=v}catch(v){ui("SharedClientState","Failed to read sequence number from WebStorage",v)}return g}(s.newValue);l!==ys.T&&n.sequenceNumberHandler(l)}else if(s.key===n.Js)return n.syncEngine.wi()}else n.Ks.push(s)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(i,n,s){const l=new My(this.currentUser,i,n,s),d=eI(this.persistenceKey,this.currentUser,i);this.setItem(d,l.Os())}ni(i){const n=eI(this.persistenceKey,this.currentUser,i);this.removeItem(n)}ri(i){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:i}))}ii(i,n,s){const l=Cb(this.persistenceKey,i),d=new El(i,n,s);this.setItem(l,d.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(i){const n=this.Ws.exec(i);return n?n[1]:null}ui(i,n){const s=this.ai(i);return Ry.$s(s,n)}hi(i,n){const s=this.Gs.exec(i),l=Number(s[1]);return My.$s(new En(void 0!==s[2]?s[2]:null),l,n)}fi(i,n){const s=this.zs.exec(i),l=Number(s[1]);return El.$s(l,n)}Xs(i){return xb.$s(i)}li(i){var n=this;return(0,ce.Z)(function*(){if(i.user.uid===n.currentUser.uid)return n.syncEngine._i(i.batchId,i.state,i.error);Ge("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)})()}di(i){return this.syncEngine.mi(i.targetId,i.state,i.error)}ci(i,n){const s=n?this.qs.insert(i,n):this.qs.remove(i),l=this.ti(this.qs),d=this.ti(s),g=[],v=[];return d.forEach(C=>{l.has(C)||g.push(C)}),l.forEach(C=>{d.has(C)||v.push(C)}),this.syncEngine.gi(g,v).then(()=>{this.qs=s})}Zs(i){this.qs.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}ti(i){let n=Ay();return i.forEach((s,l)=>{n=n.unionWith(l.activeTargetIds)}),n}}class uM{constructor(){this.yi=new ky,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,n,s){}addLocalQueryTarget(i){return this.yi.Fs(i),this.pi[i]||"not-current"}updateQueryState(i,n,s){this.pi[i]=n}removeLocalQueryTarget(i){this.yi.Ms(i)}isLocalQueryTarget(i){return this.yi.activeTargetIds.has(i)}clearQueryState(i){delete this.pi[i]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(i){return this.yi.activeTargetIds.has(i)}start(){return this.yi=new ky,Promise.resolve()}handleUserChange(i,n,s){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class tI{Ei(i){}shutdown(){}}class nI{constructor(){this.Ti=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ei(i){this.bi.push(i)}shutdown(){window.removeEventListener("online",this.Ti),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ti),window.addEventListener("offline",this.Ai)}Ii(){Ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.bi)i(0)}Ri(){Ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.bi)i(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const dM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class hM{constructor(i){this.vi=i.vi,this.Vi=i.Vi}Si(i){this.Di=i}Ci(i){this.Ni=i}onMessage(i){this.xi=i}close(){this.Vi()}send(i){this.vi(i)}ki(){this.Di()}$i(i){this.Ni(i)}Oi(i){this.xi(i)}}class fM extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.Fi=(i.ssl?"https":"http")+"://"+i.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(i,n,s,l){const d=this.Bi(i,n);Ge("RestConnection","Sending: ",d,s);const g={};return this.Ui(g,l),this.qi(i,d,g,s).then(v=>(Ge("RestConnection","Received: ",v),v),v=>{throw Kh("RestConnection",`${i} failed with error: `,v,"url: ",d,"request:",s),v})}Ki(i,n,s,l){return this.Li(i,n,s,l)}Ui(i,n){if(i["X-Goog-Api-Client"]="gl-js/ fire/"+Zh,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),n)for(const s in n.authHeaders)n.authHeaders.hasOwnProperty(s)&&(i[s]=n.authHeaders[s])}Bi(i,n){return`${this.Fi}/v1/${n}:${dM[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}qi(i,n,s,l){return new Promise((d,g)=>{const v=new gT;v.listenOnce(J0.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case ml.NO_ERROR:const T=v.getResponseJson();Ge("Connection","XHR received:",JSON.stringify(T)),d(T);break;case ml.TIMEOUT:Ge("Connection",'RPC "'+i+'" timed out'),g(new Le(be.DEADLINE_EXCEEDED,"Request time out"));break;case ml.HTTP_ERROR:const R=v.getStatus();if(Ge("Connection",'RPC "'+i+'" failed with status:',R,"response text:",v.getResponseText()),R>0){const N=v.getResponseJson().error;if(N&&N.status&&N.message){const U=function(q){const $=q.toLowerCase().replace(/_/g,"-");return Object.values(be).indexOf($)>=0?$:be.UNKNOWN}(N.status);g(new Le(U,N.message))}else g(new Le(be.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new Le(be.UNAVAILABLE,"Connection failed."));break;default:ht()}}finally{Ge("Connection",'RPC "'+i+'" completed.')}});const C=JSON.stringify(l);v.send(n,"POST",C,s,15)})}ji(i,n){const s=[this.Fi,"/","google.firestore.v1.Firestore","/",i,"/channel"],l=new ap,d=Lh(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new X0({})),this.Ui(g.initMessageHeaders,n),(0,st.uI)()||(0,st.b$)()||(0,st.d)()||(0,st.w1)()||(0,st.Mn)()||(0,st.ru)()||(g.httpHeadersOverwriteParam="$httpHeaders");const v=s.join("");Ge("Connection","Creating WebChannel: "+v,g);const C=l.createWebChannel(v,g);let T=!1,R=!1;const N=new hM({vi:q=>{R?Ge("Connection","Not sending because WebChannel is closed:",q):(T||(Ge("Connection","Opening WebChannel transport."),C.open(),T=!0),Ge("Connection","WebChannel sending:",q),C.send(q))},Vi:()=>C.close()}),U=(q,$,we)=>{q.listen($,Oe=>{try{we(Oe)}catch(Be){setTimeout(()=>{throw Be},0)}})};return U(C,Wh.EventType.OPEN,()=>{R||Ge("Connection","WebChannel transport opened.")}),U(C,Wh.EventType.CLOSE,()=>{R||(R=!0,Ge("Connection","WebChannel transport closed"),N.$i())}),U(C,Wh.EventType.ERROR,q=>{R||(R=!0,Kh("Connection","WebChannel transport errored:",q),N.$i(new Le(be.UNAVAILABLE,"The operation could not be completed")))}),U(C,Wh.EventType.MESSAGE,q=>{var $;if(!R){const we=q.data[0];xt(!!we);const Oe=we,Be=Oe.error||(null===($=Oe[0])||void 0===$?void 0:$.error);if(Be){Ge("Connection","WebChannel received error:",Be);const tt=Be.status;let ot=function(pn){const Ci=hi[pn];if(void 0!==Ci)return wx(Ci)}(tt),at=Be.message;void 0===ot&&(ot=be.INTERNAL,at="Unknown error status: "+tt+" with message "+Be.message),R=!0,N.$i(new Le(ot,at)),C.close()}else Ge("Connection","WebChannel received:",we),N.Oi(we)}}),U(d,$0.STAT_EVENT,q=>{q.stat===ny_PROXY?Ge("Connection","Detected buffering proxy"):q.stat===ny_NOPROXY&&Ge("Connection","Detected no buffering proxy")}),setTimeout(()=>{N.ki()},0),N}}function iI(){return"undefined"!=typeof window?window:null}function Bp(){return"undefined"!=typeof document?document:null}function Vp(r){return new eb(r,!0)}class Ib{constructor(i,n,s=1e3,l=1.5,d=6e4){this.Oe=i,this.timerId=n,this.Qi=s,this.Wi=l,this.Gi=d,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(i){this.cancel();const n=Math.floor(this.zi+this.Zi()),s=Math.max(0,Date.now()-this.Ji),l=Math.max(0,n-s);l>0&&Ge("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.zi} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,l,()=>(this.Ji=Date.now(),i())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class gM{constructor(i,n,s,l,d,g){this.Oe=i,this.er=s,this.nr=l,this.credentialsProvider=d,this.listener=g,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new Ib(i,n)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var i=this;return(0,ce.Z)(function*(){i.ar()&&(yield i.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(i){this._r(),this.stream.send(i)}dr(){var i=this;return(0,ce.Z)(function*(){if(i.cr())return i.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(i,n){var s=this;return(0,ce.Z)(function*(){s._r(),s.rr.cancel(),s.sr++,3!==i?s.rr.reset():n&&n.code===be.RESOURCE_EXHAUSTED?(ui(n.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),s.rr.Yi()):n&&n.code===be.UNAUTHENTICATED&&s.credentialsProvider.invalidateToken(),null!==s.stream&&(s.mr(),s.stream.close(),s.stream=null),s.state=i,yield s.listener.Ci(n)})()}mr(){}auth(){this.state=1;const i=this.gr(this.sr),n=this.sr;this.credentialsProvider.getToken().then(s=>{this.sr===n&&this.yr(s)},s=>{i(()=>{const l=new Le(be.UNKNOWN,"Fetching auth token failed: "+s.message);return this.pr(l)})})}yr(i){const n=this.gr(this.sr);this.stream=this.Er(i),this.stream.Si(()=>{n(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(s=>{n(()=>this.pr(s))}),this.stream.onMessage(s=>{n(()=>this.onMessage(s))})}ur(){var i=this;this.state=4,this.rr.Xi((0,ce.Z)(function*(){i.state=0,i.start()}))}pr(i){return Ge("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(3,i)}gr(i){return n=>{this.Oe.enqueueAndForget(()=>this.sr===i?n():(Ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _1 extends gM{constructor(i,n,s,l,d){super(i,"listen_stream_connection_backoff","listen_stream_idle",n,s,d),this.N=l}Er(i){return this.nr.ji("Listen",i)}onMessage(i){this.rr.reset();const n=function(r,i){let n;if("targetChange"in i){const s="NO_CHANGE"===(C=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===C?1:"REMOVE"===C?2:"CURRENT"===C?3:"RESET"===C?4:ht(),l=i.targetChange.targetIds||[],d=function(C,T){return C.D?(xt(void 0===T||"string"==typeof T),Wi.fromBase64String(T||"")):(xt(void 0===T||T instanceof Uint8Array),Wi.fromUint8Array(T||new Uint8Array))}(r,i.targetChange.resumeToken),g=i.targetChange.cause,v=g&&function(C){const T=void 0===C.code?be.UNKNOWN:wx(C.code);return new Le(T,C.message||"")}(g);n=new Ix(s,l,d,v||null)}else if("documentChange"in i){const s=i.documentChange,l=Ma(r,s.document.name),d=Ni(s.document.updateTime),g=new di({mapValue:{fields:s.document.fields}}),v=Cn.newFoundDocument(l,d,g);n=new yy(s.targetIds||[],s.removedTargetIds||[],v.key,v)}else if("documentDelete"in i){const s=i.documentDelete,l=Ma(r,s.document),d=s.readTime?Ni(s.readTime):Ot.min(),g=Cn.newNoDocument(l,d);n=new yy([],s.removedTargetIds||[],g.key,g)}else if("documentRemove"in i){const s=i.documentRemove,l=Ma(r,s.document);n=new yy([],s.removedTargetIds||[],l,null)}else{if(!("filter"in i))return ht();{const s=i.filter,d=new MT(s.count||0);n=new xx(s.targetId,d)}}var C;return n}(this.N,i),s=function(l){if(!("targetChange"in l))return Ot.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?Ot.min():d.readTime?Ni(d.readTime):Ot.min()}(i);return this.listener.Tr(n,s)}Ir(i){const n={};n.database=dd(this.N),n.addTarget=function(l,d){let g;const v=d.target;return g=cy(v)?{documents:UT(l,v)}:{query:Ip(l,v)},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?g.resumeToken=tb(l,d.resumeToken):d.snapshotVersion.compareTo(Ot.min())>0&&(g.readTime=Cp(l,d.snapshotVersion.toTimestamp())),g}(this.N,i);const s=function(r,i){const n=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ht()}}(0,i.purpose);return null==n?null:{"goog-listen-tags":n}}(0,i);s&&(n.labels=s),this.wr(n)}Ar(i){const n={};n.database=dd(this.N),n.removeTarget=i,this.wr(n)}}class v1 extends gM{constructor(i,n,s,l,d){super(i,"write_stream_connection_backoff","write_stream_idle",n,s,d),this.N=l,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Er(i){return this.nr.ji("Write",i)}onMessage(i){if(xt(!!i.streamToken),this.lastStreamToken=i.streamToken,this.Rr){this.rr.reset();const n=function(r,i){return r&&r.length>0?(xt(void 0!==i),r.map(n=>function(s,l){let d=Ni(s.updateTime?s.updateTime:l);return d.isEqual(Ot.min())&&(d=Ni(l)),new ST(d,s.transformResults||[])}(n,i))):[]}(i.writeResults,i.commitTime),s=Ni(i.commitTime);return this.listener.vr(s,n)}return xt(!i.writeResults||0===i.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const i={};i.database=dd(this.N),this.wr(i)}Pr(i){const n={streamToken:this.lastStreamToken,writes:i.map(s=>Ey(this.N,s))};this.wr(n)}}class Db extends class{}{constructor(i,n,s){super(),this.credentials=i,this.nr=n,this.N=s,this.Dr=!1}Cr(){if(this.Dr)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.")}Li(i,n,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Li(i,n,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===be.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Le(be.UNKNOWN,l.toString())})}Ki(i,n,s){return this.Cr(),this.credentials.getToken().then(l=>this.nr.Ki(i,n,s,l)).catch(l=>{throw"FirebaseError"===l.name?(l.code===be.UNAUTHENTICATED&&this.credentials.invalidateToken(),l):new Le(be.UNKNOWN,l.toString())})}terminate(){this.Dr=!0}}class pM{constructor(i,n){this.asyncQueue=i,this.onlineStateHandler=n,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(i){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.Fr("Offline")))}set(i){this.Br(),this.Nr=0,"Online"===i&&(this.$r=!1),this.Fr(i)}Fr(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}Mr(i){const n=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(ui(n),this.$r=!1):Ge("OnlineStateTracker",n)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class mM{constructor(i,n,s,l,d){var g=this;this.localStore=i,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=d,this.Qr.Ei(v=>{s.enqueueAndForget((0,ce.Z)(function*(){var C;Xi(g)&&(Ge("RemoteStore","Restarting streams for network reachability change."),yield(C=(0,ce.Z)(function*(T){const R=qe(T);R.Kr.add(4),yield mf(R),R.Wr.set("Unknown"),R.Kr.delete(4),yield Up(R)}),function(T){return C.apply(this,arguments)})(g))}))}),this.Wr=new pM(s,l)}}function Up(r){return Sb.apply(this,arguments)}function Sb(){return(Sb=(0,ce.Z)(function*(r){if(Xi(r))for(const i of r.jr)yield i(!0)})).apply(this,arguments)}function mf(r){return Tb.apply(this,arguments)}function Tb(){return(Tb=(0,ce.Z)(function*(r){for(const i of r.jr)yield i(!1)})).apply(this,arguments)}function Gp(r,i){const n=qe(r);n.qr.has(i.targetId)||(n.qr.set(i.targetId,i),Fy(n)?$i(n):yf(n).cr()&&Mb(n,i))}function _d(r,i){const n=qe(r),s=yf(n);n.qr.delete(i),s.cr()&&vd(n,i),0===n.qr.size&&(s.cr()?s.lr():Xi(n)&&n.Wr.set("Unknown"))}function Mb(r,i){r.Gr.Y(i.targetId),yf(r).Ir(i)}function vd(r,i){r.Gr.Y(i),yf(r).Ar(i)}function $i(r){r.Gr=new $w({getRemoteKeysForTarget:i=>r.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>r.qr.get(i)||null}),yf(r).start(),r.Wr.Or()}function Fy(r){return Xi(r)&&!yf(r).ar()&&r.qr.size>0}function Xi(r){return 0===qe(r).Kr.size}function Oy(r){r.Gr=void 0}function AM(r){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,ce.Z)(function*(r){r.qr.forEach((i,n)=>{Mb(r,i)})})).apply(this,arguments)}function rI(r,i){return Py.apply(this,arguments)}function Py(){return(Py=(0,ce.Z)(function*(r,i){Oy(r),Fy(r)?(r.Wr.Lr(i),$i(r)):r.Wr.set("Unknown")})).apply(this,arguments)}function yM(r,i,n){return Rb.apply(this,arguments)}function Rb(){return(Rb=(0,ce.Z)(function*(r,i,n){if(r.Wr.set("Online"),i instanceof Ix&&2===i.state&&i.cause)try{yield(s=(0,ce.Z)(function*(l,d){const g=d.cause;for(const v of d.targetIds)l.qr.has(v)&&(yield l.remoteSyncer.rejectListen(v,g),l.qr.delete(v),l.Gr.removeTarget(v))}),function(l,d){return s.apply(this,arguments)})(r,i)}catch(s){Ge("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),s),yield Ly(r,s)}else if(i instanceof yy?r.Gr.rt(i):i instanceof xx?r.Gr.ft(i):r.Gr.ct(i),!n.isEqual(Ot.min()))try{const s=yield pf(r.localStore);n.compareTo(s)>=0&&(yield function(l,d){const g=l.Gr._t(d);return g.targetChanges.forEach((v,C)=>{if(v.resumeToken.approximateByteSize()>0){const T=l.qr.get(C);T&&l.qr.set(C,T.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach(v=>{const C=l.qr.get(v);if(!C)return;l.qr.set(v,C.withResumeToken(Wi.EMPTY_BYTE_STRING,C.snapshotVersion)),vd(l,v);const T=new Sc(C.target,v,1,C.sequenceNumber);Mb(l,T)}),l.remoteSyncer.applyRemoteEvent(g)}(r,n))}catch(s){Ge("RemoteStore","Failed to raise snapshot:",s),yield Ly(r,s)}var s})).apply(this,arguments)}function Ly(r,i,n){return By.apply(this,arguments)}function By(){return(By=(0,ce.Z)(function*(r,i,n){if(!Vo(i))throw i;r.Kr.add(1),yield mf(r),r.Wr.set("Offline"),n||(n=()=>pf(r.localStore)),r.asyncQueue.enqueueRetryable((0,ce.Z)(function*(){Ge("RemoteStore","Retrying IndexedDB access"),yield n(),r.Kr.delete(1),yield Up(r)}))})).apply(this,arguments)}function sI(r,i){return i().catch(n=>Ly(r,n,i))}function Hp(r){return kb.apply(this,arguments)}function kb(){return(kb=(0,ce.Z)(function*(r){const i=qe(r),n=Nc(i);let s=i.Ur.length>0?i.Ur[i.Ur.length-1].batchId:-1;for(;_M(i);)try{const l=yield iM(i.localStore,s);if(null===l){0===i.Ur.length&&n.lr();break}s=l.batchId,Af(i,l)}catch(l){yield Ly(i,l)}vM(i)&&Fb(i)})).apply(this,arguments)}function _M(r){return Xi(r)&&r.Ur.length<10}function Af(r,i){r.Ur.push(i);const n=Nc(r);n.cr()&&n.br&&n.Pr(i.mutations)}function vM(r){return Xi(r)&&!Nc(r).ar()&&r.Ur.length>0}function Fb(r){Nc(r).start()}function wM(r){return oI.apply(this,arguments)}function oI(){return(oI=(0,ce.Z)(function*(r){Nc(r).Sr()})).apply(this,arguments)}function aI(r){return Ob.apply(this,arguments)}function Ob(){return(Ob=(0,ce.Z)(function*(r){const i=Nc(r);for(const n of r.Ur)i.Pr(n.mutations)})).apply(this,arguments)}function Nb(r,i,n){return Vy.apply(this,arguments)}function Vy(){return(Vy=(0,ce.Z)(function*(r,i,n){const s=r.Ur.shift(),l=Vx.from(s,i,n);yield sI(r,()=>r.remoteSyncer.applySuccessfulWrite(l)),yield Hp(r)})).apply(this,arguments)}function lI(r,i){return Uy.apply(this,arguments)}function Uy(){return(Uy=(0,ce.Z)(function*(r,i){var n;i&&Nc(r).br&&(yield(n=(0,ce.Z)(function*(s,l){if(vx(d=l.code)&&d!==be.ABORTED){const g=s.Ur.shift();Nc(s).hr(),yield sI(s,()=>s.remoteSyncer.rejectFailedWrite(g.batchId,l)),yield Hp(s)}var d}),function(s,l){return n.apply(this,arguments)})(r,i)),vM(r)&&Fb(r)})).apply(this,arguments)}function Gy(r,i){return Hy.apply(this,arguments)}function Hy(){return(Hy=(0,ce.Z)(function*(r,i){const n=qe(r);i?(n.Kr.delete(2),yield Up(n)):i||(n.Kr.add(2),yield mf(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function yf(r){return r.zr||(r.zr=function(i,n,s){const l=qe(i);return l.Cr(),new _1(n,l.nr,l.credentials,l.N,s)}(r.datastore,r.asyncQueue,{Si:AM.bind(null,r),Ci:rI.bind(null,r),Tr:yM.bind(null,r)}),r.jr.push(function(){var i=(0,ce.Z)(function*(n){n?(r.zr.hr(),Fy(r)?$i(r):r.Wr.set("Unknown")):(yield r.zr.stop(),Oy(r))});return function(n){return i.apply(this,arguments)}}())),r.zr}function Nc(r){return r.Hr||(r.Hr=function(i,n,s){const l=qe(i);return l.Cr(),new v1(n,l.nr,l.credentials,l.N,s)}(r.datastore,r.asyncQueue,{Si:wM.bind(null,r),Ci:lI.bind(null,r),Vr:aI.bind(null,r),vr:Nb.bind(null,r)}),r.jr.push(function(){var i=(0,ce.Z)(function*(n){n?(r.Hr.hr(),yield Hp(r)):(yield r.Hr.stop(),r.Ur.length>0&&(Ge("RemoteStore",`Stopping write stream with ${r.Ur.length} pending writes`),r.Ur=[]))});return function(n){return i.apply(this,arguments)}}())),r.Hr}class Pb{constructor(i,n,s,l,d){this.asyncQueue=i,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}static createAndSchedule(i,n,s,l,d){const g=Date.now()+s,v=new Pb(i,n,g,l,d);return v.start(s),v}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Le(be.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function _f(r,i){if(ui("AsyncQueue",`${i}: ${r}`),Vo(r))return new Le(be.UNAVAILABLE,`${i}: ${r}`);throw r}class vf{constructor(i){this.comparator=i?(n,s)=>i(n,s)||ct.comparator(n.key,s.key):(n,s)=>ct.comparator(n.key,s.key),this.keyedMap=Jw(),this.sortedSet=new Oi(this.comparator)}static emptySet(i){return new vf(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const n=this.keyedMap.get(i);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((n,s)=>(i(n),!1))}add(i){const n=this.delete(i.key);return n.copy(n.keyedMap.insert(i.key,i),n.sortedSet.insert(i,null))}delete(i){const n=this.get(i);return n?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(n)):this}isEqual(i){if(!(i instanceof vf)||this.size!==i.size)return!1;const n=this.sortedSet.getIterator(),s=i.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const i=[];return this.forEach(n=>{i.push(n.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,n){const s=new vf;return s.comparator=this.comparator,s.keyedMap=i,s.sortedSet=n,s}}class wf{constructor(){this.Jr=new Oi(ct.comparator)}track(i){const n=i.doc.key,s=this.Jr.get(n);s?0!==i.type&&3===s.type?this.Jr=this.Jr.insert(n,i):3===i.type&&1!==s.type?this.Jr=this.Jr.insert(n,{type:s.type,doc:i.doc}):2===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):2===i.type&&0===s.type?this.Jr=this.Jr.insert(n,{type:0,doc:i.doc}):1===i.type&&0===s.type?this.Jr=this.Jr.remove(n):1===i.type&&2===s.type?this.Jr=this.Jr.insert(n,{type:1,doc:s.doc}):0===i.type&&1===s.type?this.Jr=this.Jr.insert(n,{type:2,doc:i.doc}):ht():this.Jr=this.Jr.insert(n,i)}Yr(){const i=[];return this.Jr.inorderTraversal((n,s)=>{i.push(s)}),i}}class wd{constructor(i,n,s,l,d,g,v,C){this.query=i,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=g,this.syncStateChanged=v,this.excludesMetadataChanges=C}static fromInitialDocuments(i,n,s,l){const d=[];return n.forEach(g=>{d.push({type:0,doc:g})}),new wd(i,n,vf.emptySet(n),d,s,l,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&yl(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const n=this.docChanges,s=i.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class cI{constructor(){this.Xr=void 0,this.listeners=[]}}class uI{constructor(){this.queries=new Fa(i=>nf(i),yl),this.onlineState="Unknown",this.Zr=new Set}}function jy(r,i){return Qy.apply(this,arguments)}function Qy(){return(Qy=(0,ce.Z)(function*(r,i){const n=qe(r),s=i.query;let l=!1,d=n.queries.get(s);if(d||(l=!0,d=new cI),l)try{d.Xr=yield n.onListen(s)}catch(g){const v=_f(g,`Initialization of query '${Qw(i.query)}' failed`);return void i.onError(v)}n.queries.set(s,d),d.listeners.push(i),i.eo(n.onlineState),d.Xr&&i.no(d.Xr)&&Bb(n)})).apply(this,arguments)}function zy(r,i){return Lb.apply(this,arguments)}function Lb(){return(Lb=(0,ce.Z)(function*(r,i){const n=qe(r),s=i.query;let l=!1;const d=n.queries.get(s);if(d){const g=d.listeners.indexOf(i);g>=0&&(d.listeners.splice(g,1),l=0===d.listeners.length)}if(l)return n.queries.delete(s),n.onUnlisten(s)})).apply(this,arguments)}function dI(r,i){const n=qe(r);let s=!1;for(const l of i){const g=n.queries.get(l.query);if(g){for(const v of g.listeners)v.no(l)&&(s=!0);g.Xr=l}}s&&Bb(n)}function bM(r,i,n){const s=qe(r),l=s.queries.get(i);if(l)for(const d of l.listeners)d.onError(n);s.queries.delete(i)}function Bb(r){r.Zr.forEach(i=>{i.next()})}class Vb{constructor(i,n,s){this.query=i,this.so=n,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=s||{}}no(i){if(!this.options.includeMetadataChanges){const s=[];for(const l of i.docChanges)3!==l.type&&s.push(l);i=new wd(i.query,i.docs,i.oldDocs,s,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let n=!1;return this.io?this.oo(i)&&(this.so.next(i),n=!0):this.ao(i,this.onlineState)&&(this.co(i),n=!0),this.ro=i,n}onError(i){this.so.error(i)}eo(i){this.onlineState=i;let n=!1;return this.ro&&!this.io&&this.ao(this.ro,i)&&(this.co(this.ro),n=!0),n}ao(i,n){return!i.fromCache||!(this.options.uo&&"Offline"!==n||i.docs.isEmpty()&&"Offline"!==n)}oo(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(i){i=wd.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.io=!0,this.so.next(i)}}class EM{constructor(i,n){this.payload=i,this.byteLength=n}ho(){return"metadata"in this.payload}}class bf{constructor(i){this.N=i}zn(i){return Ma(this.N,i)}Hn(i){return i.metadata.exists?hd(this.N,i.document,!1):Cn.newNoDocument(this.zn(i.metadata.name),this.Jn(i.metadata.readTime))}Jn(i){return Ni(i)}}class jp{constructor(i,n,s){this.lo=i,this.localStore=n,this.N=s,this.queries=[],this.documents=[],this.progress=hI(i)}fo(i){this.progress.bytesLoaded+=i.byteLength;let n=this.progress.documentsLoaded;return i.payload.namedQuery?this.queries.push(i.payload.namedQuery):i.payload.documentMetadata?(this.documents.push({metadata:i.payload.documentMetadata}),i.payload.documentMetadata.exists||++n):i.payload.document&&(this.documents[this.documents.length-1].document=i.payload.document,++n),n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}wo(i){const n=new Map,s=new bf(this.N);for(const l of i)if(l.metadata.queries){const d=s.zn(l.metadata.name);for(const g of l.metadata.queries){const v=(n.get(g)||sn()).add(d);n.set(g,v)}}return n}complete(){var i=this;return(0,ce.Z)(function*(){const n=yield function(r,i,n,s){return vb.apply(this,arguments)}(i.localStore,new bf(i.N),i.documents,i.lo.id),s=i.wo(i.documents);for(const l of i.queries)yield sM(i.localStore,l,s.get(l.name));return i.progress.taskState="Success",new Wx(Object.assign({},i.progress),n)})()}}function hI(r){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}}class qy{constructor(i){this.key=i}}class Uo{constructor(i){this.key=i}}class fI{constructor(i,n){this.query=i,this._o=n,this.mo=null,this.current=!1,this.yo=sn(),this.mutatedKeys=sn(),this.po=fx(i),this.Eo=new vf(this.po)}get To(){return this._o}Io(i,n){const s=n?n.Ao:new wf,l=n?n.Eo:this.Eo;let d=n?n.mutatedKeys:this.mutatedKeys,g=l,v=!1;const C=hy(this.query)&&l.size===this.query.limit?l.last():null,T=fy(this.query)&&l.size===this.query.limit?l.first():null;if(i.inorderTraversal((R,N)=>{const U=l.get(R),q=Ap(this.query,N)?N:null,$=!!U&&this.mutatedKeys.has(U.key),we=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let Oe=!1;U&&q?U.data.isEqual(q.data)?$!==we&&(s.track({type:3,doc:q}),Oe=!0):this.Ro(U,q)||(s.track({type:2,doc:q}),Oe=!0,(C&&this.po(q,C)>0||T&&this.po(q,T)<0)&&(v=!0)):!U&&q?(s.track({type:0,doc:q}),Oe=!0):U&&!q&&(s.track({type:1,doc:U}),Oe=!0,(C||T)&&(v=!0)),Oe&&(q?(g=g.add(q),d=we?d.add(R):d.delete(R)):(g=g.delete(R),d=d.delete(R)))}),hy(this.query)||fy(this.query))for(;g.size>this.query.limit;){const R=hy(this.query)?g.last():g.first();g=g.delete(R.key),d=d.delete(R.key),s.track({type:1,doc:R})}return{Eo:g,Ao:s,Ln:v,mutatedKeys:d}}Ro(i,n){return i.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(i,n,s){const l=this.Eo;this.Eo=i.Eo,this.mutatedKeys=i.mutatedKeys;const d=i.Ao.Yr();d.sort((T,R)=>function(N,U){const q=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ht()}};return q(N)-q(U)}(T.type,R.type)||this.po(T.doc,R.doc)),this.bo(s);const g=n?this.Po():[],v=0===this.yo.size&&this.current?1:0,C=v!==this.mo;return this.mo=v,0!==d.length||C?{snapshot:new wd(this.query,i.Eo,l,d,i.mutatedKeys,0===v,C,!1),vo:g}:{vo:g}}eo(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Eo:this.Eo,Ao:new wf,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(i){return!this._o.has(i)&&!!this.Eo.has(i)&&!this.Eo.get(i).hasLocalMutations}bo(i){i&&(i.addedDocuments.forEach(n=>this._o=this._o.add(n)),i.modifiedDocuments.forEach(n=>{}),i.removedDocuments.forEach(n=>this._o=this._o.delete(n)),this.current=i.current)}Po(){if(!this.current)return[];const i=this.yo;this.yo=sn(),this.Eo.forEach(s=>{this.Vo(s.key)&&(this.yo=this.yo.add(s.key))});const n=[];return i.forEach(s=>{this.yo.has(s)||n.push(new Uo(s))}),this.yo.forEach(s=>{i.has(s)||n.push(new qy(s))}),n}So(i){this._o=i.Gn,this.yo=sn();const n=this.Io(i.documents);return this.applyChanges(n,!0)}Do(){return wd.fromInitialDocuments(this.query,this.Eo,this.mutatedKeys,0===this.mo)}}class Yy{constructor(i,n,s){this.query=i,this.targetId=n,this.view=s}}class CM{constructor(i){this.key=i,this.Co=!1}}class xM{constructor(i,n,s,l,d,g){this.localStore=i,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=g,this.No={},this.xo=new Fa(v=>nf(v),yl),this.ko=new Map,this.$o=new Set,this.Oo=new Oi(ct.comparator),this.Fo=new Map,this.Mo=new Lp,this.Lo={},this.Bo=new Map,this.Uo=Mc.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function w1(r,i){return Qp.apply(this,arguments)}function Qp(){return(Qp=(0,ce.Z)(function*(r,i){const n=Wp(r);let s,l;const d=n.xo.get(i);if(d)s=d.targetId,n.sharedClientState.addLocalQueryTarget(s),l=d.view.Do();else{const g=yield Np(n.localStore,Ns(i)),v=n.sharedClientState.addLocalQueryTarget(g.targetId);s=g.targetId,l=yield zp(n,i,s,"current"===v),n.isPrimaryClient&&Gp(n.remoteStore,g)}return l})).apply(this,arguments)}function zp(r,i,n,s){return Wy.apply(this,arguments)}function Wy(){return(Wy=(0,ce.Z)(function*(r,i,n,s){r.Ko=(R,N,U)=>{return(q=(0,ce.Z)(function*($,we,Oe,Be){let tt=we.view.Io(Oe);tt.Ln&&(tt=yield Bi($.localStore,we.query,!1).then(({documents:pn})=>we.view.Io(pn,tt)));const ot=Be&&Be.targetChanges.get(we.targetId),at=we.view.applyChanges(tt,$.isPrimaryClient,ot);return vr($,we.targetId,at.vo),at.snapshot}),function($,we,Oe,Be){return q.apply(this,arguments)})(r,R,N,U);var q};const l=yield Bi(r.localStore,i,!0),d=new fI(i,l.Gn),g=d.Io(l.documents),v=cf.createSynthesizedTargetChangeForCurrentChange(n,s&&"Offline"!==r.onlineState),C=d.applyChanges(g,r.isPrimaryClient,v);vr(r,n,C.vo);const T=new Yy(i,n,d);return r.xo.set(i,T),r.ko.has(n)?r.ko.get(n).push(i):r.ko.set(n,[i]),C.snapshot})).apply(this,arguments)}function Ub(r,i){return qp.apply(this,arguments)}function qp(){return(qp=(0,ce.Z)(function*(r,i){const n=qe(r),s=n.xo.get(i),l=n.ko.get(s.targetId);if(l.length>1)return n.ko.set(s.targetId,l.filter(d=>!yl(d,i))),void n.xo.delete(i);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Pp(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),_d(n.remoteStore,s.targetId),bd(n,s.targetId)}).catch(Ki))):(bd(n,s.targetId),yield Pp(n.localStore,s.targetId,!0))})).apply(this,arguments)}function Gb(){return(Gb=(0,ce.Z)(function*(r,i,n){const s=Zp(r);try{const l=yield function(d,g){const v=qe(d),C=Fi.now(),T=g.reduce((N,U)=>N.add(U.key),sn());let R;return v.persistence.runTransaction("Locally write mutations","readwrite",N=>v.Qn.Pn(N,T).next(U=>{R=U;const q=[];for(const $ of g){const we=TT($,R.get($.key));null!=we&&q.push(new Ec($.key,we,vT(we.value.mapValue),bi.exists(!0)))}return v.In.addMutationBatch(N,C,q,g)})).then(N=>(N.applyToLocalDocumentSet(R),{batchId:N.batchId,changes:R}))}(s.localStore,i);s.sharedClientState.addPendingMutation(l.batchId),function(d,g,v){let C=d.Lo[d.currentUser.toKey()];C||(C=new Oi(Ht)),C=C.insert(g,v),d.Lo[d.currentUser.toKey()]=C}(s,l.batchId,n),yield Cl(s,l.changes),yield Hp(s.remoteStore)}catch(l){const d=_f(l,"Failed to persist write");n.reject(d)}})).apply(this,arguments)}function gI(r,i){return Hb.apply(this,arguments)}function Hb(){return(Hb=(0,ce.Z)(function*(r,i){const n=qe(r);try{const s=yield nM(n.localStore,i);i.targetChanges.forEach((l,d)=>{const g=n.Fo.get(d);g&&(xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?g.Co=!0:l.modifiedDocuments.size>0?xt(g.Co):l.removedDocuments.size>0&&(xt(g.Co),g.Co=!1))}),yield Cl(n,s,i)}catch(s){yield Ki(s)}})).apply(this,arguments)}function jb(r,i,n){const s=qe(r);if(s.isPrimaryClient&&0===n||!s.isPrimaryClient&&1===n){const l=[];s.xo.forEach((d,g)=>{const v=g.view.eo(i);v.snapshot&&l.push(v.snapshot)}),function(d,g){const v=qe(d);v.onlineState=g;let C=!1;v.queries.forEach((T,R)=>{for(const N of R.listeners)N.eo(g)&&(C=!0)}),C&&Bb(v)}(s.eventManager,i),l.length&&s.No.Tr(l),s.onlineState=i,s.isPrimaryClient&&s.sharedClientState.setOnlineState(i)}}function Qb(r,i,n){return Zy.apply(this,arguments)}function Zy(){return(Zy=(0,ce.Z)(function*(r,i,n){const s=qe(r);s.sharedClientState.updateQueryState(i,"rejected",n);const l=s.Fo.get(i),d=l&&l.key;if(d){let g=new Oi(ct.comparator);g=g.insert(d,Cn.newNoDocument(d,Ot.min()));const v=sn().add(d),C=new Ep(Ot.min(),new Map,new Jn(Ht),g,v);yield gI(s,C),s.Oo=s.Oo.remove(d),s.Fo.delete(i),Yb(s)}else yield Pp(s.localStore,i,!1).then(()=>bd(s,i,n)).catch(Ki)})).apply(this,arguments)}function pI(r,i){return Ky.apply(this,arguments)}function Ky(){return(Ky=(0,ce.Z)(function*(r,i){const n=qe(r),s=i.batch.batchId;try{const l=yield A1(n.localStore,i);$y(n,s,null),qb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),yield Cl(n,l)}catch(l){yield Ki(l)}})).apply(this,arguments)}function mI(r,i,n){return zb.apply(this,arguments)}function zb(){return(zb=(0,ce.Z)(function*(r,i,n){const s=qe(r);try{const l=yield function(d,g){const v=qe(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",C=>{let T;return v.In.lookupMutationBatch(C,g).next(R=>(xt(null!==R),T=R.keys(),v.In.removeMutationBatch(C,R))).next(()=>v.In.performConsistencyCheck(C)).next(()=>v.Qn.Pn(C,T))})}(s.localStore,i);$y(s,i,n),qb(s,i),s.sharedClientState.updateMutationState(i,"rejected",n),yield Cl(s,l)}catch(l){yield Ki(l)}})).apply(this,arguments)}function Jy(){return(Jy=(0,ce.Z)(function*(r,i){const n=qe(r);Xi(n.remoteStore)||Ge("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const g=qe(d);return g.persistence.runTransaction("Get highest unacknowledged batch id","readonly",v=>g.In.getHighestUnacknowledgedBatchId(v))}(n.localStore);if(-1===s)return void i.resolve();const l=n.Bo.get(s)||[];l.push(i),n.Bo.set(s,l)}catch(s){const l=_f(s,"Initialization of waitForPendingWrites() operation failed");i.reject(l)}})).apply(this,arguments)}function qb(r,i){(r.Bo.get(i)||[]).forEach(n=>{n.resolve()}),r.Bo.delete(i)}function $y(r,i,n){const s=qe(r);let l=s.Lo[s.currentUser.toKey()];if(l){const d=l.get(i);d&&(n?d.reject(n):d.resolve(),l=l.remove(i)),s.Lo[s.currentUser.toKey()]=l}}function bd(r,i,n=null){r.sharedClientState.removeLocalQueryTarget(i);for(const s of r.ko.get(i))r.xo.delete(s),n&&r.No.jo(s,n);r.ko.delete(i),r.isPrimaryClient&&r.Mo.cs(i).forEach(s=>{r.Mo.containsKey(s)||DM(r,s)})}function DM(r,i){r.$o.delete(i.path.canonicalString());const n=r.Oo.get(i);null!==n&&(_d(r.remoteStore,n),r.Oo=r.Oo.remove(i),r.Fo.delete(n),Yb(r))}function vr(r,i,n){for(const s of n)s instanceof qy?(r.Mo.addReference(s.key,i),Ef(r,s)):s instanceof Uo?(Ge("SyncEngine","Document no longer in limbo: "+s.key),r.Mo.removeReference(s.key,i),r.Mo.containsKey(s.key)||DM(r,s.key)):ht()}function Ef(r,i){const n=i.key,s=n.path.canonicalString();r.Oo.get(n)||r.$o.has(s)||(Ge("SyncEngine","New document in limbo: "+n),r.$o.add(s),Yb(r))}function Yb(r){for(;r.$o.size>0&&r.Oo.size<r.maxConcurrentLimboResolutions;){const i=r.$o.values().next().value;r.$o.delete(i);const n=new ct(en.fromString(i)),s=r.Uo.next();r.Fo.set(s,new CM(n)),r.Oo=r.Oo.insert(n,s),Gp(r.remoteStore,new Sc(Ns(Ta(n.path)),s,2,ys.T))}}function Cl(r,i,n){return yI.apply(this,arguments)}function yI(){return(yI=(0,ce.Z)(function*(r,i,n){const s=qe(r),l=[],d=[],g=[];var v;s.xo.isEmpty()||(s.xo.forEach((v,C)=>{g.push(s.Ko(C,i,n).then(T=>{if(T){s.isPrimaryClient&&s.sharedClientState.updateQueryState(C.targetId,T.fromCache?"not-current":"current"),l.push(T);const R=pb.kn(C.targetId,T);d.push(R)}}))}),yield Promise.all(g),s.No.Tr(l),yield(v=(0,ce.Z)(function*(C,T){const R=qe(C);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",N=>Pe.forEach(T,U=>Pe.forEach(U.Nn,q=>R.persistence.referenceDelegate.addReference(N,U.targetId,q)).next(()=>Pe.forEach(U.xn,q=>R.persistence.referenceDelegate.removeReference(N,U.targetId,q)))))}catch(N){if(!Vo(N))throw N;Ge("LocalStore","Failed to update sequence numbers: "+N)}for(const N of T){const U=N.targetId;if(!N.fromCache){const q=R.Un.get(U),we=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);R.Un=R.Un.insert(U,we)}}}),function(C,T){return v.apply(this,arguments)})(s.localStore,d))})).apply(this,arguments)}function Yp(r,i){return Wb.apply(this,arguments)}function Wb(){return(Wb=(0,ce.Z)(function*(r,i){const n=qe(r);if(!n.currentUser.isEqual(i)){Ge("SyncEngine","User change. New user:",i.toKey());const s=yield tM(n.localStore,i);n.currentUser=i,(l=n).Bo.forEach(g=>{g.forEach(v=>{v.reject(new Le(be.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.Bo.clear(),n.sharedClientState.handleUserChange(i,s.removedBatchIds,s.addedBatchIds),yield Cl(n,s.Wn)}var l})).apply(this,arguments)}function Zb(r,i){const n=qe(r),s=n.Fo.get(i);if(s&&s.Co)return sn().add(s.key);{let l=sn();const d=n.ko.get(i);if(!d)return l;for(const g of d){const v=n.xo.get(g);l=l.unionWith(v.view.To)}return l}}function SM(r,i){return Xy.apply(this,arguments)}function Xy(){return(Xy=(0,ce.Z)(function*(r,i){const n=qe(r),s=yield Bi(n.localStore,i.query,!0),l=i.view.So(s);return n.isPrimaryClient&&vr(n,i.targetId,l.vo),l})).apply(this,arguments)}function TM(r){return Kb.apply(this,arguments)}function Kb(){return(Kb=(0,ce.Z)(function*(r){const i=qe(r);return Jx(i.localStore).then(n=>Cl(i,n))})).apply(this,arguments)}function Jb(r,i,n,s){return e_.apply(this,arguments)}function e_(){return(e_=(0,ce.Z)(function*(r,i,n,s){const l=qe(r),d=yield function(g,v){const C=qe(g),T=qe(C.In);return C.persistence.runTransaction("Lookup mutation documents","readonly",R=>T.Xt(R,v).next(N=>N?C.Qn.Pn(R,N):Pe.resolve(null)))}(l.localStore,i);var v;null!==d?("pending"===n?yield Hp(l.remoteStore):"acknowledged"===n||"rejected"===n?($y(l,i,s||null),qb(l,i),v=i,qe(qe(l.localStore).In).te(v)):ht(),yield Cl(l,d)):Ge("SyncEngine","Cannot apply mutation batch with id: "+i)})).apply(this,arguments)}function Cf(){return(Cf=(0,ce.Z)(function*(r,i){const n=qe(r);if(Wp(n),Zp(n),!0===i&&!0!==n.qo){const s=n.sharedClientState.getAllActiveQueryTargets(),l=yield t_(n,s.toArray());n.qo=!0,yield Gy(n.remoteStore,!0);for(const d of l)Gp(n.remoteStore,d)}else if(!1===i&&!1!==n.qo){const s=[];let l=Promise.resolve();n.ko.forEach((d,g)=>{n.sharedClientState.isLocalQueryTarget(g)?s.push(g):l=l.then(()=>(bd(n,g),Pp(n.localStore,g,!0))),_d(n.remoteStore,g)}),yield l,yield t_(n,s),function(d){const g=qe(d);g.Fo.forEach((v,C)=>{_d(g.remoteStore,C)}),g.Mo.us(),g.Fo=new Map,g.Oo=new Oi(ct.comparator)}(n),n.qo=!1,yield Gy(n.remoteStore,!1)}})).apply(this,arguments)}function t_(r,i,n){return vI.apply(this,arguments)}function vI(){return(vI=(0,ce.Z)(function*(r,i,n){const s=qe(r),l=[],d=[];for(const g of i){let v;const C=s.ko.get(g);if(C&&0!==C.length){v=yield Np(s.localStore,Ns(C[0]));for(const T of C){const R=s.xo.get(T),N=yield SM(s,R);N.snapshot&&d.push(N.snapshot)}}else{const T=yield Kx(s.localStore,g);v=yield Np(s.localStore,T),yield zp(s,$b(T),g,!1)}l.push(v)}return s.No.Tr(d),l})).apply(this,arguments)}function $b(r){return dx(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function MM(r){const i=qe(r);return qe(qe(i.localStore).persistence).pn()}function wI(r,i,n,s){return xf.apply(this,arguments)}function xf(){return(xf=(0,ce.Z)(function*(r,i,n,s){const l=qe(r);if(l.qo)Ge("SyncEngine","Ignoring unexpected query state notification.");else if(l.ko.has(i))switch(n){case"current":case"not-current":{const d=yield Jx(l.localStore),g=Ep.createSynthesizedRemoteEventForCurrentChange(i,"current"===n);yield Cl(l,d,g);break}case"rejected":yield Pp(l.localStore,i,!0),bd(l,i,s);break;default:ht()}})).apply(this,arguments)}function bI(r,i,n){return Xb.apply(this,arguments)}function Xb(){return(Xb=(0,ce.Z)(function*(r,i,n){const s=Wp(r);if(s.qo){for(const l of i){if(s.ko.has(l)){Ge("SyncEngine","Adding an already active target "+l);continue}const d=yield Kx(s.localStore,l),g=yield Np(s.localStore,d);yield zp(s,$b(d),g.targetId,!1),Gp(s.remoteStore,g)}for(const l of n)s.ko.has(l)&&(yield Pp(s.localStore,l,!1).then(()=>{_d(s.remoteStore,l),bd(s,l)}).catch(Ki))}})).apply(this,arguments)}function Wp(r){const i=qe(r);return i.remoteStore.remoteSyncer.applyRemoteEvent=gI.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=Zb.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=Qb.bind(null,i),i.No.Tr=dI.bind(null,i.eventManager),i.No.jo=bM.bind(null,i.eventManager),i}function Zp(r){const i=qe(r);return i.remoteStore.remoteSyncer.applySuccessfulWrite=pI.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=mI.bind(null,i),i}class EI{constructor(){this.synchronizeTabs=!1}initialize(i){var n=this;return(0,ce.Z)(function*(){n.N=Vp(i.databaseInfo.databaseId),n.sharedClientState=n.Wo(i),n.persistence=n.Go(i),yield n.persistence.start(),n.gcScheduler=n.zo(i),n.localStore=n.Ho(i)})()}zo(i){return null}Ho(i){return eM(this.persistence,new Ty,i.initialUser,this.N)}Go(i){return new y1(Eb.Ns,this.N)}Wo(i){return new uM}terminate(){var i=this;return(0,ce.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class eE extends EI{constructor(i,n,s){super(),this.Jo=i,this.cacheSizeBytes=n,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(i){var n=()=>super.initialize,s=this;return(0,ce.Z)(function*(){yield n().call(s,i),yield function(r){return _b.apply(this,arguments)}(s.localStore),yield s.Jo.initialize(s,i),yield Zp(s.Jo.syncEngine),yield Hp(s.Jo.remoteStore),yield s.persistence.nn(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(s.localStore),Promise.resolve()))})()}Ho(i){return eM(this.persistence,new Ty,i.initialUser,this.N)}zo(i){return new $T(this.persistence.referenceDelegate.garbageCollector,i.asyncQueue)}Go(i){const n=Sy(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?Li.withCacheSize(this.cacheSizeBytes):Li.DEFAULT;return new gb(this.synchronizeTabs,n,i.clientId,s,i.asyncQueue,iI(),Bp(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(i){return new uM}}class CI extends eE{constructor(i,n){super(i,n,!1),this.Jo=i,this.cacheSizeBytes=n,this.synchronizeTabs=!0}initialize(i){var n=()=>super.initialize,s=this;return(0,ce.Z)(function*(){yield n().call(s,i);const l=s.Jo.syncEngine;s.sharedClientState instanceof yd&&(s.sharedClientState.syncEngine={_i:Jb.bind(null,l),mi:wI.bind(null,l),gi:bI.bind(null,l),pn:MM.bind(null,l),wi:TM.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.nn(function(){var d=(0,ce.Z)(function*(g){yield function(r,i){return Cf.apply(this,arguments)}(s.Jo.syncEngine,g),s.gcScheduler&&(g&&!s.gcScheduler.started?s.gcScheduler.start(s.localStore):g||s.gcScheduler.stop())});return function(g){return d.apply(this,arguments)}}())})()}Wo(i){const n=iI();if(!yd.bt(n))throw new Le(be.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Sy(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new yd(n,i.asyncQueue,s,i.clientId,i.initialUser)}}class n_{initialize(i,n){var s=this;return(0,ce.Z)(function*(){s.localStore||(s.localStore=i.localStore,s.sharedClientState=i.sharedClientState,s.datastore=s.createDatastore(n),s.remoteStore=s.createRemoteStore(n),s.eventManager=s.createEventManager(n),s.syncEngine=s.createSyncEngine(n,!i.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>jb(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=Yp.bind(null,s.syncEngine),yield Gy(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(i){return new uI}createDatastore(i){const n=Vp(i.databaseInfo.databaseId),s=new fM(i.databaseInfo);return new Db(i.credentials,s,n)}createRemoteStore(i){return n=this.localStore,s=this.datastore,l=i.asyncQueue,d=v=>jb(this.syncEngine,v,0),g=nI.bt()?new nI:new tI,new mM(n,s,l,d,g);var n,s,l,d,g}createSyncEngine(i,n){return function(s,l,d,g,v,C,T){const R=new xM(s,l,d,g,v,C);return T&&(R.qo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,n)}terminate(){return(i=(0,ce.Z)(function*(n){const s=qe(n);Ge("RemoteStore","RemoteStore shutting down."),s.Kr.add(5),yield mf(s),s.Qr.shutdown(),s.Wr.set("Unknown")}),function(n){return i.apply(this,arguments)})(this.remoteStore);var i}}function xI(r,i=10240){let n=0;return{read:()=>(0,ce.Z)(function*(){if(n<r.byteLength){const s={value:r.slice(n,n+i),done:!1};return n+=i,s}return{done:!0}})(),cancel:()=>(0,ce.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Kp{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Yo(this.observer.next,i)}error(i){this.observer.error?this.Yo(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}Xo(){this.muted=!0}Yo(i,n){this.muted||setTimeout(()=>{this.muted||i(n)},0)}}class II{constructor(i,n){this.Zo=i,this.N=n,this.metadata=new ki,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(s=>{s&&s.ho()?this.metadata.resolve(s.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==s?void 0:s.payload)}`))},s=>this.metadata.reject(s))}close(){return this.Zo.cancel()}getMetadata(){var i=this;return(0,ce.Z)(function*(){return i.metadata.promise})()}Qo(){var i=this;return(0,ce.Z)(function*(){return yield i.getMetadata(),i.ea()})()}ea(){var i=this;return(0,ce.Z)(function*(){const n=yield i.na();if(null===n)return null;const s=i.ta.decode(n),l=Number(s);isNaN(l)&&i.sa(`length string (${s}) is not valid number`);const d=yield i.ia(l);return new EM(JSON.parse(d),n.length+l)})()}ra(){return this.buffer.findIndex(i=>i==="{".charCodeAt(0))}na(){var i=this;return(0,ce.Z)(function*(){for(;i.ra()<0&&!(yield i.oa()););if(0===i.buffer.length)return null;const n=i.ra();n<0&&i.sa("Reached the end of bundle when a length string is expected.");const s=i.buffer.slice(0,n);return i.buffer=i.buffer.slice(n),s})()}ia(i){var n=this;return(0,ce.Z)(function*(){for(;n.buffer.length<i;)(yield n.oa())&&n.sa("Reached the end of bundle when more is expected.");const s=n.ta.decode(n.buffer.slice(0,i));return n.buffer=n.buffer.slice(i),s})()}sa(i){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${i}`)}oa(){var i=this;return(0,ce.Z)(function*(){const n=yield i.Zo.read();if(!n.done){const s=new Uint8Array(i.buffer.length+n.value.length);s.set(i.buffer),s.set(n.value,i.buffer.length),i.buffer=s}return n.done})()}}class kM{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(i){var n=this;return(0,ce.Z)(function*(){if(n.ensureCommitNotCalled(),n.mutations.length>0)throw new Le(be.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,ce.Z)(function*(d,g){const v=qe(d),C=dd(v.N)+"/documents",T={documents:g.map(q=>by(v.N,q))},R=yield v.Ki("BatchGetDocuments",C,T),N=new Map;R.forEach(q=>{const $=function(r,i){return"found"in i?function(n,s){xt(!!s.found);const l=Ma(n,s.found.name),d=Ni(s.found.updateTime),g=new di({mapValue:{fields:s.found.fields}});return Cn.newFoundDocument(l,d,g)}(r,i):"missing"in i?function(n,s){xt(!!s.missing),xt(!!s.readTime);const l=Ma(n,s.missing),d=Ni(s.readTime);return Cn.newNoDocument(l,d)}(r,i):ht()}(v.N,q);N.set($.key.toString(),$)});const U=[];return g.forEach(q=>{const $=N.get(q.toString());xt(!!$),U.push($)}),U}),function(d,g){return l.apply(this,arguments)})(n.datastore,i);var l;return s.forEach(l=>n.recordVersion(l)),s})()}set(i,n){this.write(n.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,n){try{this.write(n.toMutation(i,this.preconditionForUpdate(i)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(i.toString())}delete(i){this.write(new wp(i,this.precondition(i))),this.writtenDocs.add(i.toString())}commit(){var i=this;return(0,ce.Z)(function*(){if(i.ensureCommitNotCalled(),i.lastWriteError)throw i.lastWriteError;const n=i.readVersions;var s;i.mutations.forEach(s=>{n.delete(s.key.toString())}),n.forEach((s,l)=>{const d=ct.fromPath(l);i.mutations.push(new bp(d,i.precondition(d)))}),yield(s=(0,ce.Z)(function*(l,d){const g=qe(l),v=dd(g.N)+"/documents",C={writes:d.map(T=>Ey(g.N,T))};yield g.Li("Commit",v,C)}),function(l,d){return s.apply(this,arguments)})(i.datastore,i.mutations),i.committed=!0})()}recordVersion(i){let n;if(i.isFoundDocument())n=i.version;else{if(!i.isNoDocument())throw ht();n=Ot.min()}const s=this.readVersions.get(i.key.toString());if(s){if(!n.isEqual(s))throw new Le(be.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),n)}precondition(i){const n=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&n?bi.updateTime(n):bi.none()}preconditionForUpdate(i){const n=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&n){if(n.isEqual(Ot.min()))throw new Le(be.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return bi.updateTime(n)}return bi.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}class FM{constructor(i,n,s,l){this.asyncQueue=i,this.datastore=n,this.updateFunction=s,this.deferred=l,this.aa=5,this.rr=new Ib(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var i=this;this.rr.Xi((0,ce.Z)(function*(){const n=new kM(i.datastore),s=i.ua(n);s&&s.then(l=>{i.asyncQueue.enqueueAndForget(()=>n.commit().then(()=>{i.deferred.resolve(l)}).catch(d=>{i.ha(d)}))}).catch(l=>{i.ha(l)})}))}ua(i){try{const n=this.updateFunction(i);return!od(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}ha(i){this.aa>0&&this.la(i)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(i)}la(i){if("FirebaseError"===i.name){const n=i.code;return"aborted"===n||"failed-precondition"===n||!vx(n)}return!1}}class DI{constructor(i,n,s){var l=this;this.credentials=i,this.asyncQueue=n,this.databaseInfo=s,this.user=En.UNAUTHENTICATED,this.clientId=lp.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(n,function(){var d=(0,ce.Z)(function*(g){Ge("FirestoreClient","Received user=",g.uid),yield l.credentialListener(g),l.user=g});return function(g){return d.apply(this,arguments)}}())}getConfiguration(){var i=this;return(0,ce.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,credentials:i.credentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.credentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Le(be.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const n=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.credentials.shutdown(),n.resolve()}catch(s){const l=_f(s,"Failed to shutdown persistence");n.reject(l)}})),n.promise}}function SI(r,i){return i_.apply(this,arguments)}function i_(){return(i_=(0,ce.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress(),Ge("FirestoreClient","Initializing OfflineComponentProvider");const n=yield r.getConfiguration();yield i.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(function(){var l=(0,ce.Z)(function*(d){s.isEqual(d)||(yield tM(i.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>r.terminate()),r.offlineComponents=i})).apply(this,arguments)}function tE(r,i){return r_.apply(this,arguments)}function r_(){return(r_=(0,ce.Z)(function*(r,i){r.asyncQueue.verifyOperationInProgress();const n=yield s_(r);Ge("FirestoreClient","Initializing OnlineComponentProvider");const s=yield r.getConfiguration();yield i.initialize(n,s),r.setCredentialChangeListener(l=>{return(d=(0,ce.Z)(function*(g,v){const C=qe(g);C.asyncQueue.verifyOperationInProgress(),Ge("RemoteStore","RemoteStore received new credentials");const T=Xi(C);C.Kr.add(3),yield mf(C),T&&C.Wr.set("Unknown"),yield C.remoteSyncer.handleCredentialChange(v),C.Kr.delete(3),yield Up(C)}),function(g,v){return d.apply(this,arguments)})(i.remoteStore,l);var d}),r.onlineComponents=i})).apply(this,arguments)}function s_(r){return nE.apply(this,arguments)}function nE(){return(nE=(0,ce.Z)(function*(r){return r.offlineComponents||(Ge("FirestoreClient","Using default OfflineComponentProvider"),yield SI(r,new EI)),r.offlineComponents})).apply(this,arguments)}function o_(r){return iE.apply(this,arguments)}function iE(){return(iE=(0,ce.Z)(function*(r){return r.onlineComponents||(Ge("FirestoreClient","Using default OnlineComponentProvider"),yield tE(r,new n_)),r.onlineComponents})).apply(this,arguments)}function rE(r){return s_(r).then(i=>i.persistence)}function TI(r){return s_(r).then(i=>i.localStore)}function OM(r){return o_(r).then(i=>i.remoteStore)}function MI(r){return o_(r).then(i=>i.syncEngine)}function Jp(r){return RI.apply(this,arguments)}function RI(){return(RI=(0,ce.Z)(function*(r){const i=yield o_(r),n=i.eventManager;return n.onListen=w1.bind(null,i.syncEngine),n.onUnlisten=Ub.bind(null,i.syncEngine),n})).apply(this,arguments)}function NM(r,i,n={}){const s=new ki;return r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(l,d,g,v,C){const T=new Kp({next:N=>{d.enqueueAndForget(()=>zy(l,R));const U=N.docs.has(g);!U&&N.fromCache?C.reject(new Le(be.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&N.fromCache&&v&&"server"===v.source?C.reject(new Le(be.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):C.resolve(N)},error:N=>C.reject(N)}),R=new Vb(Ta(g.path),T,{includeMetadataChanges:!0,uo:!0});return jy(l,R)}(yield Jp(r),r.asyncQueue,i,n,s)})),s.promise}function kI(r,i,n={}){const s=new ki;return r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(l,d,g,v,C){const T=new Kp({next:N=>{d.enqueueAndForget(()=>zy(l,R)),N.fromCache&&"server"===v.source?C.reject(new Le(be.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):C.resolve(N)},error:N=>C.reject(N)}),R=new Vb(g,T,{includeMetadataChanges:!0,uo:!0});return jy(l,R)}(yield Jp(r),r.asyncQueue,i,n,s)})),s.promise}class T1{constructor(i,n,s,l,d,g,v,C){this.databaseId=i,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=g,this.autoDetectLongPolling=v,this.useFetchStreams=C}}class If{constructor(i,n){this.projectId=i,this.database=n||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof If&&i.projectId===this.projectId&&i.database===this.database}}const FI=new Map;function sE(r,i,n){if(!n)throw new Le(be.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${i}.`)}function OI(r,i,n,s){if(!0===i&&!0===s)throw new Le(be.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function LM(r){if(!ct.isDocumentKey(r))throw new Le(be.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function BM(r){if(ct.isDocumentKey(r))throw new Le(be.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function oE(r){if(void 0===r)return"undefined";if(null===r)return"null";if("string"==typeof r)return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if("number"==typeof r||"boolean"==typeof r)return""+r;if("object"==typeof r){if(r instanceof Array)return"an array";{const i=function(n){if(n.constructor){const s=/function\s+([^\s(]+)\s*\(/.exec(n.constructor.toString());if(s&&s.length>1)return s[1]}return null}(r);return i?`a custom ${i} object`:"an object"}}return"function"==typeof r?"a function":ht()}function Jt(r,i){if("_delegate"in r&&(r=r._delegate),!(r instanceof i)){if(i.name===r.constructor.name)throw new Le(be.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=oE(r);throw new Le(be.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${n}`)}}return r}function NI(r,i){if(i<=0)throw new Le(be.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${i}.`)}class PI{constructor(i){var n;if(void 0===i.host){if(void 0!==i.ssl)throw new Le(be.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(n=i.ssl)||void 0===n||n;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Le(be.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,OI("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class a_{constructor(i,n){this._credentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PI({}),this._settingsFrozen=!1,i instanceof If?this._databaseId=i:(this._app=i,this._databaseId=function(s){if(!Object.prototype.hasOwnProperty.apply(s.options,["projectId"]))throw new Le(be.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new If(s.options.projectId)}(i))}get app(){if(!this._app)throw new Le(be.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Le(be.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PI(i),void 0!==i.credentials&&(this._credentials=function(n){if(!n)return new ix;switch(n.type){case"gapi":const s=n.client;return xt(!("object"!=typeof s||null===s||!s.auth||!s.auth.getAuthHeaderValueForFirstParty)),new sx(s,n.sessionIndex||"0",n.iamToken||null);case"provider":return n.client;default:throw new Le(be.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const n=FI.get(i);n&&(Ge("ComponentProvider","Removing Datastore"),FI.delete(i),n.terminate())}(this),Promise.resolve()}}class Gn{constructor(i,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Na(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new Gn(this.firestore,i,this._key)}}class ss{constructor(i,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=i}withConverter(i){return new ss(this.firestore,i,this._query)}}class Na extends ss{constructor(i,n,s){super(i,n,Ta(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new Gn(this.firestore,null,new ct(i))}withConverter(i){return new Na(this.firestore,i,this._path)}}function VM(r,i,...n){if(r=(0,st.m9)(r),sE("collection","path",i),r instanceof a_){const s=en.fromString(i,...n);return BM(s),new Na(r,null,s)}{if(!(r instanceof Gn||r instanceof Na))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(en.fromString(i,...n));return BM(s),new Na(r.firestore,null,s)}}function Df(r,i,...n){if(r=(0,st.m9)(r),1===arguments.length&&(i=lp.I()),sE("doc","path",i),r instanceof a_){const s=en.fromString(i,...n);return LM(s),new Gn(r,null,new ct(s))}{if(!(r instanceof Gn||r instanceof Na))throw new Le(be.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(en.fromString(i,...n));return LM(s),new Gn(r.firestore,r instanceof Na?r.converter:null,new ct(s))}}function Ed(r,i){return r=(0,st.m9)(r),i=(0,st.m9)(i),(r instanceof Gn||r instanceof Na)&&(i instanceof Gn||i instanceof Na)&&r.firestore===i.firestore&&r.path===i.path&&r.converter===i.converter}function aE(r,i){return r=(0,st.m9)(r),i=(0,st.m9)(i),r instanceof ss&&i instanceof ss&&r.firestore===i.firestore&&yl(r._query,i._query)&&r.converter===i.converter}class GM{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new Ib(this,"async_queue_retry"),this.Ea=()=>{const n=Bp();n&&Ge("AsyncQueue","Visibility state changed to "+n.visibilityState),this.rr.tr()};const i=Bp();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Ea)}get isShuttingDown(){return this.wa}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Ta(),this.Ia(i)}enterRestrictedMode(i){if(!this.wa){this.wa=!0,this.ya=i||!1;const n=Bp();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Ea)}}enqueue(i){if(this.Ta(),this.wa)return new Promise(()=>{});const n=new ki;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(i().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.da.push(i),this.Aa()))}Aa(){var i=this;return(0,ce.Z)(function*(){if(0!==i.da.length){try{yield i.da[0](),i.da.shift(),i.rr.reset()}catch(n){if(!Vo(n))throw n;Ge("AsyncQueue","Operation failed with retryable error: "+n)}i.da.length>0&&i.rr.Xi(()=>i.Aa())}})()}Ia(i){const n=this.fa.then(()=>(this.ga=!0,i().catch(s=>{throw this.ma=s,this.ga=!1,ui("INTERNAL UNHANDLED ERROR: ",function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),d}(s)),s}).then(s=>(this.ga=!1,s))));return this.fa=n,n}enqueueAfterDelay(i,n,s){this.Ta(),this.pa.indexOf(i)>-1&&(n=0);const l=Pb.createAndSchedule(this,i,n,s,d=>this.Ra(d));return this._a.push(l),l}Ta(){this.ma&&ht()}verifyOperationInProgress(){}ba(){var i=this;return(0,ce.Z)(function*(){let n;do{n=i.fa,yield n}while(n!==i.fa)})()}Pa(i){for(const n of this._a)if(n.timerId===i)return!0;return!1}va(i){return this.ba().then(()=>{this._a.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this._a)if(n.skipDelay(),"all"!==i&&n.timerId===i)break;return this.ba()})}Va(i){this.pa.push(i)}Ra(i){const n=this._a.indexOf(i);this._a.splice(n,1)}}function lE(r){return function(i,n){if("object"!=typeof i||null===i)return!1;const s=i;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(r)}class cE{constructor(){this._progressObserver={},this._taskCompletionResolver=new ki,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,n,s){this._progressObserver={next:i,error:n,complete:s}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,n){return this._taskCompletionResolver.promise.then(i,n)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}class $n extends a_{constructor(i,n){super(i,n),this.type="firestore",this._queue=new GM,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||$p(this),this._firestoreClient.terminate()}}function Ei(r){return r._firestoreClient||$p(r),r._firestoreClient.verifyNotTerminated(),r._firestoreClient}function $p(r){var i;const n=r._freezeSettings(),s=(d=(null===(i=r._app)||void 0===i?void 0:i.options.appId)||"",new T1(r._databaseId,d,r._persistenceKey,(v=n).host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,v.useFetchStreams));var d,v;r._firestoreClient=new DI(r._credentials,r._queue,s)}function jM(r,i,n){const s=new ki;return r.asyncQueue.enqueue((0,ce.Z)(function*(){try{yield SI(r,n),yield tE(r,i),s.resolve()}catch(l){if(!("FirebaseError"===(d=l).name?d.code===be.FAILED_PRECONDITION||d.code===be.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&d instanceof DOMException)||22===d.code||20===d.code||11===d.code))throw l;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+l),s.reject(l)}var d})).then(()=>s.promise)}function c_(r){if(r._initialized||r._terminated)throw new Le(be.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class xl{constructor(...i){for(let n=0;n<i.length;++n)if(0===i[n].length)throw new Le(be.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ar(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class Il{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Il(Wi.fromBase64String(i))}catch(n){throw new Le(be.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(i){return new Il(Wi.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Cd{constructor(i){this._methodName=i}}class uE{constructor(i,n){if(!isFinite(i)||i<-90||i>90)throw new Le(be.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(n)||n<-180||n>180)throw new Le(be.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=i,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return Ht(this._lat,i._lat)||Ht(this._long,i._long)}}const VI=/^__.*__$/;class zM{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return null!==this.fieldMask?new Ec(i,this.data,this.fieldMask,n,this.fieldTransforms):new af(i,this.data,n,this.fieldTransforms)}}class qM{constructor(i,n,s){this.data=i,this.fieldMask=n,this.fieldTransforms=s}toMutation(i,n){return new Ec(i,this.data,this.fieldMask,n,this.fieldTransforms)}}function YM(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ht()}}class u_{constructor(i,n,s,l,d,g){this.settings=i,this.databaseId=n,this.N=s,this.ignoreUndefinedProperties=l,void 0===d&&this.Sa(),this.fieldTransforms=d||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(i){return new u_(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),l=this.Ca({path:s,xa:!1});return l.ka(i),l}$a(i){var n;const s=null===(n=this.path)||void 0===n?void 0:n.child(i),l=this.Ca({path:s,xa:!1});return l.Sa(),l}Oa(i){return this.Ca({path:void 0,xa:!0})}Fa(i){return Sf(i,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(i){return void 0!==this.fieldMask.find(n=>i.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>i.isPrefixOf(n.field))}Sa(){if(this.path)for(let i=0;i<this.path.length;i++)this.ka(this.path.get(i))}ka(i){if(0===i.length)throw this.Fa("Document fields must not be empty");if(YM(this.Da)&&VI.test(i))throw this.Fa('Document fields cannot begin and end with "__"')}}class d_{constructor(i,n,s){this.databaseId=i,this.ignoreUndefinedProperties=n,this.N=s||Vp(i)}Ba(i,n,s,l=!1){return new u_({Da:i,methodName:n,La:s,path:Ar.emptyPath(),xa:!1,Ma:l},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function xd(r){const i=r._freezeSettings(),n=Vp(r._databaseId);return new d_(r._databaseId,!!i.ignoreUndefinedProperties,n)}function h_(r,i,n,s,l,d={}){const g=r.Ba(d.merge||d.mergeFields?2:0,i,n,l);p_("Data must be an object, but it was:",g,s);const v=pE(s,g);let C,T;if(d.merge)C=new Jh(g.fieldMask),T=g.fieldTransforms;else if(d.mergeFields){const R=[];for(const N of d.mergeFields){const U=m_(i,N,n);if(!g.contains(U))throw new Le(be.INVALID_ARGUMENT,`Field '${U}' is specified in your field mask but missing from your input data.`);AE(R,U)||R.push(U)}C=new Jh(R),T=g.fieldTransforms.filter(N=>C.covers(N.field))}else C=null,T=g.fieldTransforms;return new zM(new di(v),C,T)}class Xp extends Cd{_toFieldTransform(i){if(2!==i.Da)throw i.Fa(1===i.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof Xp}}function f_(r,i,n){return new u_({Da:3,La:i.settings.La,methodName:r._methodName,xa:n},i.databaseId,i.N,i.ignoreUndefinedProperties)}class dE extends Cd{_toFieldTransform(i){return new _l(i.path,new _p)}isEqual(i){return i instanceof dE}}class Us extends Cd{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=f_(this,i,!0),s=this.Ua.map(d=>Pc(d,n)),l=new rf(s);return new _l(i.path,l)}isEqual(i){return this===i}}class WM extends Cd{constructor(i,n){super(i),this.Ua=n}_toFieldTransform(i){const n=f_(this,i,!0),s=this.Ua.map(d=>Pc(d,n)),l=new bc(s);return new _l(i.path,l)}isEqual(i){return this===i}}class hE extends Cd{constructor(i,n){super(i),this.qa=n}_toFieldTransform(i){const n=new sf(i.N,px(i.N,this.qa));return new _l(i.path,n)}isEqual(i){return this===i}}function fE(r,i,n,s){const l=r.Ba(1,i,n);p_("Data must be an object, but it was:",l,s);const d=[],g=di.empty();yc(s,(C,T)=>{const R=mE(i,C,n);T=(0,st.m9)(T);const N=l.$a(R);if(T instanceof Xp)d.push(R);else{const U=Pc(T,N);null!=U&&(d.push(R),g.set(R,U))}});const v=new Jh(d);return new qM(g,v,l.fieldTransforms)}function gE(r,i,n,s,l,d){const g=r.Ba(1,i,n),v=[m_(i,s,n)],C=[l];if(d.length%2!=0)throw new Le(be.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let U=0;U<d.length;U+=2)v.push(m_(i,d[U])),C.push(d[U+1]);const T=[],R=di.empty();for(let U=v.length-1;U>=0;--U)if(!AE(T,v[U])){const q=v[U];let $=C[U];$=(0,st.m9)($);const we=g.$a(q);if($ instanceof Xp)T.push(q);else{const Oe=Pc($,we);null!=Oe&&(T.push(q),R.set(q,Oe))}}const N=new Jh(T);return new qM(R,N,g.fieldTransforms)}function g_(r,i,n,s=!1){return Pc(n,r.Ba(s?4:3,i))}function Pc(r,i){if(UI(r=(0,st.m9)(r)))return p_("Unsupported field value:",i,r),pE(r,i);if(r instanceof Cd)return function(n,s){if(!YM(s.Da))throw s.Fa(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Fa(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(r,i),null;if(void 0===r&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),r instanceof Array){if(i.settings.xa&&4!==i.Da)throw i.Fa("Nested arrays are not supported");return function(n,s){const l=[];let d=0;for(const g of n){let v=Pc(g,s.Oa(d));null==v&&(v={nullValue:"NULL_VALUE"}),l.push(v),d++}return{arrayValue:{values:l}}}(r,i)}return function(n,s){if(null===(n=(0,st.m9)(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return px(s.N,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const l=Fi.fromDate(n);return{timestampValue:Cp(s.N,l)}}if(n instanceof Fi){const l=new Fi(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Cp(s.N,l)}}if(n instanceof uE)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Il)return{bytesValue:tb(s.N,n._byteString)};if(n instanceof Gn){const l=s.databaseId,d=n.firestore._databaseId;if(!d.isEqual(l))throw s.Fa(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:wy(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s.Fa(`Unsupported field value: ${oE(n)}`)}(r,i)}function pE(r,i){const n={};return Pw(r)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):yc(r,(s,l)=>{const d=Pc(l,i.Na(s));null!=d&&(n[s]=d)}),{mapValue:{fields:n}}}function UI(r){return!("object"!=typeof r||null===r||r instanceof Array||r instanceof Date||r instanceof Fi||r instanceof uE||r instanceof Il||r instanceof Gn||r instanceof Cd)}function p_(r,i,n){if(!UI(n)||"object"!=typeof(s=n)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=oE(n);throw i.Fa("an object"===s?r+" a custom object":r+" "+s)}var s}function m_(r,i,n){if((i=(0,st.m9)(i))instanceof xl)return i._internalPath;if("string"==typeof i)return mE(r,i);throw Sf("Field path arguments must be of type string or FieldPath.",r,!1,void 0,n)}const ZM=new RegExp("[~\\*/\\[\\]]");function mE(r,i,n){if(i.search(ZM)>=0)throw Sf(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new xl(...i.split("."))._internalPath}catch(s){throw Sf(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Sf(r,i,n,s,l){const d=s&&!s.isEmpty(),g=void 0!==l;let v=`Function ${i}() called with invalid data`;n&&(v+=" (via `toFirestore()`)"),v+=". ";let C="";return(d||g)&&(C+=" (found",d&&(C+=` in field ${s}`),g&&(C+=` in document ${l}`),C+=")"),new Le(be.INVALID_ARGUMENT,v+r+C)}function AE(r,i){return r.some(n=>n.isEqual(i))}class Tf{constructor(i,n,s,l,d){this._firestore=i,this._userDataWriter=n,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new yE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const n=this._document.data.field(A_("DocumentSnapshot.get",i));if(null!==n)return this._userDataWriter.convertValue(n)}}}class yE extends Tf{data(){return super.data()}}function A_(r,i){return"string"==typeof i?mE(r,i):i instanceof xl?i._internalPath:i._delegate._internalPath}class wr{constructor(i,n){this.hasPendingWrites=i,this.fromCache=n}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class Dl extends Tf{constructor(i,n,s,l,d,g){super(i,n,s,l,g),this._firestore=i,this._firestoreImpl=i,this.metadata=d}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const n=new y_(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,n={}){if(this._document){const s=this._document.data.field(A_("DocumentSnapshot.get",i));if(null!==s)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class y_ extends Dl{data(i={}){return super.data(i)}}class Lc{constructor(i,n,s,l){this._firestore=i,this._userDataWriter=n,this._snapshot=l,this.metadata=new wr(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const i=[];return this.forEach(n=>i.push(n)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,n){this._snapshot.docs.forEach(s=>{i.call(n,new y_(this._firestore,this._userDataWriter,s.key,s,new wr(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const n=!!i.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Le(be.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(g=>({type:"added",doc:new y_(s._firestore,s._userDataWriter,g.doc.key,g.doc,new wr(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(g=>l||3!==g.type).map(g=>{const v=new y_(s._firestore,s._userDataWriter,g.doc.key,g.doc,new wr(s._snapshot.mutatedKeys.has(g.doc.key),s._snapshot.fromCache),s.query.converter);let C=-1,T=-1;return 0!==g.type&&(C=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),1!==g.type&&(d=d.add(g.doc),T=d.indexOf(g.doc.key)),{type:L1(g.type),doc:v,oldIndex:C,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function L1(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ht()}}function GI(r,i){return r instanceof Dl&&i instanceof Dl?r._firestore===i._firestore&&r._key.isEqual(i._key)&&(null===r._document?null===i._document:r._document.isEqual(i._document))&&r._converter===i._converter:r instanceof Lc&&i instanceof Lc&&r._firestore===i._firestore&&aE(r.query,i.query)&&r.metadata.isEqual(i.metadata)&&r._snapshot.isEqual(i._snapshot)}function HI(r){if(fy(r)&&0===r.explicitOrderBy.length)throw new Le(be.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class em{}function Id(r,...i){for(const n of i)r=n._apply(r);return r}class KM extends em{constructor(i,n,s){super(),this.Ka=i,this.ja=n,this.Qa=s,this.type="where"}_apply(i){const n=xd(i.firestore),s=function(l,d,g,v,C,T,R){let N;if(C.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){YI(R,T);const q=[];for(const $ of R)q.push(wE(v,l,$));N={arrayValue:{values:q}}}else N=wE(v,l,R)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||YI(R,T),N=g_(g,"where",R,"in"===T||"not-in"===T);const U=rs.create(C,T,N);return function(q,$){if($.v()){const Oe=tf(q);if(null!==Oe&&!Oe.isEqual($.field))throw new Le(be.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${Oe.toString()}' and '${$.field.toString()}'`);const Be=jw(q);null!==Be&&tR(0,$.field,Be)}const we=function(Oe,Be){for(const tt of Oe.filters)if(Be.indexOf(tt.op)>=0)return tt.op;return null}(q,function(Oe){switch(Oe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==we)throw new Le(be.INVALID_ARGUMENT,we===$.op?`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`:`Invalid query. You cannot use '${$.op.toString()}' filters with '${we.toString()}' filters.`)}(l,U),U}(i._query,0,n,i.firestore._databaseId,this.Ka,this.ja,this.Qa);return new ss(i.firestore,i.converter,function(l,d){const g=l.filters.concat([d]);return new Al(l.path,l.collectionGroup,l.explicitOrderBy.slice(),g,l.limit,l.limitType,l.startAt,l.endAt)}(i._query,s))}}class JM extends em{constructor(i,n){super(),this.Ka=i,this.Wa=n,this.type="orderBy"}_apply(i){const n=function(s,l,d){if(null!==s.startAt)throw new Le(be.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new Le(be.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const g=new ld(l,d);return function(v,C){if(null===jw(v)){const T=tf(v);null!==T&&tR(0,T,C.field)}}(s,g),g}(i._query,this.Ka,this.Wa);return new ss(i.firestore,i.converter,function(s,l){const d=s.explicitOrderBy.concat([l]);return new Al(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(i._query,n))}}class _E extends em{constructor(i,n,s){super(),this.type=i,this.Ga=n,this.za=s}_apply(i){return new ss(i.firestore,i.converter,hx(i._query,this.Ga,this.za))}}class vE extends em{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=__(i,this.type,this.Ha,this.Ja);return new ss(i.firestore,i.converter,(l=n,new Al((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class zI extends em{constructor(i,n,s){super(),this.type=i,this.Ha=n,this.Ja=s}_apply(i){const n=__(i,this.type,this.Ha,this.Ja);return new ss(i.firestore,i.converter,(l=n,new Al((s=i._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function __(r,i,n,s){if(n[0]=(0,st.m9)(n[0]),n[0]instanceof Tf)return function(l,d,g,v,C){if(!v)throw new Le(be.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${g}().`);const T=[];for(const R of cd(l))if(R.field.isKeyField())T.push(dp(d,v.key));else{const N=v.data.field(R.field);if(Lw(N))throw new Le(be.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===N){const U=R.field.canonicalString();throw new Le(be.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${U}' (used as the orderBy) does not exist.`)}T.push(N)}return new pp(T,C)}(r._query,r.firestore._databaseId,i,n[0]._document,s);{const l=xd(r.firestore);return function(d,g,v,C,T,R){const N=d.explicitOrderBy;if(T.length>N.length)throw new Le(be.INVALID_ARGUMENT,`Too many arguments provided to ${C}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const U=[];for(let q=0;q<T.length;q++){const $=T[q];if(N[q].field.isKeyField()){if("string"!=typeof $)throw new Le(be.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${C}(), but got a ${typeof $}`);if(!gy(d)&&-1!==$.indexOf("/"))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${C}() must be a plain document ID, but '${$}' contains a slash.`);const we=d.path.child(en.fromString($));if(!ct.isDocumentKey(we))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${C}() must result in a valid document path, but '${we}' is not because it contains an odd number of segments.`);const Oe=new ct(we);U.push(dp(g,Oe))}else{const we=g_(v,C,$);U.push(we)}}return new pp(U,R)}(r._query,r.firestore._databaseId,l,i,n,s)}}function wE(r,i,n){if("string"==typeof(n=(0,st.m9)(n))){if(""===n)throw new Le(be.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!gy(i)&&-1!==n.indexOf("/"))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=i.path.child(en.fromString(n));if(!ct.isDocumentKey(s))throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return dp(r,new ct(s))}if(n instanceof Gn)return dp(r,n._key);throw new Le(be.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${oE(n)}.`)}function YI(r,i){if(!Array.isArray(r)||0===r.length)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`);if(r.length>10)throw new Le(be.INVALID_ARGUMENT,`Invalid Query. '${i.toString()}' filters support a maximum of 10 elements in the value array.`)}function tR(r,i,n){if(!n.isEqual(i))throw new Le(be.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${i.toString()}' and so you must also use '${i.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class WI{convertValue(i,n="none"){switch(vc(i)){case 0:return null;case 1:return i.booleanValue;case 2:return wi(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,n);case 5:return i.stringValue;case 6:return this.convertBytes($h(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,n);case 10:return this.convertObject(i.mapValue,n);default:throw ht()}}convertObject(i,n){const s={};return yc(i.fields,(l,d)=>{s[l]=this.convertValue(d,n)}),s}convertGeoPoint(i){return new uE(wi(i.latitude),wi(i.longitude))}convertArray(i,n){return(i.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(i,n){switch(n){case"previous":const s=ox(i);return null==s?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(up(i));default:return null}}convertTimestamp(i){const n=_c(i);return new Fi(n.seconds,n.nanos)}convertDocumentKey(i,n){const s=en.fromString(i);xt(Fx(s));const l=new If(s.get(1),s.get(3)),d=new ct(s.popFirst(5));return l.isEqual(n)||ui(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),d}}function bE(r,i,n){let s;return s=r?n&&(n.merge||n.mergeFields)?r.toFirestore(i,n):r.toFirestore(i):i,s}class V1 extends WI{constructor(i){super(),this.firestore=i}convertBytes(i){return new Il(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}class EE{constructor(i,n){this._firestore=i,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=xd(i)}set(i,n,s){this._verifyNotCommitted();const l=Sl(i,this._firestore),d=bE(l.converter,n,s),g=h_(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(g.toMutation(l._key,bi.none())),this}update(i,n,s,...l){this._verifyNotCommitted();const d=Sl(i,this._firestore);let g;return g="string"==typeof(n=(0,st.m9)(n))||n instanceof xl?gE(this._dataReader,"WriteBatch.update",d._key,n,s,l):fE(this._dataReader,"WriteBatch.update",d._key,n),this._mutations.push(g.toMutation(d._key,bi.exists(!0))),this}delete(i){this._verifyNotCommitted();const n=Sl(i,this._firestore);return this._mutations=this._mutations.concat(new wp(n._key,bi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Le(be.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Sl(r,i){if((r=(0,st.m9)(r)).firestore!==i)throw new Le(be.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}class Dd extends WI{constructor(i){super(),this.firestore=i}convertBytes(i){return new Il(i)}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function KI(r,i,n){r=Jt(r,Gn);const s=Jt(r.firestore,$n),l=bE(r.converter,i,n);return Mf(s,[h_(xd(s),"setDoc",r._key,l,null!==r.converter,n).toMutation(r._key,bi.none())])}function v_(r,i,n,...s){r=Jt(r,Gn);const l=Jt(r.firestore,$n),d=xd(l);let g;return g="string"==typeof(i=(0,st.m9)(i))||i instanceof xl?gE(d,"updateDoc",r._key,i,n,s):fE(d,"updateDoc",r._key,i),Mf(l,[g.toMutation(r._key,bi.exists(!0))])}function CE(r,...i){var n,s,l;r=(0,st.m9)(r);let d={includeMetadataChanges:!1},g=0;"object"!=typeof i[g]||lE(i[g])||(d=i[g],g++);const v={includeMetadataChanges:d.includeMetadataChanges};if(lE(i[g])){const N=i[g];i[g]=null===(n=N.next)||void 0===n?void 0:n.bind(N),i[g+1]=null===(s=N.error)||void 0===s?void 0:s.bind(N),i[g+2]=null===(l=N.complete)||void 0===l?void 0:l.bind(N)}let C,T,R;if(r instanceof Gn)T=Jt(r.firestore,$n),R=Ta(r._key.path),C={next:N=>{i[g]&&i[g](Rf(T,r,N))},error:i[g+1],complete:i[g+2]};else{const N=Jt(r,ss);T=Jt(N.firestore,$n),R=N._query;const U=new Dd(T);C={next:q=>{i[g]&&i[g](new Lc(T,U,N,q))},error:i[g+1],complete:i[g+2]},HI(r._query)}return function(N,U,q,$){const we=new Kp($),Oe=new Vb(U,we,q);return N.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return jy(yield Jp(N),Oe)})),()=>{we.Xo(),N.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return zy(yield Jp(N),Oe)}))}}(Ei(T),R,v,C)}function Mf(r,i){return function(n,s){const l=new ki;return n.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(r,i,n){return Gb.apply(this,arguments)}(yield MI(n),s,l)})),l.promise}(Ei(r),i)}function Rf(r,i,n){const s=n.docs.get(i._key),l=new Dd(r);return new Dl(r,l,i._key,s,new wr(n.hasPendingWrites,n.fromCache),i.converter)}class rR extends class{constructor(i,n){this._firestore=i,this._transaction=n,this._dataReader=xd(i)}get(i){const n=Sl(i,this._firestore),s=new V1(this._firestore);return this._transaction.lookup([n._key]).then(l=>{if(!l||1!==l.length)return ht();const d=l[0];if(d.isFoundDocument())return new Tf(this._firestore,s,d.key,d,n.converter);if(d.isNoDocument())return new Tf(this._firestore,s,n._key,null,n.converter);throw ht()})}set(i,n,s){const l=Sl(i,this._firestore),d=bE(l.converter,n,s),g=h_(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,s);return this._transaction.set(l._key,g),this}update(i,n,s,...l){const d=Sl(i,this._firestore);let g;return g="string"==typeof(n=(0,st.m9)(n))||n instanceof xl?gE(this._dataReader,"Transaction.update",d._key,n,s,l):fE(this._dataReader,"Transaction.update",d._key,n),this._transaction.update(d._key,g),this}delete(i){const n=Sl(i,this._firestore);return this._transaction.delete(n._key),this}}{constructor(i,n){super(i,n),this._firestore=i}get(i){const n=Sl(i,this._firestore),s=new Dd(this._firestore);return super.get(i).then(l=>new Dl(this._firestore,s,n._key,l._document,new wr(!1,!1),n.converter))}}function b_(r,i){if(void 0===i)return{merge:!1};if(void 0!==i.mergeFields&&void 0!==i.merge)throw new Le("invalid-argument",`Invalid options passed to function ${r}(): You cannot specify both "merge" and "mergeFields".`);return i}function Vi(){if("undefined"==typeof Uint8Array)throw new Le("unimplemented","Uint8Arrays are not available in this environment.")}function aR(){if("undefined"==typeof atob)throw new Le("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(r){Zh=r})(dt.SDK_VERSION),(0,dt._registerComponent)(new ns.wA("firestore",(r,{options:i})=>{const n=r.getProvider("app").getImmediate(),s=new $n(n,new iy(r.getProvider("auth-internal")));return i=Object.assign({useFetchStreams:!0},i),s._setSettings(i),s},"PUBLIC")),(0,dt.registerVersion)("@firebase/firestore","3.0.2",void 0);class nm{constructor(i){this._delegate=i}static fromBase64String(i){return aR(),new nm(Il.fromBase64String(i))}static fromUint8Array(i){return Vi(),new nm(Il.fromUint8Array(i))}toBase64(){return aR(),this._delegate.toBase64()}toUint8Array(){return Vi(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function SE(r){return function(r,i){if("object"!=typeof r||null===r)return!1;const n=r;for(const s of["next","error","complete"])if(s in n&&"function"==typeof n[s])return!0;return!1}(r)}class E_{enableIndexedDbPersistence(i,n){return function(r,i){c_(r=Jt(r,$n));const n=Ei(r),s=r._freezeSettings(),l=new n_;return jM(n,l,new eE(l,s.cacheSizeBytes,null==i?void 0:i.forceOwnership))}(i._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(i){return function(r){c_(r=Jt(r,$n));const i=Ei(r),n=r._freezeSettings(),s=new n_;return jM(i,s,new CI(s,n.cacheSizeBytes))}(i._delegate)}clearIndexedDbPersistence(i){return function(r){if(r._initialized&&!r._terminated)throw new Le(be.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new ki;return r._queue.enqueueAndForgetEvenWhileRestricted((0,ce.Z)(function*(){try{yield(n=(0,ce.Z)(function*(s){if(!Bo.bt())return Promise.resolve();const l=s+"main";yield Bo.delete(l)}),function(s){return n.apply(this,arguments)})(Sy(r._databaseId,r._persistenceKey)),i.resolve()}catch(n){i.reject(n)}var n})),i.promise}(i._delegate)}}class eD{constructor(i,n,s){this._delegate=n,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},i instanceof If||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const n=this._delegate._getSettings();!i.merge&&n.host!==i.host&&Kh("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&delete(i=Object.assign(Object.assign({},n),i)).merge,this._delegate._setSettings(i)}useEmulator(i,n,s={}){!function(r,i,n,s={}){var l;const d=(r=Jt(r,a_))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==i&&Kh("Host has been set in both settings() and useEmulator(), emulator host will be used"),r._setSettings(Object.assign(Object.assign({},d),{host:`${i}:${n}`,ssl:!1})),s.mockUserToken){let g,v;if("string"==typeof s.mockUserToken)g=s.mockUserToken,v=En.MOCK_USER;else{g=(0,st.Sg)(s.mockUserToken,null===(l=r._app)||void 0===l?void 0:l.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new Le(be.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new En(C)}r._credentials=new rx(new nx(g,v))}}(this._delegate,i,n,s)}enableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,ce.Z)(function*(){const i=yield rE(r),n=yield OM(r);return i.setNetworkEnabled(!0),function(s){const l=qe(s);return l.Kr.delete(0),Up(l)}(n)}))}(Ei(r=Jt(r,$n)))}(this._delegate)}disableNetwork(){return function(r){return function(r){return r.asyncQueue.enqueue((0,ce.Z)(function*(){const i=yield rE(r),n=yield OM(r);return i.setNetworkEnabled(!1),(s=(0,ce.Z)(function*(l){const d=qe(l);d.Kr.add(0),yield mf(d),d.Wr.set("Offline")}),function(l){return s.apply(this,arguments)})(n);var s}))}(Ei(r=Jt(r,$n)))}(this._delegate)}enablePersistence(i){let n=!1,s=!1;return i&&(n=!!i.synchronizeTabs,s=!!i.experimentalForceOwningTab,OI("synchronizeTabs",n,"experimentalForceOwningTab",s)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(r){return function(i){const n=new ki;return i.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return function(r,i){return Jy.apply(this,arguments)}(yield MI(i),n)})),n.promise}(Ei(r=Jt(r,$n)))}(this._delegate)}onSnapshotsInSync(i){return function(r,i){return function(r,i){const n=new Kp(i);return r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return s=yield Jp(r),l=n,qe(s).Zr.add(l),void l.next();var s,l})),()=>{n.Xo(),r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return s=yield Jp(r),l=n,void qe(s).Zr.delete(l);var s,l}))}}(Ei(r=Jt(r,$n)),lE(i)?i:{next:i})}(this._delegate,i)}get app(){if(!this._appCompat)throw new Le("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new kf(this,VM(this._delegate,i))}catch(n){throw os(n,"collection()","Firestore.collection()")}}doc(i){try{return new lo(this,Df(this._delegate,i))}catch(n){throw os(n,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new as(this,function(r,i){if(r=Jt(r,a_),sE("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new Le(be.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ss(r,null,(n=i,new Al(en.emptyPath(),n)));var n}(this._delegate,i))}catch(n){throw os(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return function(r,i){return function(r,i){const n=new ki;return r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){const s=yield(l=r,o_(l).then(d=>d.datastore));var l;new FM(r.asyncQueue,s,i,n).run()})),n.promise}(Ei(r),n=>i(new rR(r,n)))}(this._delegate,n=>i(new lR(this,n)))}batch(){return Ei(this._delegate),new tD(new EE(this._delegate,i=>Mf(this._delegate,i)))}loadBundle(i){return function(r,i){const n=Ei(r=Jt(r,$n)),s=new cE;return function(r,i,n,s){const l=function(d,g){let v;return v="string"==typeof d?(new TextEncoder).encode(d):d,C=function(C,T){if(C instanceof Uint8Array)return xI(C,T);if(C instanceof ArrayBuffer)return xI(new Uint8Array(C),T);if(C instanceof ReadableStream)return C.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(v),new II(C,g);var C}(n,Vp(i));r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){!function(r,i,n){const s=qe(r);var l;(l=(0,ce.Z)(function*(d,g,v){try{const C=yield g.getMetadata();if(yield function(U,q){const $=qe(U),we=Ni(q.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",Oe=>$.Je.getBundleMetadata(Oe,q.id)).then(Oe=>!!Oe&&Oe.createTime.compareTo(we)>=0)}(d.localStore,C))return yield g.close(),void v._completeWith((U=C,{taskState:"Success",documentsLoaded:U.totalDocuments,bytesLoaded:U.totalBytes,totalDocuments:U.totalDocuments,totalBytes:U.totalBytes}));v._updateProgress(hI(C));const T=new jp(C,d.localStore,g.N);let R=yield g.Qo();for(;R;){const U=yield T.fo(R);U&&v._updateProgress(U),R=yield g.Qo()}const N=yield T.complete();yield Cl(d,N.Tn,void 0),yield function(U,q){const $=qe(U);return $.persistence.runTransaction("Save bundle","readwrite",we=>$.Je.saveBundleMetadata(we,q))}(d.localStore,C),v._completeWith(N.progress)}catch(C){Kh("SyncEngine",`Loading bundle failed with ${C}`),v._failWith(C)}var U}),function(d,g,v){return l.apply(this,arguments)})(s,i,n).then(()=>{s.sharedClientState.notifyBundleLoaded()})}(yield MI(r),l,s)}))}(n,r._databaseId,i,s),s}(this._delegate,i)}namedQuery(i){return function(r,i){return function(r,i){return r.asyncQueue.enqueue((0,ce.Z)(function*(){return function(n,s){const l=qe(n);return l.persistence.runTransaction("Get named query","readonly",d=>l.Je.getNamedQuery(d,s))}(yield TI(r),i)}))}(Ei(r=Jt(r,$n)),i).then(n=>n?new ss(r,null,n.query):null)}(this._delegate,i).then(n=>n?new as(this,n):null)}}class TE extends WI{constructor(i){super(),this.firestore=i}convertBytes(i){return new nm(new Il(i))}convertReference(i){const n=this.convertDocumentKey(i,this.firestore._databaseId);return lo.forKey(n,this.firestore,null)}}class lR{constructor(i,n){this._firestore=i,this._delegate=n,this._userDataWriter=new TE(i)}get(i){const n=Md(i);return this._delegate.get(n).then(s=>new im(this._firestore,new Dl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,n.converter)))}set(i,n,s){const l=Md(i);return s?(b_("Transaction.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(i,n,s,...l){const d=Md(i);return 2===arguments.length?this._delegate.update(d,n):this._delegate.update(d,n,s,...l),this}delete(i){const n=Md(i);return this._delegate.delete(n),this}}class tD{constructor(i){this._delegate=i}set(i,n,s){const l=Md(i);return s?(b_("WriteBatch.set",s),this._delegate.set(l,n,s)):this._delegate.set(l,n),this}update(i,n,s,...l){const d=Md(i);return 2===arguments.length?this._delegate.update(d,n):this._delegate.update(d,n,s,...l),this}delete(i){const n=Md(i);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Td{constructor(i,n,s){this._firestore=i,this._userDataWriter=n,this._delegate=s}fromFirestore(i,n){const s=new y_(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new rm(this._firestore,s),null!=n?n:{})}toFirestore(i,n){return n?this._delegate.toFirestore(i,n):this._delegate.toFirestore(i)}static getInstance(i,n){const s=Td.INSTANCES;let l=s.get(i);l||(l=new WeakMap,s.set(i,l));let d=l.get(n);return d||(d=new Td(i,new TE(i),n),l.set(n,d)),d}}Td.INSTANCES=new WeakMap;class lo{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new TE(i)}static forPath(i,n,s){if(i.length%2!=0)throw new Le("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new lo(n,new Gn(n._delegate,s,new ct(i)))}static forKey(i,n,s){return new lo(n,new Gn(n._delegate,s,i))}get id(){return this._delegate.id}get parent(){return new kf(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new kf(this.firestore,VM(this._delegate,i))}catch(n){throw os(n,"collection()","DocumentReference.collection()")}}isEqual(i){return(i=(0,st.m9)(i))instanceof Gn&&Ed(this._delegate,i)}set(i,n){n=b_("DocumentReference.set",n);try{return n?KI(this._delegate,i,n):KI(this._delegate,i)}catch(s){throw os(s,"setDoc()","DocumentReference.set()")}}update(i,n,...s){try{return 1===arguments.length?v_(this._delegate,i):v_(this._delegate,i,n,...s)}catch(l){throw os(l,"updateDoc()","DocumentReference.update()")}}delete(){return function(r){return Mf(Jt(r.firestore,$n),[new wp(r._key,bi.none())])}(this._delegate)}onSnapshot(...i){const n=nD(i),s=cR(i,l=>new im(this.firestore,new Dl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return CE(this._delegate,n,s)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Jt(r,Gn);const i=Jt(r.firestore,$n),n=Ei(i),s=new Dd(i);return function(r,i){const n=new ki;return r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(s=(0,ce.Z)(function*(l,d,g){try{const v=yield function(C,T){const R=qe(C);return R.persistence.runTransaction("read document","readonly",N=>R.Qn.An(N,T))}(l,d);v.isFoundDocument()?g.resolve(v):v.isNoDocument()?g.resolve(null):g.reject(new Le(be.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(v){const C=_f(v,`Failed to get document '${d} from cache`);g.reject(C)}}),function(l,d,g){return s.apply(this,arguments)})(yield TI(r),i,n);var s})),n.promise}(n,r._key).then(l=>new Dl(i,s,r._key,l,new wr(null!==l&&l.hasLocalMutations,!0),r.converter))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Jt(r,Gn);const i=Jt(r.firestore,$n);return NM(Ei(i),r._key,{source:"server"}).then(n=>Rf(i,r,n))}(this._delegate):function(r){r=Jt(r,Gn);const i=Jt(r.firestore,$n);return NM(Ei(i),r._key).then(n=>Rf(i,r,n))}(this._delegate),n.then(s=>new im(this.firestore,new Dl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(i){return new lo(this.firestore,this._delegate.withConverter(i?Td.getInstance(this.firestore,i):null))}}function os(r,i,n){return r.message=r.message.replace(i,n),r}function nD(r){for(const i of r)if("object"==typeof i&&!SE(i))return i;return{}}function cR(r,i){var n,s;let l;return l=SE(r[0])?r[0]:SE(r[1])?r[1]:"function"==typeof r[0]?{next:r[0],error:r[1],complete:r[2]}:{next:r[1],error:r[2],complete:r[3]},{next:d=>{l.next&&l.next(i(d))},error:null===(n=l.error)||void 0===n?void 0:n.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class im{constructor(i,n){this._firestore=i,this._delegate=n}get ref(){return new lo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,n){return this._delegate.get(i,n)}isEqual(i){return GI(this._delegate,i._delegate)}}class rm extends im{data(i){const n=this._delegate.data(i);return function(r,i){r||ht()}(void 0!==n),n}}class as{constructor(i,n){this.firestore=i,this._delegate=n,this._userDataWriter=new TE(i)}where(i,n,s){try{return new as(this.firestore,Id(this._delegate,function(r,i,n){const s=i,l=A_("where",r);return new KM(l,s,n)}(i,n,s)))}catch(l){throw os(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,n){try{return new as(this.firestore,Id(this._delegate,function(r,i="asc"){const n=i,s=A_("orderBy",r);return new JM(s,n)}(i,n)))}catch(s){throw os(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new as(this.firestore,Id(this._delegate,function(r){return NI("limit",r),new _E("limit",r,"F")}(i)))}catch(n){throw os(n,"limit()","Query.limit()")}}limitToLast(i){try{return new as(this.firestore,Id(this._delegate,function(r){return NI("limitToLast",r),new _E("limitToLast",r,"L")}(i)))}catch(n){throw os(n,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new as(this.firestore,Id(this._delegate,function(...r){return new vE("startAt",r,!0)}(...i)))}catch(n){throw os(n,"startAt()","Query.startAt()")}}startAfter(...i){try{return new as(this.firestore,Id(this._delegate,function(...r){return new vE("startAfter",r,!1)}(...i)))}catch(n){throw os(n,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new as(this.firestore,Id(this._delegate,function(...r){return new zI("endBefore",r,!0)}(...i)))}catch(n){throw os(n,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new as(this.firestore,Id(this._delegate,function(...r){return new zI("endAt",r,!1)}(...i)))}catch(n){throw os(n,"endAt()","Query.endAt()")}}isEqual(i){return aE(this._delegate,i._delegate)}get(i){let n;return n="cache"===(null==i?void 0:i.source)?function(r){r=Jt(r,ss);const i=Jt(r.firestore,$n),n=Ei(i),s=new Dd(i);return function(r,i){const n=new ki;return r.asyncQueue.enqueueAndForget((0,ce.Z)(function*(){return(s=(0,ce.Z)(function*(l,d,g){try{const v=yield Bi(l,d,!0),C=new fI(d,v.Gn),T=C.Io(v.documents),R=C.applyChanges(T,!1);g.resolve(R.snapshot)}catch(v){const C=_f(v,`Failed to execute query '${d} against cache`);g.reject(C)}}),function(l,d,g){return s.apply(this,arguments)})(yield TI(r),i,n);var s})),n.promise}(n,r._query).then(l=>new Lc(i,s,r,l))}(this._delegate):"server"===(null==i?void 0:i.source)?function(r){r=Jt(r,ss);const i=Jt(r.firestore,$n),n=Ei(i),s=new Dd(i);return kI(n,r._query,{source:"server"}).then(l=>new Lc(i,s,r,l))}(this._delegate):function(r){r=Jt(r,ss);const i=Jt(r.firestore,$n),n=Ei(i),s=new Dd(i);return HI(r._query),kI(n,r._query).then(l=>new Lc(i,s,r,l))}(this._delegate),n.then(s=>new iD(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...i){const n=nD(i),s=cR(i,l=>new iD(this.firestore,new Lc(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return CE(this._delegate,n,s)}withConverter(i){return new as(this.firestore,this._delegate.withConverter(i?Td.getInstance(this.firestore,i):null))}}class Y1{constructor(i,n){this._firestore=i,this._delegate=n}get type(){return this._delegate.type}get doc(){return new rm(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class iD{constructor(i,n){this._firestore=i,this._delegate=n}get query(){return new as(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new rm(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(n=>new Y1(this._firestore,n))}forEach(i,n){this._delegate.forEach(s=>{i.call(n,new rm(this._firestore,s))})}isEqual(i){return GI(this._delegate,i._delegate)}}class kf extends as{constructor(i,n){super(i,n),this.firestore=i,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new lo(this.firestore,i):null}doc(i){try{return new lo(this.firestore,void 0===i?Df(this._delegate):Df(this._delegate,i))}catch(n){throw os(n,"doc()","CollectionReference.doc()")}}add(i){return function(r,i){const n=Jt(r.firestore,$n),s=Df(r),l=bE(r.converter,i);return Mf(n,[h_(xd(r.firestore),"addDoc",s._key,l,null!==r.converter,{}).toMutation(s._key,bi.exists(!1))]).then(()=>s)}(this._delegate,i).then(n=>new lo(this.firestore,n))}isEqual(i){return Ed(this._delegate,i._delegate)}withConverter(i){return new kf(this.firestore,this._delegate.withConverter(i?Td.getInstance(this.firestore,i):null))}}function Md(r){return Jt(r,Gn)}class ME{constructor(...i){this._delegate=new xl(...i)}static documentId(){return new ME(Ar.keyField().canonicalString())}isEqual(i){return(i=(0,st.m9)(i))instanceof xl&&this._delegate._internalPath.isEqual(i._internalPath)}}class Rd{constructor(i){this._delegate=i}static serverTimestamp(){const i=new dE("serverTimestamp");return i._methodName="FieldValue.serverTimestamp",new Rd(i)}static delete(){const i=new Xp("deleteField");return i._methodName="FieldValue.delete",new Rd(i)}static arrayUnion(...i){const n=function(...r){return new Us("arrayUnion",r)}(...i);return n._methodName="FieldValue.arrayUnion",new Rd(n)}static arrayRemove(...i){const n=function(...r){return new WM("arrayRemove",r)}(...i);return n._methodName="FieldValue.arrayRemove",new Rd(n)}static increment(i){const n=function(r){return new hE("increment",r)}(i);return n._methodName="FieldValue.increment",new Rd(n)}isEqual(i){return this._delegate.isEqual(i._delegate)}}const uR={Firestore:eD,GeoPoint:uE,Timestamp:Fi,Blob:nm,Transaction:lR,WriteBatch:tD,DocumentReference:lo,DocumentSnapshot:im,Query:as,QueryDocumentSnapshot:rm,QuerySnapshot:iD,CollectionReference:kf,FieldPath:ME,FieldValue:Rd,setLogLevel:function(r){!function(r){Ac.setLogLevel(r)}(r)},CACHE_SIZE_UNLIMITED:-1};function RE(r,i,n){let s;return s=r&&"object"==typeof r?r:{bufferSize:r,windowTime:i,refCount:!1,scheduler:n},l=>l.lift(function({bufferSize:r=Number.POSITIVE_INFINITY,windowTime:i=Number.POSITIVE_INFINITY,refCount:n,scheduler:s}){let l,g,d=0,v=!1,C=!1;return function(R){let N;d++,!l||v?(v=!1,l=new Wd(r,i,s),N=l.subscribe(this),g=R.subscribe({next(U){l.next(U)},error(U){v=!0,l.error(U)},complete(){C=!0,g=void 0,l.complete()}}),C&&(g=void 0)):N=l.subscribe(this),this.add(()=>{d--,N.unsubscribe(),N=void 0,g&&!C&&n&&0===d&&(g.unsubscribe(),g=void 0,l=void 0)})}}(s))}!function(r){(function(r,i){r.INTERNAL.registerComponent(new ns.wA("firestore-compat",n=>((i,n)=>new eD(i,n,new E_))(n.getProvider("app-compat").getImmediate(),n.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},uR)))})(r),r.registerVersion("@firebase/firestore-compat","0.1.2")}(nt.Z);const fR=(()=>{function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r})(),gR=(()=>{function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r})();var kE=V(9193);function Pa(r){return i=>0===r?(0,kE.c)():i.lift(new rD(r))}class rD{constructor(i){if(this.total=i,this.total<0)throw new gR}call(i,n){return n.subscribe(new K1(i,this.total))}}class K1 extends _.L{constructor(i,n){super(i),this.total=n,this.count=0}_next(i){const n=this.total,s=++this.count;s<=n&&(this.destination.next(i),s===n&&(this.destination.complete(),this.unsubscribe()))}}function pR(r=null){return i=>i.lift(new J1(r))}class J1{constructor(i){this.defaultValue=i}call(i,n){return n.subscribe(new $1(i,this.defaultValue))}}class $1 extends _.L{constructor(i,n){super(i),this.defaultValue=n,this.isEmpty=!0}_next(i){this.isEmpty=!1,this.destination.next(i)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function X1(r=AR){return i=>i.lift(new FE(r))}class FE{constructor(i){this.errorFactory=i}call(i,n){return n.subscribe(new mR(i,this.errorFactory))}}class mR extends _.L{constructor(i,n){super(i),this.errorFactory=n,this.hasValue=!1}_next(i){this.hasValue=!0,this.destination.next(i)}_complete(){if(this.hasValue)return this.destination.complete();{let i;try{i=this.errorFactory()}catch(n){i=n}this.destination.error(i)}}}function AR(){return new fR}var yR=V(4487);function sD(r,i){return i?Si(()=>r,i):Si(()=>r)}var OE=V(2639);const co=new u.OlP("angularfire2.auth.use-emulator"),vR=new u.OlP("angularfire2.auth.settings"),NE=new u.OlP("angularfire2.auth.tenant-id"),oD=new u.OlP("angularfire2.auth.langugage-code"),PE=new u.OlP("angularfire2.auth.use-device-language"),LE=new u.OlP("angularfire.auth.persistence"),BE=(r,i,n,s,l,d,g,v)=>(0,ke.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const C=i.runOutsideAngular(()=>r.auth());if(n&&C.useEmulator(...n),s&&(C.tenantId=s),C.languageCode=l,d&&C.useDeviceLanguage(),g)for(const[T,R]of Object.entries(g))C.settings[T]=R;return v&&C.setPersistence(v),C},[n,s,l,d,g,v]);let C_=(()=>{class r{constructor(n,s,l,d,g,v,C,T,R,N,U){const q=new cn.xQ,$=(0,m.of)(void 0).pipe((0,bo.QV)(g.outsideAngular),Si(()=>d.runOutsideAngular(()=>Promise.resolve().then(V.bind(V,6780)))),(0,Gt.U)(()=>(0,Mi.on)(n,d,s)),(0,Gt.U)(we=>BE(we,d,v,T,R,N,C,U)),RE({bufferSize:1,refCount:!1}));if(hs(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,m.of)(null);else{$.pipe(function(r,i){const n=arguments.length>=2;return s=>s.pipe(r?So((l,d)=>r(l,d,s)):yR.y,Pa(1),n?pR(i):X1(()=>new fR))}()).subscribe();const Oe=$.pipe(Si(ot=>ot.getRedirectResult().then(at=>at,()=>null)),ke.iC,RE({bufferSize:1,refCount:!1})),Be=$.pipe(Si(ot=>new dr.y(at=>({unsubscribe:d.runOutsideAngular(()=>ot.onAuthStateChanged(pn=>at.next(pn),pn=>at.error(pn),()=>at.complete()))})))),tt=$.pipe(Si(ot=>new dr.y(at=>({unsubscribe:d.runOutsideAngular(()=>ot.onIdTokenChanged(pn=>at.next(pn),pn=>at.error(pn),()=>at.complete()))}))));this.authState=Oe.pipe(sD(Be),(0,OE.R)(g.outsideAngular),(0,bo.QV)(g.insideAngular)),this.user=Oe.pipe(sD(tt),(0,OE.R)(g.outsideAngular),(0,bo.QV)(g.insideAngular)),this.idToken=this.user.pipe(Si(ot=>ot?(0,Wn.D)(ot.getIdToken()):(0,m.of)(null))),this.idTokenResult=this.user.pipe(Si(ot=>ot?(0,Wn.D)(ot.getIdTokenResult()):(0,m.of)(null))),this.credential=(0,Kl.T)(Oe,q,this.authState.pipe(So(ot=>!ot))).pipe((0,Gt.U)(ot=>(null==ot?void 0:ot.user)?ot:null),(0,OE.R)(g.outsideAngular),(0,bo.QV)(g.insideAngular))}return(0,Mi.pX)(this,$,d,{spy:{apply:(we,Oe,Be)=>{(we.startsWith("signIn")||we.startsWith("createUser"))&&Be.then(tt=>q.next(tt))}}})}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(Mi.Dh),u.LFG(Mi.xv,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ke.HU),u.LFG(co,8),u.LFG(vR,8),u.LFG(NE,8),u.LFG(oD,8),u.LFG(PE,8),u.LFG(LE,8))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})();function sm(r,i){return function(r,i=x.z){return new dr.y(n=>{let s;return null!=i?i.schedule(()=>{s=r.onSnapshot({includeMetadataChanges:!0},n)}):s=r.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=s&&s()}})}(r,i)}function I_(r,i){return sm(r,i).pipe((0,Gt.U)(n=>({payload:n,type:"query"})))}function om(r,i){return I_(r,i).pipe(hl(void 0),_A(),(0,Gt.U)(([n,s])=>{const l=s.payload.docChanges(),d=l.map(g=>({type:g.type,payload:g}));return n&&JSON.stringify(n.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((g,v)=>{const C=l.find(R=>R.doc.ref.isEqual(g.ref)),T=null==n?void 0:n.payload.docs.find(R=>R.ref.isEqual(g.ref));C&&JSON.stringify(C.doc.metadata)===JSON.stringify(g.metadata)||!C&&T&&JSON.stringify(T.metadata)===JSON.stringify(g.metadata)||d.push({type:"modified",payload:{oldIndex:v,newIndex:v,type:"modified",doc:g}})}),d}))}function lD(r,i,n){return om(r,n).pipe(ks((s,l)=>function(r,i,n){return i.forEach(s=>{n.indexOf(s.type)>-1&&(r=function(r,i){switch(i.type){case"added":if(!r[i.newIndex]||!r[i.newIndex].doc.ref.isEqual(i.doc.ref))return D_(r,i.newIndex,0,i);break;case"modified":if(null==r[i.oldIndex]||r[i.oldIndex].doc.ref.isEqual(i.doc.ref)){if(i.oldIndex!==i.newIndex){const n=r.slice();return n.splice(i.oldIndex,1),n.splice(i.newIndex,0,i),n}return D_(r,i.newIndex,1,i)}break;case"removed":if(r[i.oldIndex]&&r[i.oldIndex].doc.ref.isEqual(i.doc.ref))return D_(r,i.oldIndex,1)}return r}(r,s))}),r}(s,l.map(d=>d.payload),i),[]),function(r,i){return n=>n.lift(new Jk(r,i))}(),(0,Gt.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function D_(r,i,n,...s){const l=r.slice();return l.splice(i,n,...s),l}function cD(r){return(!r||0===r.length)&&(r=["added","removed","modified"]),r}class uD{constructor(i,n,s){this.ref=i,this.query=n,this.afs=s}stateChanges(i){let n=om(this.query,this.afs.schedulers.outsideAngular);return i&&i.length>0&&(n=n.pipe((0,Gt.U)(s=>s.filter(l=>i.indexOf(l.type)>-1)))),n.pipe(hl(void 0),_A(),So(([s,l])=>l.length>0||!s),(0,Gt.U)(([s,l])=>l),ke.iC)}auditTrail(i){return this.stateChanges(i).pipe(ks((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=cD(i);return lD(this.query,n,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(i={}){return I_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(n=>n.payload.docs.map(s=>i.idField?Object.assign(Object.assign({},s.data()),{[i.idField]:s.id}):s.data())),ke.iC)}get(i){return(0,Wn.D)(this.query.get(i)).pipe(ke.iC)}add(i){return this.ref.add(i)}doc(i){return new S_(this.ref.doc(i),this.afs)}}class S_{constructor(i,n){this.ref=i,this.afs=n}set(i,n){return this.ref.set(i,n)}update(i){return this.ref.update(i)}delete(){return this.ref.delete()}collection(i,n){const s=this.ref.collection(i),{ref:l,query:d}=am(s,n);return new uD(l,d,this.afs)}snapshotChanges(){return function(r,i){return sm(r,i).pipe(hl(void 0),_A(),(0,Gt.U)(([n,s])=>s.exists?(null==n?void 0:n.exists)?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(i={}){return this.snapshotChanges().pipe((0,Gt.U)(({payload:n})=>i.idField?Object.assign(Object.assign({},n.data()),{[i.idField]:n.id}):n.data()))}get(i){return(0,Wn.D)(this.ref.get(i)).pipe(ke.iC)}}class ER{constructor(i,n){this.query=i,this.afs=n}stateChanges(i){return i&&0!==i.length?om(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(n=>n.filter(s=>i.indexOf(s.type)>-1)),So(n=>n.length>0),ke.iC):om(this.query,this.afs.schedulers.outsideAngular).pipe(ke.iC)}auditTrail(i){return this.stateChanges(i).pipe(ks((n,s)=>[...n,...s],[]))}snapshotChanges(i){const n=cD(i);return lD(this.query,n,this.afs.schedulers.outsideAngular).pipe(ke.iC)}valueChanges(i={}){return I_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(s=>s.payload.docs.map(l=>i.idField?Object.assign({[i.idField]:l.id},l.data()):l.data())),ke.iC)}get(i){return(0,Wn.D)(this.query.get(i)).pipe(ke.iC)}}const jr=new u.OlP("angularfire2.enableFirestorePersistence"),Ff=new u.OlP("angularfire2.firestore.persistenceSettings"),T_=new u.OlP("angularfire2.firestore.settings"),dD=new u.OlP("angularfire2.firestore.use-emulator");function am(r,i=(n=>n)){return{query:i(r),ref:r}}let UE=(()=>{class r{constructor(n,s,l,d,g,v,C,T,R,N,U,q,$,we,Oe,Be){this.schedulers=C;const tt=(0,Mi.on)(n,v,s),ot=R;N&&BE(tt,v,U,$,we,Oe,q,Be),[this.firestore,this.persistenceEnabled$]=(0,ke.cc)(`${tt.name}.firestore`,"AngularFirestore",tt.name,()=>{const at=v.runOutsideAngular(()=>tt.firestore());if(d&&at.settings(d),ot&&at.useEmulator(...ot),l&&!hs(g)){const pn=()=>{try{return(0,Wn.D)(at.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(Ci){return"undefined"!=typeof console&&console.warn(Ci),(0,m.of)(!1)}};return[at,v.runOutsideAngular(pn)]}return[at,(0,m.of)(!1)]},[d,ot,l])}collection(n,s){let l;l="string"==typeof n?this.firestore.collection(n):n;const{ref:d,query:g}=am(l,s),v=this.schedulers.ngZone.run(()=>d);return new uD(v,g,this)}collectionGroup(n,s){const l=s||(g=>g),d=this.firestore.collectionGroup(n);return new ER(l(d),this)}doc(n){let s;s="string"==typeof n?this.firestore.doc(n):n;const l=this.schedulers.ngZone.run(()=>s);return new S_(l,this)}createId(){return this.firestore.collection("_").doc().id}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(Mi.Dh),u.LFG(Mi.xv,8),u.LFG(jr,8),u.LFG(T_,8),u.LFG(u.Lbi),u.LFG(u.R0b),u.LFG(ke.HU),u.LFG(Ff,8),u.LFG(dD,8),u.LFG(C_,8),u.LFG(co,8),u.LFG(vR,8),u.LFG(NE,8),u.LFG(oD,8),u.LFG(PE,8),u.LFG(LE,8))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),hD=(()=>{class r{constructor(){Vv.Z.registerVersion("angularfire",ke.q4.full,"fst-compat")}static enablePersistence(n){return{ngModule:r,providers:[{provide:jr,useValue:!0},{provide:Ff,useValue:n}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[UE]}),r})();V(9105),V(6693),V(377),V(3098),V(3342);class Of{}const uo="*";function _D(r,i=null){return{type:2,steps:r,options:i}}function Od(r){return{type:6,styles:r,offset:null}}function M_(r){Promise.resolve(null).then(r)}class Lf{constructor(i=0,n=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+n}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){M_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class bD{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let n=0,s=0,l=0;const d=this.players.length;0==d?M_(()=>this._onFinish()):this.players.forEach(g=>{g.onDone(()=>{++n==d&&this._onFinish()}),g.onDestroy(()=>{++s==d&&this._onDestroy()}),g.onStart(()=>{++l==d&&this._onStart()})}),this.totalTime=this.players.reduce((g,v)=>Math.max(g,v.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const n=i*this.totalTime;this.players.forEach(s=>{const l=s.totalTime?Math.min(1,n/s.totalTime):1;s.setPosition(l)})}getPosition(){const i=this.players.reduce((n,s)=>null===n||s.totalTime>n.totalTime?s:n,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}const CD=new u.OlP("GALLERY_CONFIG");let eL=(()=>{class r{static withConfig(n){return{ngModule:r,providers:[{provide:CD,useValue:n}]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[Cs]]}),r})();function bF(){return"undefined"!=typeof window&&void 0!==window.document}function BR(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Uf(r){switch(r.length){case 0:return new Lf;case 1:return r[0];default:return new bD(r)}}function EF(r,i,n,s,l={},d={}){const g=[],v=[];let C=-1,T=null;if(s.forEach(R=>{const N=R.offset,U=N==C,q=U&&T||{};Object.keys(R).forEach($=>{let we=$,Oe=R[$];if("offset"!==$)switch(we=i.normalizePropertyName(we,g),Oe){case"!":Oe=l[$];break;case uo:Oe=d[$];break;default:Oe=i.normalizeStyleValue($,we,Oe,g)}q[we]=Oe}),U||v.push(q),T=q,C=N}),g.length){const R="\n - ";throw new Error(`Unable to animate due to the following errors:${R}${g.join(R)}`)}return v}function VR(r,i,n,s){switch(i){case"start":r.onStart(()=>s(n&&UR(n,"start",r)));break;case"done":r.onDone(()=>s(n&&UR(n,"done",r)));break;case"destroy":r.onDestroy(()=>s(n&&UR(n,"destroy",r)))}}function UR(r,i,n){const s=n.totalTime,d=GR(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==s?r.totalTime:s,!!n.disabled),g=r._data;return null!=g&&(d._data=g),d}function GR(r,i,n,s,l="",d=0,g){return{element:r,triggerName:i,fromState:n,toState:s,phaseName:l,totalTime:d,disabled:!!g}}function zo(r,i,n){let s;return r instanceof Map?(s=r.get(i),s||r.set(i,s=n)):(s=r[i],s||(s=r[i]=n)),s}function CF(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let HR=(r,i)=>!1,jR=(r,i)=>!1,xF=(r,i,n)=>[];const IF=BR();(IF||"undefined"!=typeof Element)&&(HR=bF()?(r,i)=>{for(;i&&i!==document.documentElement;){if(i===r)return!0;i=i.parentNode||i.host}return!1}:(r,i)=>r.contains(i),jR=(()=>{if(IF||Element.prototype.matches)return(r,i)=>r.matches(i);{const r=Element.prototype,i=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector;return i?(n,s)=>i.apply(n,[s]):jR}})(),xF=(r,i,n)=>{let s=[];if(n){const l=r.querySelectorAll(i);for(let d=0;d<l.length;d++)s.push(l[d])}else{const l=r.querySelector(i);l&&s.push(l)}return s});let um=null,DF=!1;function QR(r){um||(um=("undefined"!=typeof document?document.body:null)||{},DF=!!um.style&&"WebkitAppearance"in um.style);let i=!0;return um.style&&!function(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in um.style,!i&&DF&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in um.style)),i}const zR=jR,qR=HR,YR=xF;function SF(r){const i={};return Object.keys(r).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");i[s]=r[n]}),i}let TF=(()=>{class r{validateStyleProperty(n){return QR(n)}matchesElement(n,s){return zR(n,s)}containsElement(n,s){return qR(n,s)}query(n,s,l){return YR(n,s,l)}computeStyle(n,s,l){return l||""}animate(n,s,l,d,g,v=[],C){return new Lf(l,d)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})(),WR=(()=>{class r{}return r.NOOP=new TF,r})();const ZR="ng-enter",ID="ng-leave",DD="ng-trigger",SD=".ng-trigger",RF="ng-animating",KR=".ng-animating";function dm(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:JR(parseFloat(i[1]),i[2])}function JR(r,i){switch(i){case"s":return 1e3*r;default:return r}}function TD(r,i,n){return r.hasOwnProperty("duration")?r:function(r,i,n){let l,d=0,g="";if("string"==typeof r){const v=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===v)return i.push(`The provided timing value "${r}" is invalid.`),{duration:0,delay:0,easing:""};l=JR(parseFloat(v[1]),v[2]);const C=v[3];null!=C&&(d=JR(parseFloat(C),v[4]));const T=v[5];T&&(g=T)}else l=r;if(!n){let v=!1,C=i.length;l<0&&(i.push("Duration values below 0 are not allowed for this animation step."),v=!0),d<0&&(i.push("Delay values below 0 are not allowed for this animation step."),v=!0),v&&i.splice(C,0,`The provided timing value "${r}" is invalid.`)}return{duration:l,delay:d,easing:g}}(r,i,n)}function R_(r,i={}){return Object.keys(r).forEach(n=>{i[n]=r[n]}),i}function Gf(r,i,n={}){if(i)for(let s in r)n[s]=r[s];else R_(r,n);return n}function FF(r,i,n){return n?i+":"+n+";":""}function OF(r){let i="";for(let n=0;n<r.style.length;n++){const s=r.style.item(n);i+=FF(0,s,r.style.getPropertyValue(s))}for(const n in r.style)r.style.hasOwnProperty(n)&&!n.startsWith("_")&&(i+=FF(0,lL(n),r.style[n]));r.setAttribute("style",i)}function Uc(r,i,n){r.style&&(Object.keys(i).forEach(s=>{const l=XR(s);n&&!n.hasOwnProperty(s)&&(n[s]=r.style[l]),r.style[l]=i[s]}),BR()&&OF(r))}function hm(r,i){r.style&&(Object.keys(i).forEach(n=>{const s=XR(n);r.style[s]=""}),BR()&&OF(r))}function YE(r){return Array.isArray(r)?1==r.length?r[0]:_D(r):r}const $R=new RegExp("{{\\s*(.+?)\\s*}}","g");function NF(r){let i=[];if("string"==typeof r){let n;for(;n=$R.exec(r);)i.push(n[1]);$R.lastIndex=0}return i}function MD(r,i,n){const s=r.toString(),l=s.replace($R,(d,g)=>{let v=i[g];return i.hasOwnProperty(g)||(n.push(`Please provide a value for the animation param ${g}`),v=""),v.toString()});return l==s?r:l}function RD(r){const i=[];let n=r.next();for(;!n.done;)i.push(n.value),n=r.next();return i}const aL=/-+([a-z0-9])/g;function XR(r){return r.replace(aL,(...i)=>i[1].toUpperCase())}function lL(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function PF(r,i){return 0===r||0===i}function LF(r,i,n){const s=Object.keys(n);if(s.length&&i.length){let d=i[0],g=[];if(s.forEach(v=>{d.hasOwnProperty(v)||g.push(v),d[v]=n[v]}),g.length)for(var l=1;l<i.length;l++){let v=i[l];g.forEach(function(C){v[C]=ek(r,C)})}}return i}function qo(r,i,n){switch(i.type){case 7:return r.visitTrigger(i,n);case 0:return r.visitState(i,n);case 1:return r.visitTransition(i,n);case 2:return r.visitSequence(i,n);case 3:return r.visitGroup(i,n);case 4:return r.visitAnimate(i,n);case 5:return r.visitKeyframes(i,n);case 6:return r.visitStyle(i,n);case 8:return r.visitReference(i,n);case 9:return r.visitAnimateChild(i,n);case 10:return r.visitAnimateRef(i,n);case 11:return r.visitQuery(i,n);case 12:return r.visitStagger(i,n);default:throw new Error(`Unable to resolve animation metadata node #${i.type}`)}}function ek(r,i){return window.getComputedStyle(r)[i]}function cL(r,i){const n=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(s=>function(r,i,n){if(":"==r[0]){const C=function(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(n,s)=>parseFloat(s)>parseFloat(n);case":decrement":return(n,s)=>parseFloat(s)<parseFloat(n);default:return i.push(`The transition alias value "${r}" is not supported`),"* => *"}}(r,n);if("function"==typeof C)return void i.push(C);r=C}const s=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${r}" is not supported`),i;const l=s[1],d=s[2],g=s[3];i.push(BF(l,g));"<"==d[0]&&!("*"==l&&"*"==g)&&i.push(BF(g,l))}(s,n,i)):n.push(r),n}const FD=new Set(["true","1"]),OD=new Set(["false","0"]);function BF(r,i){const n=FD.has(r)||OD.has(r),s=FD.has(i)||OD.has(i);return(l,d)=>{let g="*"==r||r==l,v="*"==i||i==d;return!g&&n&&"boolean"==typeof l&&(g=l?FD.has(r):OD.has(r)),!v&&s&&"boolean"==typeof d&&(v=d?FD.has(i):OD.has(i)),g&&v}}const hL=new RegExp("s*:selfs*,?","g");function tk(r,i,n){return new fL(r).build(i,n)}class fL{constructor(i){this._driver=i}build(i,n){const s=new mL(n);return this._resetContextStyleTimingState(s),qo(this,YE(i),s)}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,n){let s=n.queryCount=0,l=n.depCount=0;const d=[],g=[];return"@"==i.name.charAt(0)&&n.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),i.definitions.forEach(v=>{if(this._resetContextStyleTimingState(n),0==v.type){const C=v,T=C.name;T.toString().split(/\s*,\s*/).forEach(R=>{C.name=R,d.push(this.visitState(C,n))}),C.name=T}else if(1==v.type){const C=this.visitTransition(v,n);s+=C.queryCount,l+=C.depCount,g.push(C)}else n.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:i.name,states:d,transitions:g,queryCount:s,depCount:l,options:null}}visitState(i,n){const s=this.visitStyle(i.styles,n),l=i.options&&i.options.params||null;if(s.containsDynamicStyles){const d=new Set,g=l||{};if(s.styles.forEach(v=>{if(ND(v)){const C=v;Object.keys(C).forEach(T=>{NF(C[T]).forEach(R=>{g.hasOwnProperty(R)||d.add(R)})})}}),d.size){const v=RD(d.values());n.errors.push(`state("${i.name}", ...) must define default values for all the following style substitutions: ${v.join(", ")}`)}}return{type:0,name:i.name,style:s,options:l?{params:l}:null}}visitTransition(i,n){n.queryCount=0,n.depCount=0;const s=qo(this,YE(i.animation),n);return{type:1,matchers:cL(i.expr,n.errors),animation:s,queryCount:n.queryCount,depCount:n.depCount,options:fm(i.options)}}visitSequence(i,n){return{type:2,steps:i.steps.map(s=>qo(this,s,n)),options:fm(i.options)}}visitGroup(i,n){const s=n.currentTime;let l=0;const d=i.steps.map(g=>{n.currentTime=s;const v=qo(this,g,n);return l=Math.max(l,n.currentTime),v});return n.currentTime=l,{type:3,steps:d,options:fm(i.options)}}visitAnimate(i,n){const s=function(r,i){let n=null;if(r.hasOwnProperty("duration"))n=r;else if("number"==typeof r)return nk(TD(r,i).duration,0,"");const s=r;if(s.split(/\s+/).some(d=>"{"==d.charAt(0)&&"{"==d.charAt(1))){const d=nk(0,0,"");return d.dynamic=!0,d.strValue=s,d}return n=n||TD(s,i),nk(n.duration,n.delay,n.easing)}(i.timings,n.errors);n.currentAnimateTimings=s;let l,d=i.styles?i.styles:Od({});if(5==d.type)l=this.visitKeyframes(d,n);else{let g=i.styles,v=!1;if(!g){v=!0;const T={};s.easing&&(T.easing=s.easing),g=Od(T)}n.currentTime+=s.duration+s.delay;const C=this.visitStyle(g,n);C.isEmptyStep=v,l=C}return n.currentAnimateTimings=null,{type:4,timings:s,style:l,options:null}}visitStyle(i,n){const s=this._makeStyleAst(i,n);return this._validateStyleAst(s,n),s}_makeStyleAst(i,n){const s=[];Array.isArray(i.styles)?i.styles.forEach(g=>{"string"==typeof g?g==uo?s.push(g):n.errors.push(`The provided style string value ${g} is not allowed.`):s.push(g)}):s.push(i.styles);let l=!1,d=null;return s.forEach(g=>{if(ND(g)){const v=g,C=v.easing;if(C&&(d=C,delete v.easing),!l)for(let T in v)if(v[T].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:s,easing:d,offset:i.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(i,n){const s=n.currentAnimateTimings;let l=n.currentTime,d=n.currentTime;s&&d>0&&(d-=s.duration+s.delay),i.styles.forEach(g=>{"string"!=typeof g&&Object.keys(g).forEach(v=>{if(!this._driver.validateStyleProperty(v))return void n.errors.push(`The provided animation property "${v}" is not a supported CSS property for animations`);const C=n.collectedStyles[n.currentQuerySelector],T=C[v];let R=!0;T&&(d!=l&&d>=T.startTime&&l<=T.endTime&&(n.errors.push(`The CSS property "${v}" that exists between the times of "${T.startTime}ms" and "${T.endTime}ms" is also being animated in a parallel animation between the times of "${d}ms" and "${l}ms"`),R=!1),d=T.startTime),R&&(C[v]={startTime:d,endTime:l}),n.options&&function(r,i,n){const s=i.params||{},l=NF(r);l.length&&l.forEach(d=>{s.hasOwnProperty(d)||n.push(`Unable to resolve the local animation param ${d} in the given list of values`)})}(g[v],n.options,n.errors)})})}visitKeyframes(i,n){const s={type:5,styles:[],options:null};if(!n.currentAnimateTimings)return n.errors.push("keyframes() must be placed inside of a call to animate()"),s;let d=0;const g=[];let v=!1,C=!1,T=0;const R=i.steps.map(Be=>{const tt=this._makeStyleAst(Be,n);let ot=null!=tt.offset?tt.offset:function(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(n=>{if(ND(n)&&n.hasOwnProperty("offset")){const s=n;i=parseFloat(s.offset),delete s.offset}});else if(ND(r)&&r.hasOwnProperty("offset")){const n=r;i=parseFloat(n.offset),delete n.offset}return i}(tt.styles),at=0;return null!=ot&&(d++,at=tt.offset=ot),C=C||at<0||at>1,v=v||at<T,T=at,g.push(at),tt});C&&n.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),v&&n.errors.push("Please ensure that all keyframe offsets are in order");const N=i.steps.length;let U=0;d>0&&d<N?n.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==d&&(U=1/(N-1));const q=N-1,$=n.currentTime,we=n.currentAnimateTimings,Oe=we.duration;return R.forEach((Be,tt)=>{const ot=U>0?tt==q?1:U*tt:g[tt],at=ot*Oe;n.currentTime=$+we.delay+at,we.duration=at,this._validateStyleAst(Be,n),Be.offset=ot,s.styles.push(Be)}),s}visitReference(i,n){return{type:8,animation:qo(this,YE(i.animation),n),options:fm(i.options)}}visitAnimateChild(i,n){return n.depCount++,{type:9,options:fm(i.options)}}visitAnimateRef(i,n){return{type:10,animation:this.visitReference(i.animation,n),options:fm(i.options)}}visitQuery(i,n){const s=n.currentQuerySelector,l=i.options||{};n.queryCount++,n.currentQuery=i;const[d,g]=function(r){const i=!!r.split(/\s*,\s*/).find(n=>":self"==n);return i&&(r=r.replace(hL,"")),[r=r.replace(/@\*/g,SD).replace(/@\w+/g,n=>SD+"-"+n.substr(1)).replace(/:animating/g,KR),i]}(i.selector);n.currentQuerySelector=s.length?s+" "+d:d,zo(n.collectedStyles,n.currentQuerySelector,{});const v=qo(this,YE(i.animation),n);return n.currentQuery=null,n.currentQuerySelector=s,{type:11,selector:d,limit:l.limit||0,optional:!!l.optional,includeSelf:g,animation:v,originalSelector:i.selector,options:fm(i.options)}}visitStagger(i,n){n.currentQuery||n.errors.push("stagger() can only be used inside of query()");const s="full"===i.timings?{duration:0,delay:0,easing:"full"}:TD(i.timings,n.errors,!0);return{type:12,animation:qo(this,YE(i.animation),n),timings:s,options:null}}}class mL{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function ND(r){return!Array.isArray(r)&&"object"==typeof r}function fm(r){return r?(r=R_(r)).params&&(r.params=function(r){return r?R_(r):null}(r.params)):r={},r}function nk(r,i,n){return{duration:r,delay:i,easing:n}}function ik(r,i,n,s,l,d,g=null,v=!1){return{type:1,element:r,keyframes:i,preStyleProps:n,postStyleProps:s,duration:l,delay:d,totalTime:l+d,easing:g,subTimeline:v}}class PD{constructor(){this._map=new Map}consume(i){let n=this._map.get(i);return n?this._map.delete(i):n=[],n}append(i,n){let s=this._map.get(i);s||this._map.set(i,s=[]),s.push(...n)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const wL=new RegExp(":enter","g"),EL=new RegExp(":leave","g");function rk(r,i,n,s,l,d={},g={},v,C,T=[]){return(new CL).buildKeyframes(r,i,n,s,l,d,g,v,C,T)}class CL{buildKeyframes(i,n,s,l,d,g,v,C,T,R=[]){T=T||new PD;const N=new sk(i,n,T,l,d,R,[]);N.options=C,N.currentTimeline.setStyles([g],null,N.errors,C),qo(this,s,N);const U=N.timelines.filter(q=>q.containsAnimation());if(U.length&&Object.keys(v).length){const q=U[U.length-1];q.allowOnlyTimelineStyles()||q.setStyles([v],null,N.errors,C)}return U.length?U.map(q=>q.buildKeyframes()):[ik(n,[],[],[],0,0,"",!1)]}visitTrigger(i,n){}visitState(i,n){}visitTransition(i,n){}visitAnimateChild(i,n){const s=n.subInstructions.consume(n.element);if(s){const l=n.createSubContext(i.options),d=n.currentTimeline.currentTime,g=this._visitSubInstructions(s,l,l.options);d!=g&&n.transformIntoNewTimeline(g)}n.previousNode=i}visitAnimateRef(i,n){const s=n.createSubContext(i.options);s.transformIntoNewTimeline(),this.visitReference(i.animation,s),n.transformIntoNewTimeline(s.currentTimeline.currentTime),n.previousNode=i}_visitSubInstructions(i,n,s){let d=n.currentTimeline.currentTime;const g=null!=s.duration?dm(s.duration):null,v=null!=s.delay?dm(s.delay):null;return 0!==g&&i.forEach(C=>{const T=n.appendInstructionToTimeline(C,g,v);d=Math.max(d,T.duration+T.delay)}),d}visitReference(i,n){n.updateOptions(i.options,!0),qo(this,i.animation,n),n.previousNode=i}visitSequence(i,n){const s=n.subContextCount;let l=n;const d=i.options;if(d&&(d.params||d.delay)&&(l=n.createSubContext(d),l.transformIntoNewTimeline(),null!=d.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=LD);const g=dm(d.delay);l.delayNextStep(g)}i.steps.length&&(i.steps.forEach(g=>qo(this,g,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>s&&l.transformIntoNewTimeline()),n.previousNode=i}visitGroup(i,n){const s=[];let l=n.currentTimeline.currentTime;const d=i.options&&i.options.delay?dm(i.options.delay):0;i.steps.forEach(g=>{const v=n.createSubContext(i.options);d&&v.delayNextStep(d),qo(this,g,v),l=Math.max(l,v.currentTimeline.currentTime),s.push(v.currentTimeline)}),s.forEach(g=>n.currentTimeline.mergeTimelineCollectedStyles(g)),n.transformIntoNewTimeline(l),n.previousNode=i}_visitTiming(i,n){if(i.dynamic){const s=i.strValue;return TD(n.params?MD(s,n.params,n.errors):s,n.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,n){const s=n.currentAnimateTimings=this._visitTiming(i.timings,n),l=n.currentTimeline;s.delay&&(n.incrementTime(s.delay),l.snapshotCurrentStyles());const d=i.style;5==d.type?this.visitKeyframes(d,n):(n.incrementTime(s.duration),this.visitStyle(d,n),l.applyStylesToKeyframe()),n.currentAnimateTimings=null,n.previousNode=i}visitStyle(i,n){const s=n.currentTimeline,l=n.currentAnimateTimings;!l&&s.getCurrentStyleProperties().length&&s.forwardFrame();const d=l&&l.easing||i.easing;i.isEmptyStep?s.applyEmptyStep(d):s.setStyles(i.styles,d,n.errors,n.options),n.previousNode=i}visitKeyframes(i,n){const s=n.currentAnimateTimings,l=n.currentTimeline.duration,d=s.duration,v=n.createSubContext().currentTimeline;v.easing=s.easing,i.styles.forEach(C=>{v.forwardTime((C.offset||0)*d),v.setStyles(C.styles,C.easing,n.errors,n.options),v.applyStylesToKeyframe()}),n.currentTimeline.mergeTimelineCollectedStyles(v),n.transformIntoNewTimeline(l+d),n.previousNode=i}visitQuery(i,n){const s=n.currentTimeline.currentTime,l=i.options||{},d=l.delay?dm(l.delay):0;d&&(6===n.previousNode.type||0==s&&n.currentTimeline.getCurrentStyleProperties().length)&&(n.currentTimeline.snapshotCurrentStyles(),n.previousNode=LD);let g=s;const v=n.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!l.optional,n.errors);n.currentQueryTotal=v.length;let C=null;v.forEach((T,R)=>{n.currentQueryIndex=R;const N=n.createSubContext(i.options,T);d&&N.delayNextStep(d),T===n.element&&(C=N.currentTimeline),qo(this,i.animation,N),N.currentTimeline.applyStylesToKeyframe(),g=Math.max(g,N.currentTimeline.currentTime)}),n.currentQueryIndex=0,n.currentQueryTotal=0,n.transformIntoNewTimeline(g),C&&(n.currentTimeline.mergeTimelineCollectedStyles(C),n.currentTimeline.snapshotCurrentStyles()),n.previousNode=i}visitStagger(i,n){const s=n.parentContext,l=n.currentTimeline,d=i.timings,g=Math.abs(d.duration),v=g*(n.currentQueryTotal-1);let C=g*n.currentQueryIndex;switch(d.duration<0?"reverse":d.easing){case"reverse":C=v-C;break;case"full":C=s.currentStaggerTime}const R=n.currentTimeline;C&&R.delayNextStep(C);const N=R.currentTime;qo(this,i.animation,n),n.previousNode=i,s.currentStaggerTime=l.currentTime-N+(l.startTime-s.currentTimeline.startTime)}}const LD={};class sk{constructor(i,n,s,l,d,g,v,C){this._driver=i,this.element=n,this.subInstructions=s,this._enterClassName=l,this._leaveClassName=d,this.errors=g,this.timelines=v,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=LD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=C||new BD(this._driver,n,0),v.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,n){if(!i)return;const s=i;let l=this.options;null!=s.duration&&(l.duration=dm(s.duration)),null!=s.delay&&(l.delay=dm(s.delay));const d=s.params;if(d){let g=l.params;g||(g=this.options.params={}),Object.keys(d).forEach(v=>{(!n||!g.hasOwnProperty(v))&&(g[v]=MD(d[v],g,this.errors))})}}_copyOptions(){const i={};if(this.options){const n=this.options.params;if(n){const s=i.params={};Object.keys(n).forEach(l=>{s[l]=n[l]})}}return i}createSubContext(i=null,n,s){const l=n||this.element,d=new sk(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,s||0));return d.previousNode=this.previousNode,d.currentAnimateTimings=this.currentAnimateTimings,d.options=this._copyOptions(),d.updateOptions(i),d.currentQueryIndex=this.currentQueryIndex,d.currentQueryTotal=this.currentQueryTotal,d.parentContext=this,this.subContextCount++,d}transformIntoNewTimeline(i){return this.previousNode=LD,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,n,s){const l={duration:null!=n?n:i.duration,delay:this.currentTimeline.currentTime+(null!=s?s:0)+i.delay,easing:""},d=new xL(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,l,i.stretchStartingKeyframe);return this.timelines.push(d),l}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,n,s,l,d,g){let v=[];if(l&&v.push(this.element),i.length>0){i=(i=i.replace(wL,"."+this._enterClassName)).replace(EL,"."+this._leaveClassName);let T=this._driver.query(this.element,i,1!=s);0!==s&&(T=s<0?T.slice(T.length+s,T.length):T.slice(0,s)),v.push(...T)}return!d&&0==v.length&&g.push(`\`query("${n}")\` returned zero elements. (Use \`query("${n}", { optional: true })\` if you wish to allow this.)`),v}}class BD{constructor(i,n,s,l){this._driver=i,this.element=n,this.startTime=s,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const n=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||n?(this.forwardTime(this.currentTime+i),n&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,n){return this.applyStylesToKeyframe(),new BD(this._driver,i,n||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,n){this._localTimelineStyles[i]=n,this._globalTimelineStyles[i]=n,this._styleSummary[i]={time:this.currentTime,value:n}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(n=>{this._backFill[n]=this._globalTimelineStyles[n]||uo,this._currentKeyframe[n]=uo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,n,s,l){n&&(this._previousKeyframe.easing=n);const d=l&&l.params||{},g=function(r,i){const n={};let s;return r.forEach(l=>{"*"===l?(s=s||Object.keys(i),s.forEach(d=>{n[d]=uo})):Gf(l,!1,n)}),n}(i,this._globalTimelineStyles);Object.keys(g).forEach(v=>{const C=MD(g[v],d,s);this._pendingStyles[v]=C,this._localTimelineStyles.hasOwnProperty(v)||(this._backFill[v]=this._globalTimelineStyles.hasOwnProperty(v)?this._globalTimelineStyles[v]:uo),this._updateStyle(v,C)})}applyStylesToKeyframe(){const i=this._pendingStyles,n=Object.keys(i);0!=n.length&&(this._pendingStyles={},n.forEach(s=>{this._currentKeyframe[s]=i[s]}),Object.keys(this._localTimelineStyles).forEach(s=>{this._currentKeyframe.hasOwnProperty(s)||(this._currentKeyframe[s]=this._localTimelineStyles[s])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const n=this._localTimelineStyles[i];this._pendingStyles[i]=n,this._updateStyle(i,n)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let n in this._currentKeyframe)i.push(n);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(n=>{const s=this._styleSummary[n],l=i._styleSummary[n];(!s||l.time>s.time)&&this._updateStyle(n,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,n=new Set,s=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((v,C)=>{const T=Gf(v,!0);Object.keys(T).forEach(R=>{const N=T[R];"!"==N?i.add(R):N==uo&&n.add(R)}),s||(T.offset=C/this.duration),l.push(T)});const d=i.size?RD(i.values()):[],g=n.size?RD(n.values()):[];if(s){const v=l[0],C=R_(v);v.offset=0,C.offset=1,l=[v,C]}return ik(this.element,l,d,g,this.duration,this.startTime,this.easing,!1)}}class xL extends BD{constructor(i,n,s,l,d,g,v=!1){super(i,n,g.delay),this.keyframes=s,this.preStyleProps=l,this.postStyleProps=d,this._stretchStartingKeyframe=v,this.timings={duration:g.duration,delay:g.delay,easing:g.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:n,duration:s,easing:l}=this.timings;if(this._stretchStartingKeyframe&&n){const d=[],g=s+n,v=n/g,C=Gf(i[0],!1);C.offset=0,d.push(C);const T=Gf(i[0],!1);T.offset=GF(v),d.push(T);const R=i.length-1;for(let N=1;N<=R;N++){let U=Gf(i[N],!1);U.offset=GF((n+U.offset*s)/g),d.push(U)}s=g,n=0,l="",i=d}return ik(this.element,i,this.preStyleProps,this.postStyleProps,s,n,l,!0)}}function GF(r,i=3){const n=Math.pow(10,i-1);return Math.round(r*n)/n}class ok{}class DL extends ok{normalizePropertyName(i,n){return XR(i)}normalizeStyleValue(i,n,s,l){let d="";const g=s.toString().trim();if(SL[n]&&0!==s&&"0"!==s)if("number"==typeof s)d="px";else{const v=s.match(/^[+-]?[\d\.]+([a-z]*)$/);v&&0==v[1].length&&l.push(`Please provide a CSS unit value for ${i}:${s}`)}return g+d}}const SL=(()=>function(r){const i={};return r.forEach(n=>i[n]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function HF(r,i,n,s,l,d,g,v,C,T,R,N,U){return{type:0,element:r,triggerName:i,isRemovalTransition:l,fromState:n,fromStyles:d,toState:s,toStyles:g,timelines:v,queriedElements:C,preStyleProps:T,postStyleProps:R,totalTime:N,errors:U}}const ak={};class jF{constructor(i,n,s){this._triggerName=i,this.ast=n,this._stateStyles=s}match(i,n,s,l){return function(r,i,n,s,l){return r.some(d=>d(i,n,s,l))}(this.ast.matchers,i,n,s,l)}buildStyles(i,n,s){const l=this._stateStyles["*"],d=this._stateStyles[i],g=l?l.buildStyles(n,s):{};return d?d.buildStyles(n,s):g}build(i,n,s,l,d,g,v,C,T,R){const N=[],U=this.ast.options&&this.ast.options.params||ak,$=this.buildStyles(s,v&&v.params||ak,N),we=C&&C.params||ak,Oe=this.buildStyles(l,we,N),Be=new Set,tt=new Map,ot=new Map,at="void"===l,pn={params:Object.assign(Object.assign({},U),we)},Ci=R?[]:rk(i,n,this.ast.animation,d,g,$,Oe,pn,T,N);let Er=0;if(Ci.forEach(Wo=>{Er=Math.max(Wo.duration+Wo.delay,Er)}),N.length)return HF(n,this._triggerName,s,l,at,$,Oe,[],[],tt,ot,Er,N);Ci.forEach(Wo=>{const Ld=Wo.element,PP=zo(tt,Ld,{});Wo.preStyleProps.forEach(wm=>PP[wm]=!0);const sC=zo(ot,Ld,{});Wo.postStyleProps.forEach(wm=>sC[wm]=!0),Ld!==n&&Be.add(Ld)});const js=RD(Be.values());return HF(n,this._triggerName,s,l,at,$,Oe,Ci,js,tt,ot,Er)}}class RL{constructor(i,n,s){this.styles=i,this.defaultParams=n,this.normalizer=s}buildStyles(i,n){const s={},l=R_(this.defaultParams);return Object.keys(i).forEach(d=>{const g=i[d];null!=g&&(l[d]=g)}),this.styles.styles.forEach(d=>{if("string"!=typeof d){const g=d;Object.keys(g).forEach(v=>{let C=g[v];C.length>1&&(C=MD(C,l,n));const T=this.normalizer.normalizePropertyName(v,n);C=this.normalizer.normalizeStyleValue(v,T,C,n),s[T]=C})}}),s}}class FL{constructor(i,n,s){this.name=i,this.ast=n,this._normalizer=s,this.transitionFactories=[],this.states={},n.states.forEach(l=>{this.states[l.name]=new RL(l.style,l.options&&l.options.params||{},s)}),QF(this.states,"true","1"),QF(this.states,"false","0"),n.transitions.forEach(l=>{this.transitionFactories.push(new jF(i,l,this.states))}),this.fallbackTransition=function(r,i,n){return new jF(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(g,v)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,n,s,l){return this.transitionFactories.find(g=>g.match(i,n,s,l))||null}matchStyles(i,n,s){return this.fallbackTransition.buildStyles(i,n,s)}}function QF(r,i,n){r.hasOwnProperty(i)?r.hasOwnProperty(n)||(r[n]=r[i]):r.hasOwnProperty(n)&&(r[i]=r[n])}const NL=new PD;class PL{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._animations={},this._playersById={},this.players=[]}register(i,n){const s=[],l=tk(this._driver,n,s);if(s.length)throw new Error(`Unable to build the animation due to the following errors: ${s.join("\n")}`);this._animations[i]=l}_buildPlayer(i,n,s){const l=i.element,d=EF(0,this._normalizer,0,i.keyframes,n,s);return this._driver.animate(l,d,i.duration,i.delay,i.easing,[],!0)}create(i,n,s={}){const l=[],d=this._animations[i];let g;const v=new Map;if(d?(g=rk(this._driver,n,d,ZR,ID,{},{},s,NL,l),g.forEach(R=>{const N=zo(v,R.element,{});R.postStyleProps.forEach(U=>N[U]=null)})):(l.push("The requested animation doesn't exist or has already been destroyed"),g=[]),l.length)throw new Error(`Unable to create the animation due to the following errors: ${l.join("\n")}`);v.forEach((R,N)=>{Object.keys(R).forEach(U=>{R[U]=this._driver.computeStyle(N,U,uo)})});const T=Uf(g.map(R=>{const N=v.get(R.element);return this._buildPlayer(R,{},N)}));return this._playersById[i]=T,T.onDestroy(()=>this.destroy(i)),this.players.push(T),T}destroy(i){const n=this._getPlayer(i);n.destroy(),delete this._playersById[i];const s=this.players.indexOf(n);s>=0&&this.players.splice(s,1)}_getPlayer(i){const n=this._playersById[i];if(!n)throw new Error(`Unable to find the timeline player referenced by ${i}`);return n}listen(i,n,s,l){const d=GR(n,"","","");return VR(this._getPlayer(i),s,d,l),()=>{}}command(i,n,s,l){if("register"==s)return void this.register(i,l[0]);if("create"==s)return void this.create(i,n,l[0]||{});const d=this._getPlayer(i);switch(s){case"play":d.play();break;case"pause":d.pause();break;case"reset":d.reset();break;case"restart":d.restart();break;case"finish":d.finish();break;case"init":d.init();break;case"setPosition":d.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(i)}}}const zF="ng-animate-queued",qF="ng-animate-disabled",YF=".ng-animate-disabled",UL=[],WF={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},GL={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},La="__ng_removed";class lk{constructor(i,n=""){this.namespaceId=n;const s=i&&i.hasOwnProperty("value");if(this.value=function(r){return null!=r?r:null}(s?i.value:i),s){const d=R_(i);delete d.value,this.options=d}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const n=i.params;if(n){const s=this.options.params;Object.keys(n).forEach(l=>{null==s[l]&&(s[l]=n[l])})}}}const WE="void",ck=new lk(WE);class HL{constructor(i,n,s){this.id=i,this.hostElement=n,this._engine=s,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Ba(n,this._hostClassName)}listen(i,n,s,l){if(!this._triggers.hasOwnProperty(n))throw new Error(`Unable to listen on the animation trigger event "${s}" because the animation trigger "${n}" doesn't exist!`);if(null==s||0==s.length)throw new Error(`Unable to listen on the animation trigger "${n}" because the provided event is undefined!`);if(!function(r){return"start"==r||"done"==r}(s))throw new Error(`The provided animation trigger event "${s}" for the animation trigger "${n}" is not supported!`);const d=zo(this._elementListeners,i,[]),g={name:n,phase:s,callback:l};d.push(g);const v=zo(this._engine.statesByElement,i,{});return v.hasOwnProperty(n)||(Ba(i,DD),Ba(i,DD+"-"+n),v[n]=ck),()=>{this._engine.afterFlush(()=>{const C=d.indexOf(g);C>=0&&d.splice(C,1),this._triggers[n]||delete v[n]})}}register(i,n){return!this._triggers[i]&&(this._triggers[i]=n,!0)}_getTrigger(i){const n=this._triggers[i];if(!n)throw new Error(`The provided animation trigger "${i}" has not been registered!`);return n}trigger(i,n,s,l=!0){const d=this._getTrigger(n),g=new uk(this.id,n,i);let v=this._engine.statesByElement.get(i);v||(Ba(i,DD),Ba(i,DD+"-"+n),this._engine.statesByElement.set(i,v={}));let C=v[n];const T=new lk(s,this.id);if(!(s&&s.hasOwnProperty("value"))&&C&&T.absorbOptions(C.options),v[n]=T,C||(C=ck),T.value!==WE&&C.value===T.value){if(!function(r,i){const n=Object.keys(r),s=Object.keys(i);if(n.length!=s.length)return!1;for(let l=0;l<n.length;l++){const d=n[l];if(!i.hasOwnProperty(d)||r[d]!==i[d])return!1}return!0}(C.params,T.params)){const we=[],Oe=d.matchStyles(C.value,C.params,we),Be=d.matchStyles(T.value,T.params,we);we.length?this._engine.reportError(we):this._engine.afterFlush(()=>{hm(i,Oe),Uc(i,Be)})}return}const U=zo(this._engine.playersByElement,i,[]);U.forEach(we=>{we.namespaceId==this.id&&we.triggerName==n&&we.queued&&we.destroy()});let q=d.matchTransition(C.value,T.value,i,T.params),$=!1;if(!q){if(!l)return;q=d.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:n,transition:q,fromState:C,toState:T,player:g,isFallbackTransition:$}),$||(Ba(i,zF),g.onStart(()=>{k_(i,zF)})),g.onDone(()=>{let we=this.players.indexOf(g);we>=0&&this.players.splice(we,1);const Oe=this._engine.playersByElement.get(i);if(Oe){let Be=Oe.indexOf(g);Be>=0&&Oe.splice(Be,1)}}),this.players.push(g),U.push(g),g}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((n,s)=>{delete n[i]}),this._elementListeners.forEach((n,s)=>{this._elementListeners.set(s,n.filter(l=>l.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const n=this._engine.playersByElement.get(i);n&&(n.forEach(s=>s.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,n){const s=this._engine.driver.query(i,SD,!0);s.forEach(l=>{if(l[La])return;const d=this._engine.fetchNamespacesByElement(l);d.size?d.forEach(g=>g.triggerLeaveAnimation(l,n,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>s.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(i,n,s,l){const d=this._engine.statesByElement.get(i);if(d){const g=[];if(Object.keys(d).forEach(v=>{if(this._triggers[v]){const C=this.trigger(i,v,WE,l);C&&g.push(C)}}),g.length)return this._engine.markElementAsRemoved(this.id,i,!0,n),s&&Uf(g).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const n=this._elementListeners.get(i),s=this._engine.statesByElement.get(i);if(n&&s){const l=new Set;n.forEach(d=>{const g=d.name;if(l.has(g))return;l.add(g);const C=this._triggers[g].fallbackTransition,T=s[g]||ck,R=new lk(WE),N=new uk(this.id,g,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:g,transition:C,fromState:T,toState:R,player:N,isFallbackTransition:!0})})}}removeNode(i,n){const s=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,n),this.triggerLeaveAnimation(i,n,!0))return;let l=!1;if(s.totalAnimations){const d=s.players.length?s.playersByQueriedElement.get(i):[];if(d&&d.length)l=!0;else{let g=i;for(;g=g.parentNode;)if(s.statesByElement.get(g)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(i),l)s.markElementAsRemoved(this.id,i,!1,n);else{const d=i[La];(!d||d===WF)&&(s.afterFlush(()=>this.clearElementCache(i)),s.destroyInnerAnimations(i),s._onRemovalComplete(i,n))}}insertNode(i,n){Ba(i,this._hostClassName)}drainQueuedTransitions(i){const n=[];return this._queue.forEach(s=>{const l=s.player;if(l.destroyed)return;const d=s.element,g=this._elementListeners.get(d);g&&g.forEach(v=>{if(v.name==s.triggerName){const C=GR(d,s.triggerName,s.fromState.value,s.toState.value);C._data=i,VR(s.player,v.phase,C,v.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):n.push(s)}),this._queue=[],n.sort((s,l)=>{const d=s.transition.ast.depCount,g=l.transition.ast.depCount;return 0==d||0==g?d-g:this._engine.driver.containsElement(s.element,l.element)?1:-1})}destroy(i){this.players.forEach(n=>n.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let n=!1;return this._elementListeners.has(i)&&(n=!0),n=!!this._queue.find(s=>s.element===i)||n,n}}class jL{constructor(i,n,s){this.bodyNode=i,this.driver=n,this._normalizer=s,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,d)=>{}}_onRemovalComplete(i,n){this.onRemovalComplete(i,n)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(n=>{n.players.forEach(s=>{s.queued&&i.push(s)})}),i}createNamespace(i,n){const s=new HL(i,n,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,n)?this._balanceNamespaceList(s,n):(this.newHostElements.set(n,s),this.collectEnterElement(n)),this._namespaceLookup[i]=s}_balanceNamespaceList(i,n){const s=this._namespaceList.length-1;if(s>=0){let l=!1;for(let d=s;d>=0;d--)if(this.driver.containsElement(this._namespaceList[d].hostElement,n)){this._namespaceList.splice(d+1,0,i),l=!0;break}l||this._namespaceList.splice(0,0,i)}else this._namespaceList.push(i);return this.namespacesByHostElement.set(n,i),i}register(i,n){let s=this._namespaceLookup[i];return s||(s=this.createNamespace(i,n)),s}registerTrigger(i,n,s){let l=this._namespaceLookup[i];l&&l.register(n,s)&&this.totalAnimations++}destroy(i,n){if(!i)return;const s=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(s.hostElement),delete this._namespaceLookup[i];const l=this._namespaceList.indexOf(s);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>s.destroy(n))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const n=new Set,s=this.statesByElement.get(i);if(s){const l=Object.keys(s);for(let d=0;d<l.length;d++){const g=s[l[d]].namespaceId;if(g){const v=this._fetchNamespace(g);v&&n.add(v)}}}return n}trigger(i,n,s,l){if(VD(n)){const d=this._fetchNamespace(i);if(d)return d.trigger(n,s,l),!0}return!1}insertNode(i,n,s,l){if(!VD(n))return;const d=n[La];if(d&&d.setForRemoval){d.setForRemoval=!1,d.setForMove=!0;const g=this.collectedLeaveElements.indexOf(n);g>=0&&this.collectedLeaveElements.splice(g,1)}if(i){const g=this._fetchNamespace(i);g&&g.insertNode(n,s)}l&&this.collectEnterElement(n)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,n){n?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Ba(i,qF)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),k_(i,qF))}removeNode(i,n,s,l){if(VD(n)){const d=i?this._fetchNamespace(i):null;if(d?d.removeNode(n,l):this.markElementAsRemoved(i,n,!1,l),s){const g=this.namespacesByHostElement.get(n);g&&g.id!==i&&g.removeNode(n,l)}}else this._onRemovalComplete(n,l)}markElementAsRemoved(i,n,s,l){this.collectedLeaveElements.push(n),n[La]={namespaceId:i,setForRemoval:l,hasAnimation:s,removedBeforeQueried:!1}}listen(i,n,s,l,d){return VD(n)?this._fetchNamespace(i).listen(n,s,l,d):()=>{}}_buildInstruction(i,n,s,l,d){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,s,l,i.fromState.options,i.toState.options,n,d)}destroyInnerAnimations(i){let n=this.driver.query(i,SD,!0);n.forEach(s=>this.destroyActiveAnimationsForElement(s)),0!=this.playersByQueriedElement.size&&(n=this.driver.query(i,KR,!0),n.forEach(s=>this.finishActiveQueriedAnimationOnElement(s)))}destroyActiveAnimationsForElement(i){const n=this.playersByElement.get(i);n&&n.forEach(s=>{s.queued?s.markedForDestroy=!0:s.destroy()})}finishActiveQueriedAnimationOnElement(i){const n=this.playersByQueriedElement.get(i);n&&n.forEach(s=>s.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Uf(this.players).onDone(()=>i());i()})}processLeaveNode(i){const n=i[La];if(n&&n.setForRemoval){if(i[La]=WF,n.namespaceId){this.destroyInnerAnimations(i);const s=this._fetchNamespace(n.namespaceId);s&&s.clearElementCache(i)}this._onRemovalComplete(i,n.setForRemoval)}this.driver.matchesElement(i,YF)&&this.markElementAsDisabled(i,!1),this.driver.query(i,YF,!0).forEach(s=>{this.markElementAsDisabled(s,!1)})}flush(i=-1){let n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((s,l)=>this._balanceNamespaceList(s,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let s=0;s<this.collectedEnterElements.length;s++)Ba(this.collectedEnterElements[s],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const s=[];try{n=this._flushAnimations(s,i)}finally{for(let l=0;l<s.length;l++)s[l]()}}else for(let s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(s=>s()),this._flushFns=[],this._whenQuietFns.length){const s=this._whenQuietFns;this._whenQuietFns=[],n.length?Uf(n).onDone(()=>{s.forEach(l=>l())}):s.forEach(l=>l())}}reportError(i){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${i.join("\n")}`)}_flushAnimations(i,n){const s=new PD,l=[],d=new Map,g=[],v=new Map,C=new Map,T=new Map,R=new Set;this.disabledNodes.forEach(lt=>{R.add(lt);const wt=this.driver.query(lt,".ng-animate-queued",!0);for(let Nt=0;Nt<wt.length;Nt++)R.add(wt[Nt])});const N=this.bodyNode,U=Array.from(this.statesByElement.keys()),q=JF(U,this.collectedEnterElements),$=new Map;let we=0;q.forEach((lt,wt)=>{const Nt=ZR+we++;$.set(wt,Nt),lt.forEach(nn=>Ba(nn,Nt))});const Oe=[],Be=new Set,tt=new Set;for(let lt=0;lt<this.collectedLeaveElements.length;lt++){const wt=this.collectedLeaveElements[lt],Nt=wt[La];Nt&&Nt.setForRemoval&&(Oe.push(wt),Be.add(wt),Nt.hasAnimation?this.driver.query(wt,".ng-star-inserted",!0).forEach(nn=>Be.add(nn)):tt.add(wt))}const ot=new Map,at=JF(U,Array.from(Be));at.forEach((lt,wt)=>{const Nt=ID+we++;ot.set(wt,Nt),lt.forEach(nn=>Ba(nn,Nt))}),i.push(()=>{q.forEach((lt,wt)=>{const Nt=$.get(wt);lt.forEach(nn=>k_(nn,Nt))}),at.forEach((lt,wt)=>{const Nt=ot.get(wt);lt.forEach(nn=>k_(nn,Nt))}),Oe.forEach(lt=>{this.processLeaveNode(lt)})});const pn=[],Ci=[];for(let lt=this._namespaceList.length-1;lt>=0;lt--)this._namespaceList[lt].drainQueuedTransitions(n).forEach(Nt=>{const nn=Nt.player,Qr=Nt.element;if(pn.push(nn),this.collectedEnterElements.length){const Hc=Qr[La];if(Hc&&Hc.setForMove)return void nn.destroy()}const Gc=!N||!this.driver.containsElement(N,Qr),Zo=ot.get(Qr),Yf=$.get(Qr),xi=this._buildInstruction(Nt,s,Yf,Zo,Gc);if(xi.errors&&xi.errors.length)Ci.push(xi);else{if(Gc)return nn.onStart(()=>hm(Qr,xi.fromStyles)),nn.onDestroy(()=>Uc(Qr,xi.toStyles)),void l.push(nn);if(Nt.isFallbackTransition)return nn.onStart(()=>hm(Qr,xi.fromStyles)),nn.onDestroy(()=>Uc(Qr,xi.toStyles)),void l.push(nn);xi.timelines.forEach(Hc=>Hc.stretchStartingKeyframe=!0),s.append(Qr,xi.timelines),g.push({instruction:xi,player:nn,element:Qr}),xi.queriedElements.forEach(Hc=>zo(v,Hc,[]).push(nn)),xi.preStyleProps.forEach((Hc,oC)=>{const sS=Object.keys(Hc);if(sS.length){let bm=C.get(oC);bm||C.set(oC,bm=new Set),sS.forEach(Vk=>bm.add(Vk))}}),xi.postStyleProps.forEach((Hc,oC)=>{const sS=Object.keys(Hc);let bm=T.get(oC);bm||T.set(oC,bm=new Set),sS.forEach(Vk=>bm.add(Vk))})}});if(Ci.length){const lt=[];Ci.forEach(wt=>{lt.push(`@${wt.triggerName} has failed due to:\n`),wt.errors.forEach(Nt=>lt.push(`- ${Nt}\n`))}),pn.forEach(wt=>wt.destroy()),this.reportError(lt)}const Er=new Map,js=new Map;g.forEach(lt=>{const wt=lt.element;s.has(wt)&&(js.set(wt,wt),this._beforeAnimationBuild(lt.player.namespaceId,lt.instruction,Er))}),l.forEach(lt=>{const wt=lt.element;this._getPreviousPlayers(wt,!1,lt.namespaceId,lt.triggerName,null).forEach(nn=>{zo(Er,wt,[]).push(nn),nn.destroy()})});const Wo=Oe.filter(lt=>XF(lt,C,T)),Ld=new Map;KF(Ld,this.driver,tt,T,uo).forEach(lt=>{XF(lt,C,T)&&Wo.push(lt)});const sC=new Map;q.forEach((lt,wt)=>{KF(sC,this.driver,new Set(lt),C,"!")}),Wo.forEach(lt=>{const wt=Ld.get(lt),Nt=sC.get(lt);Ld.set(lt,Object.assign(Object.assign({},wt),Nt))});const wm=[],LP=[],BP={};g.forEach(lt=>{const{element:wt,player:Nt,instruction:nn}=lt;if(s.has(wt)){if(R.has(wt))return Nt.onDestroy(()=>Uc(wt,nn.toStyles)),Nt.disabled=!0,Nt.overrideTotalTime(nn.totalTime),void l.push(Nt);let Qr=BP;if(js.size>1){let Zo=wt;const Yf=[];for(;Zo=Zo.parentNode;){const xi=js.get(Zo);if(xi){Qr=xi;break}Yf.push(Zo)}Yf.forEach(xi=>js.set(xi,Qr))}const Gc=this._buildAnimation(Nt.namespaceId,nn,Er,d,sC,Ld);if(Nt.setRealPlayer(Gc),Qr===BP)wm.push(Nt);else{const Zo=this.playersByElement.get(Qr);Zo&&Zo.length&&(Nt.parentPlayer=Uf(Zo)),l.push(Nt)}}else hm(wt,nn.fromStyles),Nt.onDestroy(()=>Uc(wt,nn.toStyles)),LP.push(Nt),R.has(wt)&&l.push(Nt)}),LP.forEach(lt=>{const wt=d.get(lt.element);if(wt&&wt.length){const Nt=Uf(wt);lt.setRealPlayer(Nt)}}),l.forEach(lt=>{lt.parentPlayer?lt.syncPlayerEvents(lt.parentPlayer):lt.destroy()});for(let lt=0;lt<Oe.length;lt++){const wt=Oe[lt],Nt=wt[La];if(k_(wt,ID),Nt&&Nt.hasAnimation)continue;let nn=[];if(v.size){let Gc=v.get(wt);Gc&&Gc.length&&nn.push(...Gc);let Zo=this.driver.query(wt,KR,!0);for(let Yf=0;Yf<Zo.length;Yf++){let xi=v.get(Zo[Yf]);xi&&xi.length&&nn.push(...xi)}}const Qr=nn.filter(Gc=>!Gc.destroyed);Qr.length?YL(this,wt,Qr):this.processLeaveNode(wt)}return Oe.length=0,wm.forEach(lt=>{this.players.push(lt),lt.onDone(()=>{lt.destroy();const wt=this.players.indexOf(lt);this.players.splice(wt,1)}),lt.play()}),wm}elementContainsData(i,n){let s=!1;const l=n[La];return l&&l.setForRemoval&&(s=!0),this.playersByElement.has(n)&&(s=!0),this.playersByQueriedElement.has(n)&&(s=!0),this.statesByElement.has(n)&&(s=!0),this._fetchNamespace(i).elementContainsData(n)||s}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,n,s,l,d){let g=[];if(n){const v=this.playersByQueriedElement.get(i);v&&(g=v)}else{const v=this.playersByElement.get(i);if(v){const C=!d||d==WE;v.forEach(T=>{T.queued||!C&&T.triggerName!=l||g.push(T)})}}return(s||l)&&(g=g.filter(v=>!(s&&s!=v.namespaceId||l&&l!=v.triggerName))),g}_beforeAnimationBuild(i,n,s){const d=n.element,g=n.isRemovalTransition?void 0:i,v=n.isRemovalTransition?void 0:n.triggerName;for(const C of n.timelines){const T=C.element,R=T!==d,N=zo(s,T,[]);this._getPreviousPlayers(T,R,g,v,n.toState).forEach(q=>{const $=q.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),q.destroy(),N.push(q)})}hm(d,n.fromStyles)}_buildAnimation(i,n,s,l,d,g){const v=n.triggerName,C=n.element,T=[],R=new Set,N=new Set,U=n.timelines.map($=>{const we=$.element;R.add(we);const Oe=we[La];if(Oe&&Oe.removedBeforeQueried)return new Lf($.duration,$.delay);const Be=we!==C,tt=function(r){const i=[];return $F(r,i),i}((s.get(we)||UL).map(Er=>Er.getRealPlayer())).filter(Er=>!!Er.element&&Er.element===we),ot=d.get(we),at=g.get(we),pn=EF(0,this._normalizer,0,$.keyframes,ot,at),Ci=this._buildPlayer($,pn,tt);if($.subTimeline&&l&&N.add(we),Be){const Er=new uk(i,v,we);Er.setRealPlayer(Ci),T.push(Er)}return Ci});T.forEach($=>{zo(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function(r,i,n){let s;if(r instanceof Map){if(s=r.get(i),s){if(s.length){const l=s.indexOf(n);s.splice(l,1)}0==s.length&&r.delete(i)}}else if(s=r[i],s){if(s.length){const l=s.indexOf(n);s.splice(l,1)}0==s.length&&delete r[i]}return s}(this.playersByQueriedElement,$.element,$))}),R.forEach($=>Ba($,RF));const q=Uf(U);return q.onDestroy(()=>{R.forEach($=>k_($,RF)),Uc(C,n.toStyles)}),N.forEach($=>{zo(l,$,[]).push(q)}),q}_buildPlayer(i,n,s){return n.length>0?this.driver.animate(i.element,n,i.duration,i.delay,i.easing,s):new Lf(i.duration,i.delay)}}class uk{constructor(i,n,s){this.namespaceId=i,this.triggerName=n,this.element=s,this._player=new Lf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(n=>{this._queuedCallbacks[n].forEach(s=>VR(i,n,void 0,s))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const n=this._player;n.triggerCallback&&i.onStart(()=>n.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,n){zo(this._queuedCallbacks,i,[]).push(n)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const n=this._player;n.triggerCallback&&n.triggerCallback(i)}}function VD(r){return r&&1===r.nodeType}function ZF(r,i){const n=r.style.display;return r.style.display=null!=i?i:"none",n}function KF(r,i,n,s,l){const d=[];n.forEach(C=>d.push(ZF(C)));const g=[];s.forEach((C,T)=>{const R={};C.forEach(N=>{const U=R[N]=i.computeStyle(T,N,l);(!U||0==U.length)&&(T[La]=GL,g.push(T))}),r.set(T,R)});let v=0;return n.forEach(C=>ZF(C,d[v++])),g}function JF(r,i){const n=new Map;if(r.forEach(v=>n.set(v,[])),0==i.length)return n;const l=new Set(i),d=new Map;function g(v){if(!v)return 1;let C=d.get(v);if(C)return C;const T=v.parentNode;return C=n.has(T)?T:l.has(T)?1:g(T),d.set(v,C),C}return i.forEach(v=>{const C=g(v);1!==C&&n.get(C).push(v)}),n}const UD="$$classes";function Ba(r,i){if(r.classList)r.classList.add(i);else{let n=r[UD];n||(n=r[UD]={}),n[i]=!0}}function k_(r,i){if(r.classList)r.classList.remove(i);else{let n=r[UD];n&&delete n[i]}}function YL(r,i,n){Uf(n).onDone(()=>r.processLeaveNode(i))}function $F(r,i){for(let n=0;n<r.length;n++){const s=r[n];s instanceof bD?$F(s.players,i):i.push(s)}}function XF(r,i,n){const s=n.get(r);if(!s)return!1;let l=i.get(r);return l?s.forEach(d=>l.add(d)):i.set(r,s),n.delete(r),!0}class GD{constructor(i,n,s){this.bodyNode=i,this._driver=n,this._normalizer=s,this._triggerCache={},this.onRemovalComplete=(l,d)=>{},this._transitionEngine=new jL(i,n,s),this._timelineEngine=new PL(i,n,s),this._transitionEngine.onRemovalComplete=(l,d)=>this.onRemovalComplete(l,d)}registerTrigger(i,n,s,l,d){const g=i+"-"+l;let v=this._triggerCache[g];if(!v){const C=[],T=tk(this._driver,d,C);if(C.length)throw new Error(`The animation trigger "${l}" has failed to build due to the following errors:\n - ${C.join("\n - ")}`);v=function(r,i,n){return new FL(r,i,n)}(l,T,this._normalizer),this._triggerCache[g]=v}this._transitionEngine.registerTrigger(n,l,v)}register(i,n){this._transitionEngine.register(i,n)}destroy(i,n){this._transitionEngine.destroy(i,n)}onInsert(i,n,s,l){this._transitionEngine.insertNode(i,n,s,l)}onRemove(i,n,s,l){this._transitionEngine.removeNode(i,n,l||!1,s)}disableAnimations(i,n){this._transitionEngine.markElementAsDisabled(i,n)}process(i,n,s,l){if("@"==s.charAt(0)){const[d,g]=CF(s);this._timelineEngine.command(d,n,g,l)}else this._transitionEngine.trigger(i,n,s,l)}listen(i,n,s,l,d){if("@"==s.charAt(0)){const[g,v]=CF(s);return this._timelineEngine.listen(g,n,v,d)}return this._transitionEngine.listen(i,n,s,l,d)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function eO(r,i){let n=null,s=null;return Array.isArray(i)&&i.length?(n=dk(i[0]),i.length>1&&(s=dk(i[i.length-1]))):i&&(n=dk(i)),n||s?new KL(r,n,s):null}let KL=(()=>{class r{constructor(n,s,l){this._element=n,this._startStyles=s,this._endStyles=l,this._state=0;let d=r.initialStylesByElement.get(n);d||r.initialStylesByElement.set(n,d={}),this._initialStyles=d}start(){this._state<1&&(this._startStyles&&Uc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Uc(this._element,this._initialStyles),this._endStyles&&(Uc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(hm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(hm(this._element,this._endStyles),this._endStyles=null),Uc(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function dk(r){let i=null;const n=Object.keys(r);for(let s=0;s<n.length;s++){const l=n[s];JL(l)&&(i=i||{},i[l]=r[l])}return i}function JL(r){return"display"===r||"position"===r}const tO="animation",nO="animationend";class eB{constructor(i,n,s,l,d,g,v){this._element=i,this._name=n,this._duration=s,this._delay=l,this._easing=d,this._fillMode=g,this._onDoneFn=v,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=C=>this._handleCallback(C)}apply(){(function(r,i){const n=fk(r,"").trim();let s=0;n.length&&(function(r,i){let n=0;for(let s=0;s<r.length;s++)","===r.charAt(s)&&n++;return n}(n)+1,i=`${n}, ${i}`),HD(r,"",i)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),sO(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){iO(this._element,this._name,"paused")}resume(){iO(this._element,this._name,"running")}setPosition(i){const n=rO(this._element,this._name);this._position=i*this._duration,HD(this._element,"Delay",`-${this._position}ms`,n)}getPosition(){return this._position}_handleCallback(i){const n=i._ngTestManualTimestamp||Date.now(),s=1e3*parseFloat(i.elapsedTime.toFixed(3));i.animationName==this._name&&Math.max(n-this._startTime,0)>=this._delay&&s>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),sO(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(r,i){const s=fk(r,"").split(","),l=hk(s,i);l>=0&&(s.splice(l,1),HD(r,"",s.join(",")))}(this._element,this._name))}}function iO(r,i,n){HD(r,"PlayState",n,rO(r,i))}function rO(r,i){const n=fk(r,"");return n.indexOf(",")>0?hk(n.split(","),i):hk([n],i)}function hk(r,i){for(let n=0;n<r.length;n++)if(r[n].indexOf(i)>=0)return n;return-1}function sO(r,i,n){n?r.removeEventListener(nO,i):r.addEventListener(nO,i)}function HD(r,i,n,s){const l=tO+i;if(null!=s){const d=r.style[l];if(d.length){const g=d.split(",");g[s]=n,n=g.join(",")}}r.style[l]=n}function fk(r,i){return r.style[tO+i]||""}class oO{constructor(i,n,s,l,d,g,v,C){this.element=i,this.keyframes=n,this.animationName=s,this._duration=l,this._delay=d,this._finalStyles=v,this._specialStyles=C,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=g||"linear",this.totalTime=l+d,this._buildStyler()}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(i=>i()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(i){this._styler.setPosition(i)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new eB(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}beforeDestroy(){this.init();const i={};if(this.hasStarted()){const n=this._state>=3;Object.keys(this._finalStyles).forEach(s=>{"offset"!=s&&(i[s]=n?this._finalStyles[s]:ek(this.element,s))})}this.currentSnapshot=i}}class oB extends Lf{constructor(i,n){super(),this.element=i,this._startingStyles={},this.__initialized=!1,this._styles=SF(n)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(i=>{this._startingStyles[i]=this.element.style[i]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(i=>this.element.style.setProperty(i,this._styles[i])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(i=>{const n=this._startingStyles[i];n?this.element.style.setProperty(i,n):this.element.style.removeProperty(i)}),this._startingStyles=null,super.destroy())}}class lO{constructor(){this._count=0}validateStyleProperty(i){return QR(i)}matchesElement(i,n){return zR(i,n)}containsElement(i,n){return qR(i,n)}query(i,n,s){return YR(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}buildKeyframeElement(i,n,s){s=s.map(v=>SF(v));let l=`@keyframes ${n} {\n`,d="";s.forEach(v=>{d=" ";const C=parseFloat(v.offset);l+=`${d}${100*C}% {\n`,d+=" ",Object.keys(v).forEach(T=>{const R=v[T];switch(T){case"offset":return;case"easing":return void(R&&(l+=`${d}animation-timing-function: ${R};\n`));default:return void(l+=`${d}${T}: ${R};\n`)}}),l+=`${d}}\n`}),l+="}\n";const g=document.createElement("style");return g.textContent=l,g}animate(i,n,s,l,d,g=[],v){const C=g.filter(Oe=>Oe instanceof oO),T={};PF(s,l)&&C.forEach(Oe=>{let Be=Oe.currentSnapshot;Object.keys(Be).forEach(tt=>T[tt]=Be[tt])});const R=function(r){let i={};return r&&(Array.isArray(r)?r:[r]).forEach(s=>{Object.keys(s).forEach(l=>{"offset"==l||"easing"==l||(i[l]=s[l])})}),i}(n=LF(i,n,T));if(0==s)return new oB(i,R);const N="gen_css_kf_"+this._count++,U=this.buildKeyframeElement(i,N,n);(function(r){var i;const n=null===(i=r.getRootNode)||void 0===i?void 0:i.call(r);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(i).appendChild(U);const $=eO(i,n),we=new oO(i,n,N,s,l,d,R,$);return we.onDestroy(()=>function(r){r.parentNode.removeChild(r)}(U)),we}}class uO{constructor(i,n,s,l){this.element=i,this.keyframes=n,this.options=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=s.duration,this._delay=s.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,n,s){return i.animate(n,s)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(n=>{"offset"!=n&&(i[n]=this._finished?this._finalKeyframe[n]:ek(this.element,n))}),this.currentSnapshot=i}triggerCallback(i){const n="start"==i?this._onStartFns:this._onDoneFns;n.forEach(s=>s()),n.length=0}}class dB{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(dO().toString()),this._cssKeyframesDriver=new lO}validateStyleProperty(i){return QR(i)}matchesElement(i,n){return zR(i,n)}containsElement(i,n){return qR(i,n)}query(i,n,s){return YR(i,n,s)}computeStyle(i,n,s){return window.getComputedStyle(i)[n]}overrideWebAnimationsSupport(i){this._isNativeImpl=i}animate(i,n,s,l,d,g=[],v){if(!v&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(i,n,s,l,d,g);const R={duration:s,delay:l,fill:0==l?"both":"forwards"};d&&(R.easing=d);const N={},U=g.filter($=>$ instanceof uO);PF(s,l)&&U.forEach($=>{let we=$.currentSnapshot;Object.keys(we).forEach(Oe=>N[Oe]=we[Oe])});const q=eO(i,n=LF(i,n=n.map($=>Gf($,!1)),N));return new uO(i,n,R,q)}}function dO(){return bF()&&Element.prototype.animate||{}}let fB=(()=>{class r extends Of{constructor(n,s){super(),this._nextAnimationId=0,this._renderer=n.createRenderer(s.body,{id:"0",encapsulation:u.ifc.None,styles:[],data:{animation:[]}})}build(n){const s=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(n)?_D(n):n;return hO(this._renderer,null,s,"register",[l]),new gB(s,this._renderer)}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(u.FYo),u.LFG(oe))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();class gB extends class{}{constructor(i,n){super(),this._id=i,this._renderer=n}create(i,n){return new pB(this._id,i,n||{},this._renderer)}}class pB{constructor(i,n,s,l){this.id=i,this.element=n,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",s)}_listen(i,n){return this._renderer.listen(this.element,`@@${this.id}:${i}`,n)}_command(i,...n){return hO(this._renderer,this.element,this.id,i,n)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,n;return null!==(n=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==n?n:0}}function hO(r,i,n,s,l){return r.setProperty(i,`@@${n}:${s}`,l)}const fO="@.disabled";let mB=(()=>{class r{constructor(n,s,l){this.delegate=n,this.engine=s,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),s.onRemovalComplete=(d,g)=>{g&&g.parentNode(d)&&g.removeChild(d.parentNode,d)}}createRenderer(n,s){const d=this.delegate.createRenderer(n,s);if(!(n&&s&&s.data&&s.data.animation)){let R=this._rendererCache.get(d);return R||(R=new gO("",d,this.engine),this._rendererCache.set(d,R)),R}const g=s.id,v=s.id+"-"+this._currentId;this._currentId++,this.engine.register(v,n);const C=R=>{Array.isArray(R)?R.forEach(C):this.engine.registerTrigger(g,v,n,R.name,R)};return s.data.animation.forEach(C),new AB(this,v,d,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(n,s,l){n>=0&&n<this._microtaskId?this._zone.run(()=>s(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(d=>{const[g,v]=d;g(v)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([s,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(u.FYo),u.LFG(GD),u.LFG(u.R0b))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();class gO{constructor(i,n,s){this.namespaceId=i,this.delegate=n,this.engine=s,this.destroyNode=this.delegate.destroyNode?l=>n.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,n){return this.delegate.createElement(i,n)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,n){this.delegate.appendChild(i,n),this.engine.onInsert(this.namespaceId,n,i,!1)}insertBefore(i,n,s,l=!0){this.delegate.insertBefore(i,n,s),this.engine.onInsert(this.namespaceId,n,i,l)}removeChild(i,n,s){this.engine.onRemove(this.namespaceId,n,this.delegate,s)}selectRootElement(i,n){return this.delegate.selectRootElement(i,n)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,n,s,l){this.delegate.setAttribute(i,n,s,l)}removeAttribute(i,n,s){this.delegate.removeAttribute(i,n,s)}addClass(i,n){this.delegate.addClass(i,n)}removeClass(i,n){this.delegate.removeClass(i,n)}setStyle(i,n,s,l){this.delegate.setStyle(i,n,s,l)}removeStyle(i,n,s){this.delegate.removeStyle(i,n,s)}setProperty(i,n,s){"@"==n.charAt(0)&&n==fO?this.disableAnimations(i,!!s):this.delegate.setProperty(i,n,s)}setValue(i,n){this.delegate.setValue(i,n)}listen(i,n,s){return this.delegate.listen(i,n,s)}disableAnimations(i,n){this.engine.disableAnimations(i,n)}}class AB extends gO{constructor(i,n,s,l){super(n,s,l),this.factory=i,this.namespaceId=n}setProperty(i,n,s){"@"==n.charAt(0)?"."==n.charAt(1)&&n==fO?this.disableAnimations(i,s=void 0===s||!!s):this.engine.process(this.namespaceId,i,n.substr(1),s):this.delegate.setProperty(i,n,s)}listen(i,n,s){if("@"==n.charAt(0)){const l=function(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let d=n.substr(1),g="";return"@"!=d.charAt(0)&&([d,g]=function(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(d)),this.engine.listen(this.namespaceId,l,d,g,v=>{this.factory.scheduleListenerCallback(v._data||-1,s,v)})}return this.delegate.listen(i,n,s)}}let vB=(()=>{class r extends GD{constructor(n,s,l){super(n.body,s,l)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(oe),u.LFG(WR),u.LFG(ok))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();const ZE=new u.OlP("AnimationModuleType"),pO=[{provide:Of,useClass:fB},{provide:ok,useFactory:function(){return new DL}},{provide:GD,useClass:vB},{provide:u.FYo,useFactory:function(r,i,n){return new mB(r,i,n)},deps:[Ds,GD,u.R0b]}],mO=[{provide:WR,useFactory:function(){return"function"==typeof dO()?new dB:new lO}},{provide:ZE,useValue:"BrowserAnimations"},...pO],AO=[{provide:WR,useClass:TF},{provide:ZE,useValue:"NoopAnimations"},...pO];let CB=(()=>{class r{static withConfig(n){return{ngModule:r,providers:n.disableAnimations?AO:mO}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:mO,imports:[du]}),r})(),BB=(()=>{class r{static forRoot(){return{ngModule:r}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[Cs]]}),r})();const UB={provide:u.tb,useFactory:function(r,i){return()=>{if(Rr(i)){const n=Array.from(r.querySelectorAll(`[class*=${vO}]`)),s=/\bflex-layout-.+?\b/g;n.forEach(l=>{l.classList.contains(`${vO}ssr`)&&l.parentNode?l.parentNode.removeChild(l):l.className.replace(s,"")})}}},deps:[oe,u.Lbi],multi:!0},vO="flex-layout-";let gk=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[UB]}),r})();const pk={addFlexToParent:!0,addOrientationBps:!1,disableDefaultBps:!1,disableVendorPrefixes:!1,serverLoaded:!1,useColumnBasisZero:!0,printWithBreakpoints:[],mediaTriggerAutoRestore:!0,ssrObserveBreakpoints:[]},Tl=new u.OlP("Flex Layout token, config options for the library",{providedIn:"root",factory:()=>pk}),pm=new u.OlP("FlexLayoutServerLoaded",{providedIn:"root",factory:()=>!1}),mk=new u.OlP("Flex Layout token, collect all breakpoints into one provider",{providedIn:"root",factory:()=>null});let HO=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[gk]]}),r})(),_k=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({}),r})(),YO=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[gk,_k]]}),r})(),tN=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[gk]]}),r})(),iG=(()=>{class r{constructor(n,s){hs(s)&&!n&&console.warn("Warning: Flex Layout loaded on the server without FlexLayoutServerModule")}static withConfig(n,s=[]){return{ngModule:r,providers:n.serverLoaded?[{provide:Tl,useValue:Object.assign(Object.assign({},pk),n)},{provide:mk,useValue:s,multi:!0},{provide:pm,useValue:!0}]:[{provide:Tl,useValue:Object.assign(Object.assign({},pk),n)},{provide:mk,useValue:s,multi:!0}]}}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(pm),u.LFG(u.Lbi))},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[YO,HO,tN],YO,HO,tN]}),r})();V(7983);var rG=V(8259),eC=V.n(rG),nN=V(9773);class iN{}class rN{}class Pd{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?this.lazyInit="string"==typeof i?()=>{this.headers=new Map,i.split("\n").forEach(n=>{const s=n.indexOf(":");if(s>0){const l=n.slice(0,s),d=l.toLowerCase(),g=n.slice(s+1).trim();this.maybeSetNormalizedName(l,d),this.headers.has(d)?this.headers.get(d).push(g):this.headers.set(d,[g])}})}:()=>{this.headers=new Map,Object.keys(i).forEach(n=>{let s=i[n];const l=n.toLowerCase();"string"==typeof s&&(s=[s]),s.length>0&&(this.headers.set(l,s),this.maybeSetNormalizedName(n,l))})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const n=this.headers.get(i.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,n){return this.clone({name:i,value:n,op:"a"})}set(i,n){return this.clone({name:i,value:n,op:"s"})}delete(i,n){return this.clone({name:i,value:n,op:"d"})}maybeSetNormalizedName(i,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,i)}init(){this.lazyInit&&(this.lazyInit instanceof Pd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(n=>{this.headers.set(n,i.headers.get(n)),this.normalizedNames.set(n,i.normalizedNames.get(n))})}clone(i){const n=new Pd;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof Pd?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([i]),n}applyUpdate(i){const n=i.name.toLowerCase();switch(i.op){case"a":case"s":let s=i.value;if("string"==typeof s&&(s=[s]),0===s.length)return;this.maybeSetNormalizedName(i.name,n);const l=("a"===i.op?this.headers.get(n):void 0)||[];l.push(...s),this.headers.set(n,l);break;case"d":const d=i.value;if(d){let g=this.headers.get(n);if(!g)return;g=g.filter(v=>-1===d.indexOf(v)),0===g.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,g)}else this.headers.delete(n),this.normalizedNames.delete(n)}}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>i(this.normalizedNames.get(n),this.headers.get(n)))}}class oG{encodeKey(i){return sN(i)}encodeValue(i){return sN(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const lG=/%(\d[a-f0-9])/gi,cG={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function sN(r){return encodeURIComponent(r).replace(lG,(i,n)=>{var s;return null!==(s=cG[n])&&void 0!==s?s:i})}function oN(r){return`${r}`}class Qf{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new oG,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(r,i){const n=new Map;return r.length>0&&r.replace(/^\?/,"").split("&").forEach(l=>{const d=l.indexOf("="),[g,v]=-1==d?[i.decodeKey(l),""]:[i.decodeKey(l.slice(0,d)),i.decodeValue(l.slice(d+1))],C=n.get(g)||[];C.push(v),n.set(g,C)}),n}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(n=>{const s=i.fromObject[n];this.map.set(n,Array.isArray(s)?s:[s])})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const n=this.map.get(i);return n?n[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,n){return this.clone({param:i,value:n,op:"a"})}appendAll(i){const n=[];return Object.keys(i).forEach(s=>{const l=i[s];Array.isArray(l)?l.forEach(d=>{n.push({param:s,value:d,op:"a"})}):n.push({param:s,value:l,op:"a"})}),this.clone(n)}set(i,n){return this.clone({param:i,value:n,op:"s"})}delete(i,n){return this.clone({param:i,value:n,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const n=this.encoder.encodeKey(i);return this.map.get(i).map(s=>n+"="+this.encoder.encodeValue(s)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const n=new Qf({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(i),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const n=("a"===i.op?this.map.get(i.param):void 0)||[];n.push(oN(i.value)),this.map.set(i.param,n);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let s=this.map.get(i.param)||[];const l=s.indexOf(oN(i.value));-1!==l&&s.splice(l,1),s.length>0?this.map.set(i.param,s):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class uG{constructor(){this.map=new Map}set(i,n){return this.map.set(i,n),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}keys(){return this.map.keys()}}function aN(r){return"undefined"!=typeof ArrayBuffer&&r instanceof ArrayBuffer}function lN(r){return"undefined"!=typeof Blob&&r instanceof Blob}function cN(r){return"undefined"!=typeof FormData&&r instanceof FormData}class tC{constructor(i,n,s,l){let d;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function(r){switch(r){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==s?s:null,d=l):d=s,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new Pd),this.context||(this.context=new uG),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=n;else{const v=n.indexOf("?");this.urlWithParams=n+(-1===v?"?":v<n.length-1?"&":"")+g}}else this.params=new Qf,this.urlWithParams=n}serializeBody(){return null===this.body?null:aN(this.body)||lN(this.body)||cN(this.body)||function(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||cN(this.body)?null:lN(this.body)?this.body.type||null:aN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){var n;const s=i.method||this.method,l=i.url||this.url,d=i.responseType||this.responseType,g=void 0!==i.body?i.body:this.body,v=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,C=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let T=i.headers||this.headers,R=i.params||this.params;const N=null!==(n=i.context)&&void 0!==n?n:this.context;return void 0!==i.setHeaders&&(T=Object.keys(i.setHeaders).reduce((U,q)=>U.set(q,i.setHeaders[q]),T)),i.setParams&&(R=Object.keys(i.setParams).reduce((U,q)=>U.set(q,i.setParams[q]),R)),new tC(s,l,g,{params:R,headers:T,context:N,reportProgress:C,responseType:d,withCredentials:v})}}var ir=(()=>((ir=ir||{})[ir.Sent=0]="Sent",ir[ir.UploadProgress=1]="UploadProgress",ir[ir.ResponseHeader=2]="ResponseHeader",ir[ir.DownloadProgress=3]="DownloadProgress",ir[ir.Response=4]="Response",ir[ir.User=5]="User",ir))();class wk{constructor(i,n=200,s="OK"){this.headers=i.headers||new Pd,this.status=void 0!==i.status?i.status:n,this.statusText=i.statusText||s,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class bk extends wk{constructor(i={}){super(i),this.type=ir.ResponseHeader}clone(i={}){return new bk({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class YD extends wk{constructor(i={}){super(i),this.type=ir.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new YD({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class uN extends wk{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function Ek(r,i){return{body:i,headers:r.headers,context:r.context,observe:r.observe,params:r.params,reportProgress:r.reportProgress,responseType:r.responseType,withCredentials:r.withCredentials}}let mm=(()=>{class r{constructor(n){this.handler=n}request(n,s,l={}){let d;if(n instanceof tC)d=n;else{let C,T;C=l.headers instanceof Pd?l.headers:new Pd(l.headers),l.params&&(T=l.params instanceof Qf?l.params:new Qf({fromObject:l.params})),d=new tC(n,s,void 0!==l.body?l.body:null,{headers:C,context:l.context,params:T,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const g=(0,m.of)(d).pipe(function(r,i){return(0,nN.zg)(r,void 0,1)}(C=>this.handler.handle(C)));if(n instanceof tC||"events"===l.observe)return g;const v=g.pipe(So(C=>C instanceof YD));switch(l.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return v.pipe((0,Gt.U)(C=>{if(null!==C.body&&!(C.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return C.body}));case"blob":return v.pipe((0,Gt.U)(C=>{if(null!==C.body&&!(C.body instanceof Blob))throw new Error("Response is not a Blob.");return C.body}));case"text":return v.pipe((0,Gt.U)(C=>{if(null!==C.body&&"string"!=typeof C.body)throw new Error("Response is not a string.");return C.body}));case"json":default:return v.pipe((0,Gt.U)(C=>C.body))}case"response":return v;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(n,s={}){return this.request("DELETE",n,s)}get(n,s={}){return this.request("GET",n,s)}head(n,s={}){return this.request("HEAD",n,s)}jsonp(n,s){return this.request("JSONP",n,{params:(new Qf).append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,s={}){return this.request("OPTIONS",n,s)}patch(n,s,l={}){return this.request("PATCH",n,Ek(l,s))}post(n,s,l={}){return this.request("POST",n,Ek(l,s))}put(n,s,l={}){return this.request("PUT",n,Ek(l,s))}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(iN))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();class dN{constructor(i,n){this.next=i,this.interceptor=n}handle(i){return this.interceptor.intercept(i,this.next)}}const hN=new u.OlP("HTTP_INTERCEPTORS");let fG=(()=>{class r{intercept(n,s){return s.handle(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();const gG=/^\)\]\}',?\n/;let fN=(()=>{class r{constructor(n){this.xhrFactory=n}handle(n){if("JSONP"===n.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new dr.y(s=>{const l=this.xhrFactory.build();if(l.open(n.method,n.urlWithParams),n.withCredentials&&(l.withCredentials=!0),n.headers.forEach((q,$)=>l.setRequestHeader(q,$.join(","))),n.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!n.headers.has("Content-Type")){const q=n.detectContentTypeHeader();null!==q&&l.setRequestHeader("Content-Type",q)}if(n.responseType){const q=n.responseType.toLowerCase();l.responseType="json"!==q?q:"text"}const d=n.serializeBody();let g=null;const v=()=>{if(null!==g)return g;const q=1223===l.status?204:l.status,$=l.statusText||"OK",we=new Pd(l.getAllResponseHeaders()),Oe=function(r){return"responseURL"in r&&r.responseURL?r.responseURL:/^X-Request-URL:/m.test(r.getAllResponseHeaders())?r.getResponseHeader("X-Request-URL"):null}(l)||n.url;return g=new bk({headers:we,status:q,statusText:$,url:Oe}),g},C=()=>{let{headers:q,status:$,statusText:we,url:Oe}=v(),Be=null;204!==$&&(Be=void 0===l.response?l.responseText:l.response),0===$&&($=Be?200:0);let tt=$>=200&&$<300;if("json"===n.responseType&&"string"==typeof Be){const ot=Be;Be=Be.replace(gG,"");try{Be=""!==Be?JSON.parse(Be):null}catch(at){Be=ot,tt&&(tt=!1,Be={error:at,text:Be})}}tt?(s.next(new YD({body:Be,headers:q,status:$,statusText:we,url:Oe||void 0})),s.complete()):s.error(new uN({error:Be,headers:q,status:$,statusText:we,url:Oe||void 0}))},T=q=>{const{url:$}=v(),we=new uN({error:q,status:l.status||0,statusText:l.statusText||"Unknown Error",url:$||void 0});s.error(we)};let R=!1;const N=q=>{R||(s.next(v()),R=!0);let $={type:ir.DownloadProgress,loaded:q.loaded};q.lengthComputable&&($.total=q.total),"text"===n.responseType&&!!l.responseText&&($.partialText=l.responseText),s.next($)},U=q=>{let $={type:ir.UploadProgress,loaded:q.loaded};q.lengthComputable&&($.total=q.total),s.next($)};return l.addEventListener("load",C),l.addEventListener("error",T),l.addEventListener("timeout",T),l.addEventListener("abort",T),n.reportProgress&&(l.addEventListener("progress",N),null!==d&&l.upload&&l.upload.addEventListener("progress",U)),l.send(d),s.next({type:ir.Sent}),()=>{l.removeEventListener("error",T),l.removeEventListener("abort",T),l.removeEventListener("load",C),l.removeEventListener("timeout",T),n.reportProgress&&(l.removeEventListener("progress",N),null!==d&&l.upload&&l.upload.removeEventListener("progress",U)),l.readyState!==l.DONE&&l.abort()}})}}return r.\u0275fac=function(n){return new(n||r)(u.LFG($c))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})();const Ck=new u.OlP("XSRF_COOKIE_NAME"),xk=new u.OlP("XSRF_HEADER_NAME");class gN{}let mG=(()=>{class r{constructor(n,s,l){this.doc=n,this.platform=s,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ai(n,this.cookieName),this.lastCookieString=n),this.lastToken}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(oe),u.LFG(u.Lbi),u.LFG(Ck))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})(),Ik=(()=>{class r{constructor(n,s){this.tokenService=n,this.headerName=s}intercept(n,s){const l=n.url.toLowerCase();if("GET"===n.method||"HEAD"===n.method||l.startsWith("http://")||l.startsWith("https://"))return s.handle(n);const d=this.tokenService.getToken();return null!==d&&!n.headers.has(this.headerName)&&(n=n.clone({headers:n.headers.set(this.headerName,d)})),s.handle(n)}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(gN),u.LFG(xk))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})(),AG=(()=>{class r{constructor(n,s){this.backend=n,this.injector=s,this.chain=null}handle(n){if(null===this.chain){const s=this.injector.get(hN,[]);this.chain=s.reduceRight((l,d)=>new dN(l,d),this.backend)}return this.chain.handle(n)}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(rN),u.LFG(u.zs3))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})(),yG=(()=>{class r{static disable(){return{ngModule:r,providers:[{provide:Ik,useClass:fG}]}}static withOptions(n={}){return{ngModule:r,providers:[n.cookieName?{provide:Ck,useValue:n.cookieName}:[],n.headerName?{provide:xk,useValue:n.headerName}:[]]}}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[Ik,{provide:hN,useExisting:Ik,multi:!0},{provide:gN,useClass:mG},{provide:Ck,useValue:"XSRF-TOKEN"},{provide:xk,useValue:"X-XSRF-TOKEN"}]}),r})(),pN=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[mm,{provide:iN,useClass:AG},fN,{provide:rN,useExisting:fN}],imports:[[yG.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),r})();function _G(r,i){if(1&r&&(u.TgZ(0,"option",25),u._uU(1),u.qZA()),2&r){const n=i.$implicit;u.Q6J("value",n),u.xp6(1),u.hij(" ",n," ")}}let mN=(()=>{class r{constructor(n,s){this.fb=n,this._http=s,this.to="geniustechdevelopment@gmail.com",this.serverLink="https://emailsp.herokuapp.com/email",this.img="",this.btncolor="",this.emailcolor="",this.formulario=this.formInit()}get services(){return this.internalservice}set services(n){if("string"==typeof n){console.log(n);const s=n.split(",");this.internalservice=s}else this.internalservice=n}formInit(){return this.fb.group({nombre:["",Ti.required],lastname:["",Ti.required],email:["",Ti.required],asunto:["New service request",Ti.required],phone:["",Ti.required],address:["",Ti.required],service:["",Ti.required],mensaje:["no extras",Ti.required],temail:[!1,Ti.required],tphone:[!1,Ti.required]})}ngOnInit(){}guardarDatosCliente(){if(this.formulario.invalid)return void eC().fire({title:"Form incomplete",text:"Please enter all the required information to proceed",icon:"error"});console.log(this.formulario.value);const U={toEmail:this.to,nombre:this.formulario.controls.nombre.value,lastname:this.formulario.controls.lastname.value,email:this.formulario.controls.email.value,asunto:this.formulario.controls.asunto.value,phone:this.formulario.controls.phone.value,address:this.formulario.controls.address.value,service:this.formulario.controls.service.value,mensaje:this.formulario.controls.mensaje.value,img:this.img,color:this.emailcolor,waytocontact:`${this.formulario.controls.tphone.value?"Phone":""}  ${this.formulario.controls.temail.value?"Email":""}`};console.log(U),this.formulario.reset({nombre:"",lastname:"",email:"",asunto:"New service request",phone:"",address:"",service:"",mensaje:"no extras",temail:!1,tphone:!1}),eC().fire({title:"Send request",showCancelButton:!0,confirmButtonText:"Send it",showLoaderOnConfirm:!0,preConfirm:q=>this._http.post(this.serverLink,U).toPromise().then($=>$).catch($=>{eC().fire({title:"Error",text:`Failed to send request ${$}`,icon:"error"})}),allowOutsideClick:()=>!eC().isLoading()}).then(q=>{q.isConfirmed&&eC().fire({title:"The request have been send"})})}}return r.\u0275fac=function(n){return new(n||r)(u.Y36(iA),u.Y36(mm))},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-form"]],inputs:{to:"to",serverLink:"serverLink",img:"img",btncolor:"btncolor",emailcolor:"emailcolor",services:"services"},decls:32,vars:5,consts:[[1,"formContent"],[1,"formContent__container"],[3,"formGroup","ngSubmit"],[1,"formContent__nameContent"],["type","text","formControlName","nombre","placeholder","Name","autofocus","",1,"formContent__name","form-control"],["type","text","formControlName","lastname","placeholder","Last Name",1,"formContent__lastName","form-control"],[1,"formContent__emailPhone"],["type","text","formControlName","email","placeholder","Email",1,"formContent__email","form-control"],["type","number","formControlName","phone","placeholder","Phone",1,"formContent__phone","form-control"],[1,"formContent__addressContent"],["type","text","formControlName","address","placeholder","Address",1,"formContent__address","form-control"],[1,"formContent__menuContent"],["formControlName","service",1,"formContent__menu","form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"formContent__checkContent"],[1,"formContent__check"],[1,"formContent__checkOpt"],["type","checkbox","name","phoneCheck","formControlName","tphone",1,"form-check-input"],["for","phoneCheck",1,"form-check-label"],["type","checkbox","name","emailCheck","formControlName","temail",1,"form-check-input"],["for","emailCheck",1,"form-check-label"],[1,"formContent__menssageContent"],["formControlName","mensaje","placeholder","Message","required","",1,"formContent__messages","form-control"],["type","submit",1,"formContent__btn"],[3,"value"]],template:function(n,s){1&n&&(u.TgZ(0,"div",0),u.TgZ(1,"div",1),u.TgZ(2,"form",2),u.NdJ("ngSubmit",function(){return s.guardarDatosCliente()}),u.TgZ(3,"div",3),u._UZ(4,"input",4),u._UZ(5,"input",5),u.qZA(),u.TgZ(6,"div",6),u._UZ(7,"input",7),u._UZ(8,"input",8),u.qZA(),u.TgZ(9,"div",9),u._UZ(10,"input",10),u.qZA(),u.TgZ(11,"div",11),u.TgZ(12,"select",12),u.TgZ(13,"option",13),u._uU(14,"Type You Services You Need"),u.qZA(),u.YNc(15,_G,2,2,"option",14),u.qZA(),u.qZA(),u.TgZ(16,"div",15),u.TgZ(17,"p"),u._uU(18,"Best Way To Contact You"),u.qZA(),u.TgZ(19,"div",16),u.TgZ(20,"div",17),u._UZ(21,"input",18),u.TgZ(22,"label",19),u._uU(23,"Phone"),u.qZA(),u.qZA(),u.TgZ(24,"div",17),u._UZ(25,"input",20),u.TgZ(26,"label",21),u._uU(27,"Email"),u.qZA(),u.qZA(),u.qZA(),u.qZA(),u.TgZ(28,"div",22),u._UZ(29,"textarea",23),u.qZA(),u.TgZ(30,"button",24),u._uU(31," Send A Message "),u.qZA(),u.qZA(),u.qZA(),u.qZA()),2&n&&(u.xp6(2),u.Q6J("formGroup",s.formulario),u.xp6(13),u.Q6J("ngForOf",s.services),u.xp6(15),u.Udp("background-color",s.btncolor))},directives:[Ms,lh,ac,mu,Un,lc,Iu,_h,Du,Fr,Bt,Pm,fr],styles:['*,*:after,*:before{padding:0;margin:0;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Open Sans","Helvetica Neue",sans-serif}.formContent{width:80%;margin:0 auto;padding:40px 0;text-align:center}.form-control{width:100%;background:#fff;border:2px solid #eee;border-radius:3px;height:45px;line-height:45px;padding:0 40px 0 10px;margin-bottom:10px;transition:.3s ease all}.form-control-error{border:3px solid #ff0000}.form-control:focus{border:3px solid #0075FF;outline:none;box-shadow:3px 0 30px #a3a3a366}.formContent__checkContent{text-align:start;padding-bottom:20px}.formContent__checkContent p{font-size:16px;font-weight:500;padding-bottom:10px}.formContent__check{display:flex}.formContent__checkOpt{margin-right:10px;margin-left:10px}.formContent__nameContent,.formContent__emailPhone{display:flex;justify-content:space-around}.formContent__name,.formContent__email{margin-right:10px}.formContent__lastName,.formContent__phone{margin-left:10px}.formContent__messages{height:100px}.formContent__btn{width:100%;height:45px;background:#0075FF;border:none;border-radius:3px;color:#fff;font-size:16px;font-weight:bold;cursor:pointer;transition:.3s ease all}.formContent__btn:hover{background:#0075FF;color:#fff;transform:scale(1.02)}@media screen and (max-width: 560px){.formContent__nameContent,.formContent__emailPhone{display:block}.formContent__name,.formContent__email,.formContent__lastName,.formContent__phone{margin:0 0 10px}}\n'],encapsulation:3}),r})();const vG=function(){return["plumming","cleaning","cutting"]};let wG=(()=>{class r{constructor(){this.list=["https://i.ibb.co/GnFsSQB/2-1.jpg","https://i.ibb.co/dg6nyqy/1-1.jpg","https://i.ibb.co/Ld1hhxJ/5-1.jpg","https://i.ibb.co/Y8TDZHp/3.jpg","https://i.ibb.co/ZYCwVmX/4-1.jpg"],this.title="elements"}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275cmp=u.Xpm({type:r,selectors:[["app-root"]],decls:2,vars:2,consts:[[2,"width","500px"],["to","alvininterscope@gmail.com","serverLink","https://emailsp.herokuapp.com/email","img","https://scandinavianwoodsinc.com/wp-content/uploads/2022/01/SCANDINAVIAN-WOODS-INC-WH.png","btncolor","rgb(33, 59, 126)","color","2",3,"services"]],template:function(n,s){1&n&&(u.TgZ(0,"div",0),u._UZ(1,"app-form",1),u.qZA()),2&n&&(u.xp6(1),u.Q6J("services",u.DdM(1,vG)))},directives:[mN],styles:[""]}),r})(),Dk=(()=>{class r{constructor(){}isBase64(n){return/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/.test(n)}base64FileExtension(n){return n.substring("data:image/".length,n.indexOf(";base64"))}orderArray(n=[],s="ASC"){return(null==n?void 0:n.length)&&s?n.sort((l,d)=>null!==l.order&&l.order?null!==d.order&&d.order?l.order>d.order?"DESC"===s?-1:1:l.order<d.order?"DESC"===s?1:-1:void 0:-1:1):n}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac}),r})(),pH=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[Dk],imports:[[Cs,pN]]}),r})(),LH=(()=>{let r=class{};return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[Cs]]}),r})();V(7444),V(4022),V(6328);let Rk,rj=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({}),r})();try{Rk="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(r){Rk=!1}let Hs=(()=>{class r{constructor(n){this._platformId=n,this.isBrowser=this._platformId?Rr(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Rk)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(u.Lbi))},r.\u0275prov=u.Yz7({factory:function(){return new r(u.LFG(u.Lbi))},token:r,providedIn:"root"}),r})(),$D=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({}),r})();const qf="undefined"!=typeof window?window:{};let Fk=(()=>{class r{create(n){return"undefined"==typeof MutationObserver?null:new MutationObserver(n)}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=u.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),VN=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[Fk]}),r})();"undefined"!=typeof Element&&Element;const XN="cdk-high-contrast-black-on-white",eP="cdk-high-contrast-white-on-black",Ok="cdk-high-contrast-active";let tP=(()=>{class r{constructor(n,s){this._platform=n,this._document=s}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const n=this._document.createElement("div");n.style.backgroundColor="rgb(1,2,3)",n.style.position="absolute",this._document.body.appendChild(n);const s=this._document.defaultView||window,l=s&&s.getComputedStyle?s.getComputedStyle(n):null,d=(l&&l.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(n),d){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const n=this._document.body.classList;n.remove(Ok),n.remove(XN),n.remove(eP),this._hasCheckedHighContrastMode=!0;const s=this.getHighContrastMode();1===s?(n.add(Ok),n.add(XN)):2===s&&(n.add(Ok),n.add(eP))}}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(Hs),u.LFG(oe))},r.\u0275prov=u.Yz7({factory:function(){return new r(u.LFG(Hs),u.LFG(oe))},token:r,providedIn:"root"}),r})();const nP=new u.GfV("12.2.8"),iP=new u.GfV("12.2.8"),Kj=new u.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let ym,Yo=(()=>{class r{constructor(n,s,l){this._hasDoneGlobalChecks=!1,this._document=l,n._applyBodyHighContrastModeCssClasses(),this._sanityChecks=s,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(n){return!(!(0,u.X6Q)()||void 0!==qf.__karma__&&qf.__karma__||void 0!==qf.jasmine&&qf.jasmine||void 0!==qf.jest&&qf.jest||void 0!==qf.Mocha&&qf.Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[n])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const n=this._document.createElement("div");n.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(n);const s=getComputedStyle(n);s&&"none"!==s.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(n)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&iP.full!==nP.full&&console.warn("The Angular Material version ("+iP.full+") does not match the Angular CDK version ("+nP.full+").\nPlease ensure the versions of these two packages exactly match.")}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(tP),u.LFG(Kj,8),u.LFG(oe))},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[_k],_k]}),r})();try{ym="undefined"!=typeof Intl}catch(r){ym=!1}let oP=(()=>{class r{isErrorState(n,s){return!!(n&&n.invalid&&(n.touched||s&&s.submitted))}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275prov=u.Yz7({factory:function(){return new r},token:r,providedIn:"root"}),r})(),aP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[Yo],Yo]}),r})(),L3=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[aP,Yo],aP,Yo]}),r})();const V3=new u.OlP("angularfire2.functions.origin"),U3=new u.OlP("angularfire2.functions.region"),G3=new u.OlP("angularfire2.functions.use-emulator");let yP=(()=>{class r{constructor(n,s,l,d,g,v,C){const T=C,R=(0,m.of)(void 0).pipe((0,bo.QV)(d.outsideAngular),Si(()=>V.e(294).then(V.bind(V,2294))),(0,Gt.U)(()=>(0,Mi.on)(n,l,s)),(0,Gt.U)(N=>(0,ke.cc)(`${N.name}.functions.${g||v}`,"AngularFireFunctions",N.name,()=>{let U;if(g&&v)throw new Error("REGION and ORIGIN can't be used at the same time.");return U=N.functions(g||v||void 0),T&&U.useEmulator(...T),U},[g,v,T])),RE({bufferSize:1,refCount:!1}));return this.httpsCallable=(N,U)=>q=>(0,Wn.D)(R).pipe((0,bo.QV)(d.insideAngular),Si($=>$.httpsCallable(N,U)(q)),(0,Gt.U)($=>$.data)),(0,Mi.pX)(this,R,l)}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(Mi.Dh),u.LFG(Mi.xv,8),u.LFG(u.R0b),u.LFG(ke.HU),u.LFG(U3,8),u.LFG(V3,8),u.LFG(G3,8))},r.\u0275prov=u.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),H3=(()=>{class r{constructor(){Vv.Z.registerVersion("angularfire",ke.q4.full,"fn-compat")}}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[yP]}),r})();V(205),V(8345);let a6=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[Yo],Yo]}),r})(),Bk=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[Cs,Yo,VN],Yo]}),r})();V(6561);let NP=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({imports:[[$D]]}),r})(),j6=(()=>{class r{}return r.\u0275fac=function(n){return new(n||r)},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[oP],imports:[[NP,Bk,Yo],NP,Bk]}),r})(),Q6=(()=>{class r{constructor(n){this.injector=n}ngDoBootstrap(){const n=ag(wG,{injector:this.injector});customElements.define("my-own-element",n);const s=ag(mN,{injector:this.injector});customElements.define("form-contact",s)}}return r.\u0275fac=function(n){return new(n||r)(u.LFG(u.zs3))},r.\u0275mod=u.oAB({type:r}),r.\u0275inj=u.cJS({providers:[{provide:CD,useValue:{dots:!0,imageSize:"cover"}}],imports:[[du,pN,Ch,Dg,Mi.hO.initializeApp(E_firebase),VS,hD.enablePersistence(),H3,eL,pH,CB,BB.forRoot(),iG,LH,rj,L3,a6,Bk,j6]]}),r})();(0,u.G48)(),$a().bootstrapModule(Q6).catch(r=>console.error(r))},4762:(We,Ee,V)=>{"use strict";V.d(Ee,{ZT:()=>ae,pi:()=>z,_T:()=>de,mG:()=>re,Jh:()=>X,XA:()=>j,CR:()=>J,ev:()=>De});var u=function(ye,pe){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ie,Ae){Ie.__proto__=Ae}||function(Ie,Ae){for(var me in Ae)Object.prototype.hasOwnProperty.call(Ae,me)&&(Ie[me]=Ae[me])})(ye,pe)};function ae(ye,pe){if("function"!=typeof pe&&null!==pe)throw new TypeError("Class extends value "+String(pe)+" is not a constructor or null");function Ie(){this.constructor=ye}u(ye,pe),ye.prototype=null===pe?Object.create(pe):(Ie.prototype=pe.prototype,new Ie)}var z=function(){return(z=Object.assign||function(pe){for(var Ie,Ae=1,me=arguments.length;Ae<me;Ae++)for(var le in Ie=arguments[Ae])Object.prototype.hasOwnProperty.call(Ie,le)&&(pe[le]=Ie[le]);return pe}).apply(this,arguments)};function de(ye,pe){var Ie={};for(var Ae in ye)Object.prototype.hasOwnProperty.call(ye,Ae)&&pe.indexOf(Ae)<0&&(Ie[Ae]=ye[Ae]);if(null!=ye&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(Ae=Object.getOwnPropertySymbols(ye);me<Ae.length;me++)pe.indexOf(Ae[me])<0&&Object.prototype.propertyIsEnumerable.call(ye,Ae[me])&&(Ie[Ae[me]]=ye[Ae[me]])}return Ie}function re(ye,pe,Ie,Ae){return new(Ie||(Ie=Promise))(function(le,He){function Xe(pt){try{gt(Ae.next(pt))}catch(et){He(et)}}function kt(pt){try{gt(Ae.throw(pt))}catch(et){He(et)}}function gt(pt){pt.done?le(pt.value):function(le){return le instanceof Ie?le:new Ie(function(He){He(le)})}(pt.value).then(Xe,kt)}gt((Ae=Ae.apply(ye,pe||[])).next())})}function X(ye,pe){var Ae,me,le,He,Ie={label:0,sent:function(){if(1&le[0])throw le[1];return le[1]},trys:[],ops:[]};return He={next:Xe(0),throw:Xe(1),return:Xe(2)},"function"==typeof Symbol&&(He[Symbol.iterator]=function(){return this}),He;function Xe(gt){return function(pt){return function(gt){if(Ae)throw new TypeError("Generator is already executing.");for(;Ie;)try{if(Ae=1,me&&(le=2&gt[0]?me.return:gt[0]?me.throw||((le=me.return)&&le.call(me),0):me.next)&&!(le=le.call(me,gt[1])).done)return le;switch(me=0,le&&(gt=[2&gt[0],le.value]),gt[0]){case 0:case 1:le=gt;break;case 4:return Ie.label++,{value:gt[1],done:!1};case 5:Ie.label++,me=gt[1],gt=[0];continue;case 7:gt=Ie.ops.pop(),Ie.trys.pop();continue;default:if(!(le=(le=Ie.trys).length>0&&le[le.length-1])&&(6===gt[0]||2===gt[0])){Ie=0;continue}if(3===gt[0]&&(!le||gt[1]>le[0]&&gt[1]<le[3])){Ie.label=gt[1];break}if(6===gt[0]&&Ie.label<le[1]){Ie.label=le[1],le=gt;break}if(le&&Ie.label<le[2]){Ie.label=le[2],Ie.ops.push(gt);break}le[2]&&Ie.ops.pop(),Ie.trys.pop();continue}gt=pe.call(ye,Ie)}catch(pt){gt=[6,pt],me=0}finally{Ae=le=0}if(5&gt[0])throw gt[1];return{value:gt[0]?gt[1]:void 0,done:!0}}([gt,pt])}}}function j(ye){var pe="function"==typeof Symbol&&Symbol.iterator,Ie=pe&&ye[pe],Ae=0;if(Ie)return Ie.call(ye);if(ye&&"number"==typeof ye.length)return{next:function(){return ye&&Ae>=ye.length&&(ye=void 0),{value:ye&&ye[Ae++],done:!ye}}};throw new TypeError(pe?"Object is not iterable.":"Symbol.iterator is not defined.")}function J(ye,pe){var Ie="function"==typeof Symbol&&ye[Symbol.iterator];if(!Ie)return ye;var me,He,Ae=Ie.call(ye),le=[];try{for(;(void 0===pe||pe-- >0)&&!(me=Ae.next()).done;)le.push(me.value)}catch(Xe){He={error:Xe}}finally{try{me&&!me.done&&(Ie=Ae.return)&&Ie.call(Ae)}finally{if(He)throw He.error}}return le}function De(ye,pe,Ie){if(Ie||2===arguments.length)for(var le,Ae=0,me=pe.length;Ae<me;Ae++)(le||!(Ae in pe))&&(le||(le=Array.prototype.slice.call(pe,0,Ae)),le[Ae]=pe[Ae]);return ye.concat(le||Array.prototype.slice.call(pe))}},8239:(We,Ee,V)=>{"use strict";function u(z,de,_e,ie,oe,re,X){try{var H=z[re](X),ne=H.value}catch(j){return void _e(j)}H.done?de(ne):Promise.resolve(ne).then(ie,oe)}function ae(z){return function(){var de=this,_e=arguments;return new Promise(function(ie,oe){var re=z.apply(de,_e);function X(ne){u(re,ie,oe,X,H,"next",ne)}function H(ne){u(re,ie,oe,X,H,"throw",ne)}X(void 0)})}}V.d(Ee,{Z:()=>ae})}},We=>{We(We.s=8709)}]);